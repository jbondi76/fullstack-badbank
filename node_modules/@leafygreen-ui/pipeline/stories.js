import*as e from"react";import n,{createContext as t,forwardRef as r,useContext as l,useState as a,useMemo as i,createRef as o}from"react";import{storybookArgTypes as s,storybookExcludedControlParams as d}from"@lg-tools/storybook-utils";import{useInView as p}from"react-intersection-observer";import c from"prop-types";import{css as f,cx as m}from"@leafygreen-ui/emotion";import{Theme as u,createUniqueClassName as g,isComponentType as h}from"@leafygreen-ui/lib";import{palette as C}from"@leafygreen-ui/palette";import{typeScales as v,transitionDuration as b}from"@leafygreen-ui/tokens";import{useMutationObserver as w}from"@leafygreen-ui/hooks";import{useDarkMode as x}from"@leafygreen-ui/leafygreen-provider";import L from"@leafygreen-ui/tooltip";import y from"@leafygreen-ui/icon/dist/ChevronRight";function E(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function N(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?E(Object(t),!0).forEach((function(n){M(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):E(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function H(e){var n=function(e,n){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof n?n:n+""}function M(e,n,t){return(n=H(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function k(){return k=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},k.apply(this,arguments)}function O(e,n){if(null==e)return{};var t,r,l=function(e,n){if(null==e)return{};var t,r,l={},a=Object.keys(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||(l[t]=e[t]);return l}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(l[t]=e[t])}return l}function S(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}function j(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,l,a,i,o=[],s=!0,d=!1;try{if(a=(t=t.call(e)).next,0===n);else for(;!(s=(r=a.call(t)).done)&&(o.push(r.value),o.length!==n);s=!0);}catch(e){d=!0,l=e}finally{try{if(!s&&null!=t.return&&(i=t.return(),Object(i)!==i))return}finally{if(d)throw l}}return o}}(e,n)||Z(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Z(e,n){if(e){if("string"==typeof e)return R(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?R(e,n):void 0}}function R(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}var z,A,P,$,B,F,T,V,X,D,I,Y,q,U,G,J,K,Q,W,_,ee,ne,te,re,le,ae,ie,oe,se,de,pe,ce,fe,me,ue,ge={XSmall:"xsmall",Small:"small",Normal:"normal",Large:"large"},he=t({theme:u.Light,size:ge.Normal,intersectionNode:null,isPipelineComponent:!1}),Ce=M(M(M(M({},ge.XSmall,{before:'data:image/svg+xml,%3Csvg width="7" height="22" viewBox="0 0 7 22" fill="none" xmlns="http://www.w3.org/2000/svg"%3E%3Cpath d="M0.20473 1.43966C-0.120489 0.775287 0.363189 0 1.10289 0H6.5V22H1.10289C0.363189 22 -0.12049 21.2247 0.204729 20.5603L3.80852 13.1983C4.48743 11.8114 4.48743 10.1886 3.80852 8.8017L0.20473 1.43966Z" fill="%23C3E7FE"/%3E%3C/svg%3E%0A',after:'data:image/svg+xml,%3Csvg width="9" height="22" viewBox="0 0 9 22" fill="none" xmlns="http://www.w3.org/2000/svg"%3E%3Cpath d="M0 0H0.90983C2.80369 0 4.53501 1.07001 5.38197 2.76393L8.38197 8.76393C9.08578 10.1716 9.08578 11.8284 8.38197 13.2361L5.38197 19.2361C4.53501 20.93 2.80369 22 0.90983 22H0V0Z" fill="%23C3E7FE"/%3E%3C/svg%3E'}),ge.Small,{before:'data:image/svg+xml,%3Csvg width="9" height="28" viewBox="0 0 9 28" fill="none" xmlns="http://www.w3.org/2000/svg"%3E%3Cpath d="M0.723608 1.44722C0.391157 0.782314 0.874652 0 1.61803 0H9V28H1.61803C0.874652 28 0.391156 27.2177 0.723607 26.5528L5.88197 16.2361C6.58578 14.8284 6.58578 13.1716 5.88197 11.7639L0.723608 1.44722Z" fill="%23C3E7FE"/%3E%3C/svg%3E%0A',after:'data:image/svg+xml,%3Csvg width="11" height="28" viewBox="0 0 11 28" fill="none" xmlns="http://www.w3.org/2000/svg"%3E%3Cpath d="M0 0H0.740465C2.61281 0 4.32824 1.04608 5.18554 2.71062L9.82088 11.7106C10.5608 13.1472 10.5608 14.8528 9.82088 16.2894L5.18554 25.2894C4.32824 26.9539 2.61281 28 0.740465 28H0V0Z" fill="%23C3E7FE"/%3E%3C/svg%3E%0A'}),ge.Normal,{before:'data:image/svg+xml,%3Csvg width="13" height="36" viewBox="0 0 13 36" fill="none" xmlns="http://www.w3.org/2000/svg"%3E%3Cpath d="M0.738496 1.45307C0.400389 0.78781 0.883717 0 1.62997 0H13V36H1.62997C0.883718 36 0.400389 35.2122 0.738496 34.5469L7.99682 20.2654C8.72033 18.8418 8.72033 17.1582 7.99682 15.7346L0.738496 1.45307Z" fill="%23C3E7FE"/%3E%3C/svg%3E%0A',after:'data:image/svg+xml,%3Csvg width="13" height="36" viewBox="0 0 13 36" fill="none" xmlns="http://www.w3.org/2000/svg"%3E%3Cpath d="M0 0H0.90983C2.80369 0 4.53501 1.07001 5.38197 2.76393L11.882 15.7639C12.5858 17.1716 12.5858 18.8284 11.882 20.2361L5.38196 33.2361C4.535 34.93 2.80369 36 0.90983 36H0V0Z" fill="%23C3E7FE"/%3E%3C/svg%3E%0A'}),ge.Large,{before:'data:image/svg+xml,%3Csvg width="13" height="48" viewBox="0 0 13 48" fill="none" xmlns="http://www.w3.org/2000/svg"%3E%3Cpath d="M0.223607 1.44721C-0.108843 0.782313 0.374652 0 1.11803 0H13V48H1.11803C0.374652 48 -0.108844 47.2177 0.223607 46.5528L10.382 26.2361C11.0858 24.8284 11.0858 23.1716 10.382 21.7639L0.223607 1.44721Z" fill="%23C3E7FE"/%3E%3C/svg%3E%0A',after:'data:image/svg+xml,%3Csvg width="15" height="48" viewBox="0 0 15 48" fill="none" xmlns="http://www.w3.org/2000/svg"%3E%3Cpath d="M0 0H0.851465C2.77563 0 4.52907 1.10416 5.36055 2.8394L14.4647 21.8394C15.1193 23.2054 15.1193 24.7946 14.4647 26.1606L5.36054 45.1606C4.52907 46.8958 2.77563 48 0.851465 48H0V0Z" fill="%23C3E7FE"/%3E%3C/svg%3E%0A'}),ve=g("pipeline"),be=g("pipeline"),we=g("pipeline"),xe=f(z||(z=S(["\n  display: flex;\n  counter-reset: hiddenCount;\n  font-weight: 600;\n"]))),Le=f(A||(A=S(["\n  display: flex;\n  flex-grow: 1;\n  flex-wrap: wrap;\n  overflow: hidden;\n  list-style: none;\n  padding: 0;\n  margin: 0;\n  min-width: 74px;\n"]))),ye=M(M(M(M({},ge.XSmall,f(P||(P=S(["\n    font-size: ","px;\n    height: 22px;\n  "])),v.body1.fontSize)),ge.Small,f($||($=S(["\n    font-size: ","px;\n    height: 28px;\n  "])),v.body1.fontSize)),ge.Normal,f(B||(B=S(["\n    font-size: ","px;\n    height: 36px;\n  "])),v.body1.fontSize)),ge.Large,f(F||(F=S(["\n    font-size: 18px;\n    height: 48px;\n  "])))),Ee=f(T||(T=S(["\n  display: flex;\n"]))),Ne=f(V||(V=S(["\n  position: absolute;\n  width: 100%;\n  height: calc(100% + 10px);\n  display: flex;\n"]))),He=f(X||(X=S(["\n  width: 50%;\n  position: relative;\n  overflow: hidden;\n"]))),Me=M(M(M(M({},ge.XSmall,f(D||(D=S(["\n    min-width: 44px;\n    margin-left: -6px;\n\n    &::before {\n      padding: 0 18px;\n    }\n  "])))),ge.Small,f(I||(I=S(["\n    min-width: 48px;\n    margin-left: -8px;\n\n    &::before {\n      padding: 0 21px;\n    }\n  "])))),ge.Normal,f(Y||(Y=S(["\n    min-width: 54px;\n    margin-left: -9px;\n\n    &::before {\n      padding: 0 23px;\n    }\n  "])))),ge.Large,f(q||(q=S(["\n    min-width: 66px;\n    margin-left: -11px;\n\n    &::before {\n      padding: 0px 28px;\n    }\n  "])))),ke=m(f(U||(U=S(["\n    display: none;\n    flex-grow: 1;\n    align-items: center;\n    justify-content: center;\n    position: relative;\n    margin-left: -11px;\n    &::before {\n      white-space: nowrap;\n      content: '+' counter(hiddenCount);\n      z-index: 1;\n    }\n\n    ."," {\n      transition: all ","ms ease-in-out;\n    }\n\n    .",", ."," {\n      fill: rgba(255, 255, 255, 0);\n      transition: all ","ms ease-in-out;\n    }\n\n    &:focus-visible,\n    &:focus {\n      outline: none;\n    }\n  "])),we,b.slower,ve,be,b.slower)),Oe=f(G||(G=S(["\n  position: absolute;\n  top: 50%;\n  transform: translate(0%, -50%);\n"]))),Se=m(Oe,f(J||(J=S(["\n    left: 0;\n  "])))),je=m(Oe,f(K||(K=S(["\n    right: 0;\n  "])))),Ze=M(M({},u.Light,f(Q||(Q=S(["\n    color: ",";\n\n    ."," {\n      fill: ",";\n    }\n\n    &:focus-visible {\n      ."," {\n        fill: ",";\n      }\n    }\n\n    &:hover {\n      ."," {\n        fill: ",";\n      }\n      ."," {\n        fill: ",";\n      }\n    }\n  "])),C.blue.dark1,we,C.blue.light3,be,C.blue.light1,ve,C.blue.light3,we,C.blue.light2)),u.Dark,f(W||(W=S(["\n    color: ",";\n\n    ."," {\n      fill: ",";\n    }\n\n    &:focus-visible {\n      ."," {\n        fill: ",";\n      }\n    }\n\n    &:hover {\n      ."," {\n        fill: ",";\n      }\n      ."," {\n        fill: ",";\n      }\n    }\n  "])),C.blue.light2,we,C.blue.dark2,be,C.blue.light1,ve,C.blue.dark2,we,C.blue.dark1)),Re=f(_||(_=S(["\n  display: flex;\n  height: 100%;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n"]))),ze=M(M(M(M({},ge.XSmall,f(ee||(ee=S(["\n    padding: 0 6px;\n  "])))),ge.Small,f(ne||(ne=S(["\n    padding: 0 6px;\n  "])))),ge.Normal,f(te||(te=S(["\n    padding: 0 8px;\n  "])))),ge.Large,f(re||(re=S(["\n    padding: 0 12px;\n  "])))),Ae=M(M({},u.Light,f(le||(le=S(["\n    background-color: ",";\n    color: ",";\n  "])),C.blue.light2,C.blue.dark1)),u.Dark,f(ae||(ae=S(["\n    background-color: ",";\n    color: ",";\n  "])),C.blue.dark1,C.blue.light2)),Pe=m(f(ie||(ie=S(["\n    display: flex;\n    flex-grow: 1;\n    height: 100%;\n\n    &[data-stage-visible='false'] {\n      counter-increment: hiddenCount;\n    }\n\n    &::before,\n    &::after {\n      content: '';\n      display: inline-block;\n      flex-shrink: 0;\n      position: relative;\n      height: 100%;\n    }\n\n    &:first-of-type {\n      span {\n        border-top-left-radius: 5px;\n        border-bottom-left-radius: 5px;\n      }\n    }\n  "])))),$e=M(M({},u.Dark,f(oe||(oe=S(["\n    &:not(&:first-of-type) {\n      &::before {\n        background: ",";\n        right: -1px;\n      }\n    }\n    &::after {\n      background: ",";\n      left: -1px;\n    }\n  "])),C.blue.dark1,C.blue.dark1)),u.Light,f(se||(se=S(["\n    &:not(&:first-of-type) {\n      &::before {\n        background: ",";\n        right: -1px;\n      }\n    }\n    &::after {\n      background: ",";\n      left: -1px;\n    }\n  "])),C.blue.light2,C.blue.light2)),Be=M(M(M(M({},ge.XSmall,f(de||(de=S(["\n    &:first-of-type {\n      span {\n        padding-left: 10px;\n      }\n    }\n    &:not(&:first-of-type) {\n      margin-left: -3px;\n      &::before {\n        mask: url('","');\n        width: 7px;\n      }\n    }\n    &::after {\n      mask: url('","');\n      width: 9px;\n    }\n  "])),Ce[ge.XSmall].before,Ce[ge.XSmall].after)),ge.Small,f(pe||(pe=S(["\n    &:first-of-type {\n      span {\n        padding-left: 10px;\n      }\n    }\n    &:not(&:first-of-type) {\n      margin-left: -6px;\n      &::before {\n        mask: url('","');\n        width: 9px;\n      }\n    }\n    &::after {\n      mask: url('","');\n      width: 11px;\n    }\n  "])),Ce[ge.Small].before,Ce[ge.Small].after)),ge.Normal,f(ce||(ce=S(["\n    &:first-of-type {\n      span {\n        padding-left: 12px;\n      }\n    }\n    &:not(&:first-of-type) {\n      margin-left: -7px;\n      &::before {\n        mask: url('","');\n        width: 13px;\n      }\n    }\n    &::after {\n      mask: url('","');\n      width: 13px;\n    }\n  "])),Ce[ge.Normal].before,Ce[ge.Normal].after)),ge.Large,f(fe||(fe=S(["\n    &:first-of-type {\n      span {\n        padding-left: 15px;\n      }\n    }\n    &:not(&:first-of-type) {\n      margin-left: -8px;\n      &::before {\n        mask: url('","');\n        width: 13px;\n      }\n    }\n    &::after {\n      mask: url('","');\n      width: 15px;\n    }\n  "])),Ce[ge.Large].before,Ce[ge.Large].after)),Fe=f(me||(me=S(["\n  max-width: 400px;\n"]))),Te=f(ue||(ue=S(["\n  display: flex;\n  flex-wrap: wrap;\n  align-items: center;\n  gap: 2px;\n\n  span {\n    display: inline-flex;\n  }\n"]))),Ve=["children","className","threshold"],Xe=r((function(e,t){var r=e.children,a=e.className,i=void 0===a?"":a,o=e.threshold,s=void 0===o?.8:o,d=O(e,Ve),c=l(he),f=c.theme,u=c.size,g=c.isPipelineComponent,h=c.intersectionNode,C=j(p({threshold:s,root:h}),2),v=C[0],b=C[1];if(!g)throw Error("`Stage` must be a child of a `Pipeline` instance");return n.createElement("li",k({},d,{ref:t,"data-stage-visible":b,className:m(Pe,$e[f],Be[u],i),"data-testid":"pipeline-stage"}),n.createElement("span",{ref:v,className:m(Re,ze[u],Ae[f]),"data-testid":"pipeline-stage-item"},r))}));Xe.displayName="Stage",Xe.propTypes={children:c.node.isRequired,className:c.string,threshold:c.oneOfType([c.number,c.arrayOf(c.number.isRequired)])};var De=["className","children"],Ie=M(M(M(M({},ge.XSmall,(function(n){var t=n.className;return e.createElement("svg",{width:"44",height:"30",viewBox:"0 0 44 30",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:t,preserveAspectRatio:"xMaxYMid slice"},e.createElement("path",{d:"M4.11193 5.45714C3.76988 4.79164 4.25308 4 5.00133 4H31.2485C33.1382 4 34.8664 5.06528 35.7154 6.75342L38.7331 12.7534C39.4439 14.1668 39.4439 15.8332 38.7331 17.2466L35.7154 23.2466C34.8664 24.9347 33.1382 26 31.2485 26H5.00133C4.25308 26 3.76988 25.2084 4.11193 24.5429L7.84202 17.2857C8.57938 15.8511 8.57938 14.1489 7.84202 12.7143L4.11193 5.45714Z",className:we}),e.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.00399 2C2.75924 2 1.30964 4.37493 2.3358 6.37141L6.06589 13.6286C6.5083 14.4893 6.5083 15.5107 6.06589 16.3714L2.3358 23.6286C1.30964 25.6251 2.75923 28 5.00399 28H31.2512C33.8967 28 36.3162 26.5086 37.5048 24.1452L40.5225 18.1452C41.5177 16.1665 41.5177 13.8335 40.5225 11.8548L37.5048 5.85478C36.3162 3.49139 33.8967 2 31.2512 2H5.00399ZM5.00133 4C4.25308 4 3.76988 4.79165 4.11193 5.45714L7.84202 12.7143C8.57938 14.1489 8.57938 15.8511 7.84202 17.2857L4.11193 24.5429C3.76988 25.2084 4.25308 26 5.00133 26H31.2485C33.1382 26 34.8664 24.9347 35.7154 23.2466L38.7331 17.2466C39.4439 15.8332 39.4439 14.1668 38.7331 12.7534L35.7154 6.75342C34.8664 5.06528 33.1382 4 31.2485 4H5.00133Z",className:ve}),e.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.00665 0C1.2654 0 -1.1506 3.95822 0.559665 7.28569L4.28975 14.5429C4.43723 14.8298 4.43722 15.1702 4.28975 15.4571L0.559665 22.7143C-1.1506 26.0418 1.26539 30 5.00665 30H31.2539C34.6552 30 37.7659 28.0825 39.2942 25.0439L42.3119 19.0439C43.5914 16.4998 43.5914 13.5002 42.3119 10.9562L39.2942 4.95615C37.7659 1.9175 34.6552 0 31.2539 0H5.00665ZM5.00399 2C2.75924 2 1.30964 4.37493 2.3358 6.37141L6.06589 13.6286C6.5083 14.4893 6.5083 15.5107 6.06589 16.3714L2.3358 23.6286C1.30964 25.6251 2.75923 28 5.00399 28H31.2512C33.8967 28 36.3162 26.5086 37.5048 24.1452L40.5225 18.1452C41.5177 16.1665 41.5177 13.8335 40.5225 11.8548L37.5048 5.85478C36.3162 3.49139 33.8967 2 31.2512 2H5.00399Z",className:be}))})),ge.Small,(function(n){var t=n.className;return e.createElement("svg",{width:"48",height:"36",viewBox:"0 0 48 36",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:t,preserveAspectRatio:"xMaxYMid slice"},e.createElement("path",{d:"M4.10489 5.44327C3.77622 4.77863 4.25982 4 5.00127 4H34.275C36.1655 4 37.8944 5.06629 38.743 6.75567L43.2638 15.7557C43.9732 17.1678 43.9732 18.8322 43.2638 20.2443L38.743 29.2443C37.8944 30.9337 36.1655 32 34.275 32H5.00127C4.25982 32 3.77622 31.2214 4.10489 30.5567L9.21826 20.2163C9.90901 18.8195 9.90901 17.1805 9.21826 15.7837L4.10489 5.44327Z",className:we}),e.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.31466 6.32981C1.32866 4.3359 2.77945 2 5.00382 2H34.2776C36.9243 2 39.3447 3.49281 40.5327 5.85793L45.0536 14.8579C46.0466 16.8349 46.0466 19.1651 45.0536 21.1421L40.5327 30.1421C39.3447 32.5072 36.9243 34 34.2776 34H5.00382C2.77945 34 1.32866 31.6641 2.31466 29.6702L7.42804 19.3298C7.84248 18.4917 7.84248 17.5083 7.42804 16.6702L2.31466 6.32981ZM5.00382 4C4.26237 4 3.77877 4.77863 4.10744 5.44327L9.22081 15.7837C9.91156 17.1805 9.91156 18.8195 9.22081 20.2163L4.10744 30.5567C3.77877 31.2214 4.26237 32 5.00382 32H34.2776C36.1681 32 37.897 30.9337 38.7455 29.2443L43.2664 20.2443C43.9757 18.8322 43.9757 17.1678 43.2664 15.7557L38.7456 6.75567C37.897 5.06629 36.1681 4 34.2776 4H5.00382Z",className:ve}),e.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M42.3225 31.0398L46.8433 22.0398C48.1201 19.498 48.1201 16.502 46.8433 13.9602L42.3225 4.96021C40.795 1.91943 37.6831 0 34.2801 0H5.00637C1.29907 0 -1.1189 3.89307 0.524438 7.21631L5.63781 17.5566C5.77596 17.8362 5.77596 18.1638 5.63781 18.4434L0.524438 28.7837C-1.1189 32.1069 1.29907 36 5.00637 36H34.2801C37.6831 36 40.795 34.0806 42.3225 31.0398ZM2.31466 6.32981C1.32866 4.3359 2.77945 2 5.00382 2H34.2776C36.9243 2 39.3447 3.49281 40.5327 5.85793L45.0536 14.8579C46.0466 16.8349 46.0466 19.1651 45.0536 21.1421L40.5327 30.1421C39.3447 32.5072 36.9243 34 34.2776 34H5.00382C2.77945 34 1.32866 31.6641 2.31466 29.6702L7.42804 19.3298C7.84248 18.4917 7.84248 17.5083 7.42804 16.6702L2.31466 6.32981Z",className:be}))})),ge.Normal,(function(n){var t=n.className;return e.createElement("svg",{width:"54",height:"44",viewBox:"0 0 54 44",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:t,preserveAspectRatio:"xMaxYMid slice"},e.createElement("path",{d:"M4.11698 5.46676C3.76551 4.8008 4.24835 4 5.00137 4H37.4848C39.3536 4 41.0664 5.04214 41.9254 6.70183L48.6535 19.7018C49.3994 21.1431 49.3994 22.8569 48.6535 24.2982L41.9254 37.2982C41.0664 38.9579 39.3536 40 37.4848 40H5.00137C4.24835 40 3.76551 39.1992 4.11698 38.5332L11.6111 24.3338C12.3819 22.8734 12.3819 21.1266 11.6111 19.6662L4.11698 5.46676Z",className:we}),e.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.35095 6.40028C1.29652 4.40241 2.74506 2 5.0041 2H37.4876C40.1039 2 42.5018 3.459 43.7043 5.78256L50.4324 18.7826C51.4767 20.8004 51.4767 23.1996 50.4324 25.2174L43.7043 38.2175C42.5018 40.541 40.1039 42 37.4876 42H5.0041C2.74506 42 1.29652 39.5976 2.35095 37.5997L9.8451 23.4003C10.3076 22.524 10.3076 21.476 9.8451 20.5997L2.35095 6.40028ZM5.0041 4C4.25109 4 3.76824 4.80081 4.11971 5.46676L11.6139 19.6662C12.3846 21.1266 12.3846 22.8734 11.6139 24.3338L4.11971 38.5332C3.76824 39.1992 4.25109 40 5.0041 40H37.4876C39.3564 40 41.0692 38.9579 41.9281 37.2982L48.6562 24.2982C49.4021 22.8569 49.4021 21.1431 48.6562 19.7018L41.9281 6.70183C41.0692 5.04214 39.3564 4 37.4876 4H5.0041Z",className:ve}),e.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.00683 0C1.24177 0 -1.17247 4.00402 0.584909 7.33379L8.07906 21.5332C8.23322 21.8253 8.23322 22.1747 8.07906 22.4668L0.584907 36.6662C-1.17247 39.996 1.24176 44 5.00683 44H37.4903C40.8541 44 43.9371 42.1241 45.4833 39.1367L52.2114 26.1367C53.5541 23.5423 53.5541 20.4577 52.2114 17.8633L45.4833 4.86329C43.9372 1.87586 40.8541 0 37.4903 0H5.00683ZM2.35094 6.40028C1.29652 4.40241 2.74506 2 5.0041 2H37.4876C40.1039 2 42.5018 3.459 43.7043 5.78256L50.4324 18.7826C51.4767 20.8004 51.4767 23.1996 50.4324 25.2174L43.7043 38.2175C42.5018 40.541 40.1039 42 37.4876 42H5.0041C2.74506 42 1.29652 39.5976 2.35094 37.5997L2.35154 37.5986L9.8451 23.4003C10.3076 22.524 10.3076 21.476 9.8451 20.5997L2.35094 6.40028Z",className:be}))})),ge.Large,(function(n){var t=n.className;return e.createElement("svg",{width:"66",height:"56",viewBox:"0 0 66 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:t,preserveAspectRatio:"xMaxYMid slice"},e.createElement("path",{d:"M4.10631 5.44611C3.77492 4.78128 4.25844 4 5.00129 4H46.9582C48.8632 4 50.6026 5.08246 51.444 6.79152L60.7982 25.7915C61.4838 27.184 61.4838 28.816 60.7982 30.2085L51.444 49.2085C50.6026 50.9175 48.8632 52 46.9582 52H5.00129C4.25844 52 3.77492 51.2187 4.10631 50.5539L14.2366 30.2305C14.9368 28.8259 14.9368 27.1741 14.2366 25.7695L4.10631 5.44611Z",className:we}),e.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.31892 6.33832C1.32475 4.34383 2.77534 2 5.00386 2H46.9608C49.6277 2 52.063 3.51544 53.2409 5.90813L62.5951 24.9081C63.5549 26.8576 63.5549 29.1424 62.5951 31.0919L53.2409 50.0919C52.063 52.4846 49.6277 54 46.9608 54H5.00386C2.77533 54 1.32476 51.6562 2.31892 49.6617L12.4492 29.3383C12.8693 28.4956 12.8693 27.5044 12.4492 26.6617L2.31892 6.33832ZM5.00386 4C4.26102 4 3.77749 4.78128 4.10888 5.44611L14.2392 25.7695C14.9393 27.1741 14.9393 28.8259 14.2392 30.2305L4.10888 50.5539C3.77749 51.2187 4.26102 52 5.00386 52H46.9608C48.8657 52 50.6052 50.9175 51.4466 49.2085L60.8008 30.2085C61.4863 28.816 61.4863 27.184 60.8008 25.7915L51.4466 6.79152C50.6052 5.08246 48.8657 4 46.9608 4H5.00386Z",className:ve}),e.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M55.0378 50.9753L64.392 31.9753C65.626 29.4688 65.626 26.5312 64.392 24.0247L55.0378 5.02466C53.5233 1.94849 50.3923 0 46.9633 0H5.00642C1.29223 0 -1.12541 3.90649 0.531538 7.23047L10.6618 27.554C10.8019 27.8347 10.8019 28.1653 10.6618 28.446L0.531538 48.7695C-1.1254 52.0935 1.29222 56 5.00642 56H46.9633C50.3923 56 53.5233 54.0515 55.0378 50.9753ZM2.31892 6.33832C1.32475 4.34383 2.77534 2 5.00386 2H46.9608C49.6277 2 52.063 3.51544 53.2409 5.90813L62.5951 24.9081C63.5549 26.8576 63.5549 29.1424 62.5951 31.0919L53.2409 50.0919C52.063 52.4846 49.6277 54 46.9608 54H5.00386C2.77533 54 1.32476 51.6562 2.31892 49.6617L12.4492 29.3383C12.8693 28.4956 12.8693 27.5044 12.4492 26.6617L2.31892 6.33832Z",className:be}))})),Ye=r((function(e,t){var r=e.className,a=void 0===r?"":r,i=e.children,o=O(e,De),s=l(he),d=s.theme,p=s.size,c=Ie[p];return n.createElement("div",k({},o,{"data-testid":"pipeline-counter",className:m(ke,Me[p],Ze[d],a),ref:t,tabIndex:0}),n.createElement("div",{className:Ne},n.createElement("div",{className:He},n.createElement(c,{className:Se})),n.createElement("div",{className:He},n.createElement(c,{className:je}))),i)}));Ye.displayName="Counter",Ye.propTypes={children:c.node,className:c.string};var qe=function(e){var t=e.hiddenStages;return n.createElement("div",{className:Te},t.map((function(e,r){return 0===r?n.createElement("span",{key:"".concat(t[r],"-").concat(r)},e):n.createElement(n.Fragment,{key:"".concat(t[r],"-").concat(r)},n.createElement("span",null,n.createElement(y,{size:12,fill:C.gray.base})),n.createElement("span",null,e)," ")})))};qe.displayName="TooltipText";var Ue=["children","className","size","darkMode"],Ge=["children"],Je=r((function(e,t){var r=e.children,l=e.className,s=void 0===l?"":l,d=e.size,p=void 0===d?ge.Normal:d,c=e.darkMode,f=O(e,Ue),u=x(c),g=u.theme,C=u.darkMode,v=j(a(null),2),b=v[0],y=v[1],E=j(a([]),2),H=E[0],S=E[1],Z=i((function(){return{theme:g,size:p,isPipelineComponent:!0,intersectionNode:b}}),[b,p,g]);w(b,{childList:!0,subtree:!0,attributes:!0},(function(e){var n,t=e.map((function(e){return e.type}));(e.map((function(e){return e.attributeName})).includes("data-stage-visible")||t.includes("childList"))&&(n=(Array.from(b.children)||[]).filter((function(e){return"false"===e.dataset.stageVisible})).map((function(e){return e.textContent})),S(n))}));var R=n.Children.map(r,(function(e){var t={ref:o()};if(h(e,"Stage")){var r=e.props,l=r.children,a=O(r,Ge),i=N(N({},t),a);return n.createElement(Xe,i,l)}return n.createElement(Xe,t,e)}));return n.createElement(he.Provider,{value:Z},n.createElement("div",k({},f,{"data-testid":"pipeline",ref:t,className:m(ye[p],xe,s)}),n.createElement("ol",{ref:y,"data-testid":"pipeline-stages",className:m(Le)},R),n.createElement(L,{align:"top",justify:"middle",trigger:n.createElement(Ye,{className:m(M({},Ee,!!H.length))}),triggerEvent:"hover",darkMode:C,className:Fe},n.createElement(qe,{hiddenStages:H}))))}));Je.displayName="Pipeline",Je.propTypes={children:c.node,className:c.string,size:c.oneOf(Object.values(ge)).isRequired,darkMode:c.bool};var Ke,Qe={title:"Components/Pipeline",component:Je,parameters:{default:"LiveExample",controls:{exclude:[].concat((Ke=d,function(e){if(Array.isArray(e))return R(e)}(Ke)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(Ke)||Z(Ke)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),["children"])},generate:{combineArgs:{darkMode:[!1,!0],size:Object.values(ge),children:[["$match","$group","$project","$addFields"],["$match","$group","$project","$addFields","$limit","$foobar","$barbaz","$loremipsum","$doloramet"]]}}},args:{darkMode:!1,size:ge.Normal,children:["$match","$group","$project","$addFields","$limit"].map((function(e,t){return n.createElement(Xe,{key:"".concat(e,"-").concat(t)},e)}))},argTypes:{darkMode:s.darkMode,size:{control:"select",options:Object.values(ge)}}},We=function(e){var t=k({},(function(e){if(null==e)throw new TypeError("Cannot destructure "+e)}(e),e));return n.createElement(Je,t)};We.parameters={chromatic:{disableSnapshot:!0}};var _e=function(){};export{_e as Generated,We as LiveExample,Qe as default};
