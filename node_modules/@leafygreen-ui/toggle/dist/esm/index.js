import n,{useState as e,useCallback as r}from"react";import t from"prop-types";import{validateAriaLabelProps as o}from"@leafygreen-ui/a11y";import{css as a,cx as l}from"@leafygreen-ui/emotion";import i from"@leafygreen-ui/icon/dist/Checkmark";import{useDarkMode as c}from"@leafygreen-ui/leafygreen-provider";import{createUniqueClassName as d,Theme as s}from"@leafygreen-ui/lib";import{palette as u}from"@leafygreen-ui/palette";import{transitionDuration as b,hoverRing as f,focusRing as h}from"@leafygreen-ui/tokens";import{getByLgId as g}from"@lg-tools/test-harnesses";function p(n){var e=function(n,e){if("object"!=typeof n||!n)return n;var r=n[Symbol.toPrimitive];if(void 0!==r){var t=r.call(n,e||"default");if("object"!=typeof t)return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"==typeof e?e:e+""}function m(n,e,r){return(e=p(e))in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}function k(){return k=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}return n},k.apply(this,arguments)}function y(n,e){if(null==n)return{};var r,t,o=function(n,e){if(null==n)return{};var r,t,o={},a=Object.keys(n);for(t=0;t<a.length;t++)r=a[t],e.indexOf(r)>=0||(o[r]=n[r]);return o}(n,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(t=0;t<a.length;t++)r=a[t],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(n,r)&&(o[r]=n[r])}return o}function v(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}function w(n,e){return function(n){if(Array.isArray(n))return n}(n)||function(n,e){var r=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=r){var t,o,a,l,i=[],c=!0,d=!1;try{if(a=(r=r.call(n)).next,0===e){if(Object(r)!==r)return;c=!1}else for(;!(c=(t=a.call(r)).done)&&(i.push(t.value),i.length!==e);c=!0);}catch(n){d=!0,o=n}finally{try{if(!c&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(d)throw o}}return i}}(n,e)||function(n,e){if(!n)return;if("string"==typeof n)return x(n,e);var r=Object.prototype.toString.call(n).slice(8,-1);"Object"===r&&n.constructor&&(r=n.constructor.name);if("Map"===r||"Set"===r)return Array.from(n);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return x(n,e)}(n,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(n,e){(null==e||e>n.length)&&(e=n.length);for(var r=0,t=new Array(e);r<e;r++)t[r]=n[r];return t}var O,j,S,C,D,N,A,P,z,E,I,M,T,U,X,L="lg-toggle",W={Default:"default",Small:"small",XSmall:"xsmall"},V=d("toggle-button"),$={checked:".".concat(V,'[aria-checked="true"]'),unchecked:".".concat(V,'[aria-checked="false"]'),disabled:".".concat(V,":disabled")},q={checked:"".concat($.checked," > &"),unchecked:"".concat($.unchecked," > &"),disabled:"".concat($.disabled," > &")},B={checked:"".concat($.checked,":not(:disabled) &"),unchecked:"".concat($.unchecked,":not(:disabled) &"),disabledChecked:"".concat($.checked,":disabled &"),disabledUnchecked:"".concat($.unchecked,":disabled &")},F=a(O||(O=v(["\n  transition: ","ms all ease-in-out,\n    0s background-color linear;\n  display: inline-block;\n  flex-shrink: 0;\n  position: relative;\n  padding: 0;\n  border-radius: 50px;\n  border: 1px solid;\n  cursor: pointer;\n\n  &:disabled {\n    cursor: not-allowed;\n  }\n\n  &:focus {\n    outline: none;\n  }\n\n  &[aria-checked='true'] {\n    transition-delay: ","ms;\n\n    &:before {\n      transform: scale(1);\n      opacity: 1;\n    }\n  }\n\n  // We're animating this pseudo-element in order to give the toggle groove\n  // background an animation in and out.\n  &:before {\n    content: '';\n    transition: ","ms all ease-in-out;\n    position: absolute;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    border-radius: 50px;\n    opacity: 0;\n    transform: scale(0.85);\n  }\n\n  &:disabled:before {\n    opacity: 0;\n  }\n"])),b.default,b.default,b.default),G=a(j||(j=v(["\n  transition: all ","ms ease-in-out;\n  border-radius: 100%;\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  margin: auto;\n  overflow: hidden;\n  transform: translate3d(0, 0, 0);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  &:before,\n  &:after {\n    content: '';\n    position: absolute;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    right: 0;\n  }\n\n  "," {\n    &:before,\n    &:after {\n      content: none;\n    }\n  }\n"])),b.default,q.disabled),H=m(m(m({},W.Default,a(S||(S=v(["\n    height: 32px;\n    width: 56px;\n  "])))),W.Small,a(C||(C=v(["\n    height: 22px;\n    width: 40px;\n  "])))),W.XSmall,a(D||(D=v(["\n    height: 14px;\n    width: 24px;\n  "])))),J=m(m(m({},W.Default,a(N||(N=v(["\n    height: 28px;\n    width: 28px;\n    left: 1px;\n\n    "," {\n      transform: translate3d(24px, 0, 0);\n    }\n  "])),q.checked)),W.Small,a(A||(A=v(["\n    height: 18px;\n    width: 18px;\n    left: 1px;\n\n    "," {\n      transform: translate3d(18px, 0, 0);\n    }\n  "])),q.checked)),W.XSmall,a(P||(P=v(["\n    height: 12px;\n    width: 12px;\n\n    "," {\n      transform: translate3d(10px, 0, 0);\n    }\n  "])),q.checked)),K=m(m({},s.Light,a(z||(z=v(["\n    &[aria-checked='false']:not(:disabled) {\n      background-color: ",";\n      border-color: ",";\n    }\n\n    &[aria-checked='true'] {\n      // We set background-color here to avoid a small issue with overflow clipping\n      // that makes this look less seamless than it should.\n      background-color: ",";\n      border-color: ",";\n    }\n\n    &:disabled {\n      background-color: ",";\n      border-color: ",";\n    }\n\n    &:before {\n      background-color: ",";\n    }\n\n    &:hover:not(:disabled) {\n      box-shadow: ",";\n    }\n\n    &:focus-visible:not(:disabled) {\n      box-shadow: ",";\n    }\n  "])),u.gray.base,u.gray.base,u.blue.base,u.blue.base,u.gray.light2,u.gray.light2,u.blue.base,f.light.gray,h.light.default)),s.Dark,a(E||(E=v(["\n    &[aria-checked='false']:not(:disabled) {\n      background-color: ",";\n      border-color: ",";\n    }\n\n    &[aria-checked='true'] {\n      // We set background-color here to avoid a small issue with overflow clipping\n      // that makes this look less seamless than it should.\n      background-color: ",";\n      border-color: ",";\n    }\n\n    &:disabled {\n      background-color: ",";\n      border-color: ",";\n    }\n\n    &:before {\n      background-color: ",";\n    }\n\n    &:hover:not(:disabled) {\n      box-shadow: ",";\n    }\n\n    &:focus-visible:not(:disabled) {\n      box-shadow: ",";\n    }\n  "])),u.gray.dark1,u.gray.dark1,u.blue.light1,u.blue.light1,u.gray.dark2,u.gray.dark2,u.blue.light1,f.dark.gray,h.dark.default)),Q=m(m({},s.Light,a(I||(I=v(["\n    background-color: ",";\n\n    "," {\n      background-color: ",";\n    }\n  "])),u.white,q.disabled,u.gray.light3)),s.Dark,a(M||(M=v(["\n    background-color: ",";\n\n    "," {\n      background-color: ",";\n    }\n  "])),u.white,q.disabled,u.gray.dark1)),R=a(T||(T=v(["\n  display: flex;\n  transition: color ","ms ease-in-out;\n"])),b.default),Y=m(m({},s.Dark,a(U||(U=v(["\n    "," {\n      color: ",";\n    }\n\n    "," {\n      color: ",";\n    }\n\n    "," {\n      color: ",";\n    }\n\n    "," {\n      color: ",";\n    }\n  "])),B.checked,u.blue.light1,B.unchecked,u.white,B.disabledChecked,u.gray.dark2,B.disabledUnchecked,u.gray.dark1)),s.Light,a(X||(X=v(["\n    "," {\n      color: ",";\n    }\n\n    "," {\n      color: ",";\n    }\n\n    "," {\n      color: ",";\n    }\n\n    "," {\n      color: ",";\n    }\n  "])),B.checked,u.blue.base,B.unchecked,u.white,B.disabledChecked,u.gray.light1,B.disabledUnchecked,u.gray.light3)),Z=m(m({},W.Default,16),W.Small,14),_=["className","size","darkMode","disabled","onChange","onClick","checked","data-lgid"];function nn(t){var a=t.className,d=t.size,s=void 0===d?W.Default:d,u=t.darkMode,b=t.disabled,f=void 0!==b&&b,h=t.onChange,g=t.onClick,p=t.checked,m=t["data-lgid"],v=void 0===m?L:m,x=y(t,_);o(x,nn.displayName);var O=c(u).theme,j=w(e(!1),2),S=j[0],C=j[1],D="boolean"==typeof p,N=null!=p?p:S,A=r((function(n){null==g||g(n),D?null==h||h(!p,n):C((function(e){var r=!e;return null==h||h(r,n),r}))}),[D,p,g,h]);return n.createElement("button",k({role:"switch",type:"button",onClick:A,"aria-checked":N,disabled:f,"aria-disabled":f,className:l(a,V,F,K[O],H[s]),"data-lgid":v},x),n.createElement("div",{className:l(G,J[s],Q[O])},s!==W.XSmall&&n.createElement(i,{"aria-hidden":!0,className:l(R,Y[O]),size:Z[s]})))}nn.displayName="Toggle",nn.propTypes={size:t.oneOf(Object.values(W)),darkMode:t.bool,checked:t.bool,disabled:t.bool,className:t.string,onChange:t.func,onClick:t.func};var en=function(){var n=g(arguments.length>0&&void 0!==arguments[0]?arguments[0]:L);return{getInput:function(){return n},isDisabled:function(){return"true"===n.getAttribute("aria-disabled")},getInputValue:function(){return"true"===n.getAttribute("aria-checked")}}};export{W as Size,nn as default,en as getTestUtils};
//# sourceMappingURL=index.js.map
