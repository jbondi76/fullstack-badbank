import e,{useState as n,useCallback as r}from"react";import{css as t,cx as o}from"@leafygreen-ui/emotion";import{palette as a}from"@leafygreen-ui/palette";import l from"prop-types";import{validateAriaLabelProps as i}from"@leafygreen-ui/a11y";import c from"@leafygreen-ui/icon/dist/Checkmark";import{useDarkMode as d}from"@leafygreen-ui/leafygreen-provider";import{createUniqueClassName as s,Theme as u}from"@leafygreen-ui/lib";import{transitionDuration as b,hoverRing as f,focusRing as h}from"@leafygreen-ui/tokens";import"@lg-tools/test-harnesses";function g(e){var n=function(e,n){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var t=r.call(e,n||"default");if("object"!=typeof t)return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==typeof n?n:n+""}function m(e,n,r){return(n=g(n))in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function p(){return p=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])}return e},p.apply(this,arguments)}function k(e,n){if(null==e)return{};var r,t,o=function(e,n){if(null==e)return{};var r,t,o={},a=Object.keys(e);for(t=0;t<a.length;t++)r=a[t],n.indexOf(r)>=0||(o[r]=e[r]);return o}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(t=0;t<a.length;t++)r=a[t],n.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function y(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}function v(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var t,o,a,l,i=[],c=!0,d=!1;try{if(a=(r=r.call(e)).next,0===n){if(Object(r)!==r)return;c=!1}else for(;!(c=(t=a.call(r)).done)&&(i.push(t.value),i.length!==n);c=!0);}catch(e){d=!0,o=e}finally{try{if(!c&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(d)throw o}}return i}}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return w(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return w(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,n){(null==n||n>e.length)&&(n=e.length);for(var r=0,t=new Array(n);r<n;r++)t[r]=e[r];return t}var x,O,j,S,C,E,N,z,D,T,A,M,P,I,L,U,X={Default:"default",Small:"small",XSmall:"xsmall"},W="lg-toggle",F=s("toggle-button"),$={checked:".".concat(F,'[aria-checked="true"]'),unchecked:".".concat(F,'[aria-checked="false"]'),disabled:".".concat(F,":disabled")},q={checked:"".concat($.checked," > &"),unchecked:"".concat($.unchecked," > &"),disabled:"".concat($.disabled," > &")},B={checked:"".concat($.checked,":not(:disabled) &"),unchecked:"".concat($.unchecked,":not(:disabled) &"),disabledChecked:"".concat($.checked,":disabled &"),disabledUnchecked:"".concat($.unchecked,":disabled &")},G=t(x||(x=y(["\n  transition: ","ms all ease-in-out,\n    0s background-color linear;\n  display: inline-block;\n  flex-shrink: 0;\n  position: relative;\n  padding: 0;\n  border-radius: 50px;\n  border: 1px solid;\n  cursor: pointer;\n\n  &:disabled {\n    cursor: not-allowed;\n  }\n\n  &:focus {\n    outline: none;\n  }\n\n  &[aria-checked='true'] {\n    transition-delay: ","ms;\n\n    &:before {\n      transform: scale(1);\n      opacity: 1;\n    }\n  }\n\n  // We're animating this pseudo-element in order to give the toggle groove\n  // background an animation in and out.\n  &:before {\n    content: '';\n    transition: ","ms all ease-in-out;\n    position: absolute;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    border-radius: 50px;\n    opacity: 0;\n    transform: scale(0.85);\n  }\n\n  &:disabled:before {\n    opacity: 0;\n  }\n"])),b.default,b.default,b.default),H=t(O||(O=y(["\n  transition: all ","ms ease-in-out;\n  border-radius: 100%;\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  margin: auto;\n  overflow: hidden;\n  transform: translate3d(0, 0, 0);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  &:before,\n  &:after {\n    content: '';\n    position: absolute;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    right: 0;\n  }\n\n  "," {\n    &:before,\n    &:after {\n      content: none;\n    }\n  }\n"])),b.default,q.disabled),J=m(m(m({},X.Default,t(j||(j=y(["\n    height: 32px;\n    width: 56px;\n  "])))),X.Small,t(S||(S=y(["\n    height: 22px;\n    width: 40px;\n  "])))),X.XSmall,t(C||(C=y(["\n    height: 14px;\n    width: 24px;\n  "])))),K=m(m(m({},X.Default,t(E||(E=y(["\n    height: 28px;\n    width: 28px;\n    left: 1px;\n\n    "," {\n      transform: translate3d(24px, 0, 0);\n    }\n  "])),q.checked)),X.Small,t(N||(N=y(["\n    height: 18px;\n    width: 18px;\n    left: 1px;\n\n    "," {\n      transform: translate3d(18px, 0, 0);\n    }\n  "])),q.checked)),X.XSmall,t(z||(z=y(["\n    height: 12px;\n    width: 12px;\n\n    "," {\n      transform: translate3d(10px, 0, 0);\n    }\n  "])),q.checked)),Q=m(m({},u.Light,t(D||(D=y(["\n    &[aria-checked='false']:not(:disabled) {\n      background-color: ",";\n      border-color: ",";\n    }\n\n    &[aria-checked='true'] {\n      // We set background-color here to avoid a small issue with overflow clipping\n      // that makes this look less seamless than it should.\n      background-color: ",";\n      border-color: ",";\n    }\n\n    &:disabled {\n      background-color: ",";\n      border-color: ",";\n    }\n\n    &:before {\n      background-color: ",";\n    }\n\n    &:hover:not(:disabled) {\n      box-shadow: ",";\n    }\n\n    &:focus-visible:not(:disabled) {\n      box-shadow: ",";\n    }\n  "])),a.gray.base,a.gray.base,a.blue.base,a.blue.base,a.gray.light2,a.gray.light2,a.blue.base,f.light.gray,h.light.default)),u.Dark,t(T||(T=y(["\n    &[aria-checked='false']:not(:disabled) {\n      background-color: ",";\n      border-color: ",";\n    }\n\n    &[aria-checked='true'] {\n      // We set background-color here to avoid a small issue with overflow clipping\n      // that makes this look less seamless than it should.\n      background-color: ",";\n      border-color: ",";\n    }\n\n    &:disabled {\n      background-color: ",";\n      border-color: ",";\n    }\n\n    &:before {\n      background-color: ",";\n    }\n\n    &:hover:not(:disabled) {\n      box-shadow: ",";\n    }\n\n    &:focus-visible:not(:disabled) {\n      box-shadow: ",";\n    }\n  "])),a.gray.dark1,a.gray.dark1,a.blue.light1,a.blue.light1,a.gray.dark2,a.gray.dark2,a.blue.light1,f.dark.gray,h.dark.default)),R=m(m({},u.Light,t(A||(A=y(["\n    background-color: ",";\n\n    "," {\n      background-color: ",";\n    }\n  "])),a.white,q.disabled,a.gray.light3)),u.Dark,t(M||(M=y(["\n    background-color: ",";\n\n    "," {\n      background-color: ",";\n    }\n  "])),a.white,q.disabled,a.gray.dark1)),V=t(P||(P=y(["\n  display: flex;\n  transition: color ","ms ease-in-out;\n"])),b.default),Y=m(m({},u.Dark,t(I||(I=y(["\n    "," {\n      color: ",";\n    }\n\n    "," {\n      color: ",";\n    }\n\n    "," {\n      color: ",";\n    }\n\n    "," {\n      color: ",";\n    }\n  "])),B.checked,a.blue.light1,B.unchecked,a.white,B.disabledChecked,a.gray.dark2,B.disabledUnchecked,a.gray.dark1)),u.Light,t(L||(L=y(["\n    "," {\n      color: ",";\n    }\n\n    "," {\n      color: ",";\n    }\n\n    "," {\n      color: ",";\n    }\n\n    "," {\n      color: ",";\n    }\n  "])),B.checked,a.blue.base,B.unchecked,a.white,B.disabledChecked,a.gray.light1,B.disabledUnchecked,a.gray.light3)),Z=m(m({},X.Default,16),X.Small,14),_=["className","size","darkMode","disabled","onChange","onClick","checked","data-lgid"];function ee(t){var a=t.className,l=t.size,s=void 0===l?X.Default:l,u=t.darkMode,b=t.disabled,f=void 0!==b&&b,h=t.onChange,g=t.onClick,m=t.checked,y=t["data-lgid"],w=void 0===y?W:y,x=k(t,_);i(x,ee.displayName);var O=d(u).theme,j=v(n(!1),2),S=j[0],C=j[1],E="boolean"==typeof m,N=null!=m?m:S,z=r((function(e){null==g||g(e),E?null==h||h(!m,e):C((function(n){var r=!n;return null==h||h(r,e),r}))}),[E,m,g,h]);return e.createElement("button",p({role:"switch",type:"button",onClick:z,"aria-checked":N,disabled:f,"aria-disabled":f,className:o(a,F,G,Q[O],J[s]),"data-lgid":w},x),e.createElement("div",{className:o(H,K[s],R[O])},s!==X.XSmall&&e.createElement(c,{"aria-hidden":!0,className:o(V,Y[O]),size:Z[s]})))}ee.displayName="Toggle",ee.propTypes={size:l.oneOf(Object.values(X)),darkMode:l.bool,checked:l.bool,disabled:l.bool,className:l.string,onChange:l.func,onClick:l.func};var ne={title:"Components/Toggle",component:ee,parameters:{default:"LiveExample",generate:{combineArgs:{darkMode:[!1,!0],checked:[!1,!0],size:Object.values(X),disabled:[!1,!0]}}},argTypes:{darkMode:{control:"boolean"},checked:{control:"none"},disabled:{control:"boolean"},size:{control:"radio",options:Object.values(X)}}},re=function(n){return e.createElement(ee,p({"aria-labelledby":"toggle"},n))}.bind({});re.parameters={chromatic:{disableSnapshot:!0}};var te=function(n){var r=p({},(function(e){if(null==e)throw new TypeError("Cannot destructure "+e)}(n),n));return e.createElement("div",null,e.createElement("label",{htmlFor:"toggle",id:"label",className:t(U||(U=y(["\n        display: block;\n        margin-bottom: 16px;\n        color: ",";\n      "])),r.darkMode?a.white:a.gray.dark2)},"This is a label for my toggle."),e.createElement(ee,p({id:"toggle","aria-labelledby":"toggle"},r)))};te.parameters={chromatic:{disableSnapshot:!0}};var oe=function(){};export{oe as Generated,re as LiveExample,te as WithLabel,ne as default};
