import e,{useState as n,useRef as t,useEffect as r,createContext as o,useContext as i,useMemo as a}from"react";import{storybookArgTypes as l,storybookExcludedControlParams as s}from"@lg-tools/storybook-utils";import g,{isComponentGlyph as c}from"@leafygreen-ui/icon";import h from"@leafygreen-ui/icon-button";import u,{useDarkMode as d,usePopoverPortalContainer as p,useBaseFontSize as m}from"@leafygreen-ui/leafygreen-provider";import f from"highlight.js/lib/languages/bash";import b from"highlight.js/lib/languages/c";import y from"highlight.js/lib/languages/cpp";import v from"highlight.js/lib/languages/csharp";import w from"highlight.js/lib/languages/dart";import C from"highlight.js/lib/languages/diff";import x from"highlight.js/lib/languages/go";import k from"highlight.js/lib/languages/http";import j from"highlight.js/lib/languages/ini";import N from"highlight.js/lib/languages/java";import E from"highlight.js/lib/languages/javascript";import S from"highlight.js/lib/languages/json";import O from"highlight.js/lib/languages/kotlin";import L from"highlight.js/lib/languages/objectivec";import P from"highlight.js/lib/languages/perl";import B from"highlight.js/lib/languages/php";import A from"highlight.js/lib/languages/properties";import M from"highlight.js/lib/languages/python";import D from"highlight.js/lib/languages/ruby";import F from"highlight.js/lib/languages/rust";import T from"highlight.js/lib/languages/scala";import _ from"highlight.js/lib/languages/shell";import z from"highlight.js/lib/languages/sql";import I from"highlight.js/lib/languages/swift";import H from"highlight.js/lib/languages/typescript";import R from"highlight.js/lib/languages/xml";import W from"highlight.js/lib/languages/yaml";import V from"clipboard";import Z from"lodash/debounce";import q from"prop-types";import{css as J,cx as U,injectGlobal as G}from"@leafygreen-ui/emotion";import{useBackdropClick as $,usePrevious as K,useIsomorphicLayoutEffect as X}from"@leafygreen-ui/hooks";import{Theme as Y,keyMap as Q,isComponentType as ee}from"@leafygreen-ui/lib";import{VisuallyHidden as ne}from"@leafygreen-ui/a11y";import te from"@leafygreen-ui/icon/dist/Checkmark";import re from"@leafygreen-ui/icon/dist/Copy";import oe,{Align as ie,Justify as ae}from"@leafygreen-ui/tooltip";import{palette as le}from"@leafygreen-ui/palette";import se from"@leafygreen-ui/icon/dist/File";import{Select as ge,Option as ce}from"@leafygreen-ui/select";import he from"@leafygreen-ui/button";import{spacing as ue,fontWeights as de,fontFamilies as pe,typeScales as me,transitionDuration as fe}from"@leafygreen-ui/tokens";import be from"highlight.js/lib/core";import ye from"highlightjs-graphql";import ve from"lodash/flatMap";import we from"facepaint";import{transparentize as Ce}from"polished";function xe(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function ke(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?xe(Object(t),!0).forEach((function(n){Ee(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):xe(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function je(e){var n=function(e,n){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof n?n:n+""}function Ne(e){return Ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ne(e)}function Ee(e,n,t){return(n=je(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function Se(){return Se=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Se.apply(this,arguments)}function Oe(e,n){if(null==e)return{};var t,r,o=function(e,n){if(null==e)return{};var t,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}function Le(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}function Pe(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,i,a,l=[],s=!0,g=!1;try{if(i=(t=t.call(e)).next,0===n);else for(;!(s=(r=i.call(t)).done)&&(l.push(r.value),l.length!==n);s=!0);}catch(e){g=!0,o=e}finally{try{if(!s&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(g)throw o}}return l}}(e,n)||Ae(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Be(e){return function(e){if(Array.isArray(e))return Me(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Ae(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ae(e,n){if(e){if("string"==typeof e)return Me(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Me(e,n):void 0}}function Me(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}var De,Fe,Te,_e,ze={javascript:E,typescript:H,c:b,cpp:y,csharp:v,go:x,http:k,ini:j,java:N,perl:P,php:B,properties:A,python:M,ruby:D,rust:F,scala:T,swift:I,kotlin:O,objectivec:L,dart:w,bash:f,shell:_,sql:z,yaml:W,json:S,diff:C,xml:R},Ie={JavaScript:"javascript",JS:"js",TypeScript:"typescript",TS:"ts",C:"c",Cpp:"cpp",Csharp:"csharp",Cs:"cs",Go:"go",Html:"xml",Http:"http",Ini:"ini",Java:"java",Perl:"perl",Php:"php",Properties:"properties",Python:"python",Ruby:"ruby",Rust:"rust",Scala:"scala",Swift:"swift",Kotlin:"kotlin",ObjectiveC:"objectivec",Dart:"dart",Bash:"bash",Shell:"shell",Sql:"sql",Yaml:"yaml",Json:"json",Graphql:"graphql",Diff:"diff",Xml:"xml"},He=ke(ke({},Ie),{},{None:"none"}),Re=1500,We="Copied!",Ve="Copy",Ze=Ee(Ee({},Y.Light,J(De||(De=Le(["\n    color: ",";\n    background-color: ",";\n\n    &:focus,\n    &:hover {\n      color: ",";\n\n      &:before {\n        background-color: ",";\n      }\n    }\n  "])),le.white,le.green.dark1,le.white,le.green.dark1)),Y.Dark,J(Fe||(Fe=Le(["\n    color: ",";\n    background-color: ",";\n\n    &:focus,\n    &:hover {\n      color: ",";\n\n      &:before {\n        background-color: ",";\n      }\n    }\n  "])),le.gray.dark3,le.green.base,le.gray.dark3,le.green.base)),qe=Ee(Ee({},Y.Light,J(Te||(Te=Le(["\n    align-self: center;\n    color: ",";\n  "])),le.gray.base)),Y.Dark,J(_e||(_e=Le(["\n    align-self: center;\n    color: ",";\n  "])),le.gray.light1));function Je(o){var i=o.onCopy,a=o.contents,l=Pe(n(!1),2),s=l[0],g=l[1],c=Pe(n(!1),2),u=c[0],m=c[1],f=t(null),b=d().theme,y=p().portalContainer,v=function(){return m(!1)};$(v,f,u),r((function(){if(f.current){var e=new V(f.current,{text:function(){return a},container:y});if(s){var n=setTimeout((function(){g(!1)}),Re);return function(){return clearTimeout(n)}}return function(){return e.destroy()}}}),[f,a,s,y]);return e.createElement(oe,{"data-testid":"code_copy-button_tooltip",open:u,setOpen:m,align:ie.Top,justify:ae.Middle,trigger:e.createElement(h,{"data-testid":"code_copy-button",ref:f,"aria-label":Ve,className:U(qe[b],Ee({},Ze[b],s)),onClick:function(e){e.preventDefault(),null==i||i(),g(!0)},onKeyDown:function(e){switch(e.key){case Q.Escape:case Q.Tab:v();break;case Q.Enter:case Q.Space:var n,t;e.preventDefault(),null===(n=f.current)||void 0===n||n.click(),null===(t=f.current)||void 0===t||t.focus()}},onMouseEnter:function(){m(!0)},onMouseLeave:function(){v()}},s?e.createElement(te,null):e.createElement(re,null),s&&e.createElement(ne,{role:"alert"},We)),shouldClose:function(){return!u}},s?We:Ve)}Je.displayName="CopyButton";var Ue,Ge,$e,Ke,Xe,Ye,Qe=["children"],en=e.forwardRef((function(n,t){var r=n.children,o=Oe(n,Qe);return e.createElement(he,Se({},o,{ref:t}),r)}));en.displayName="CustomSelectMenuButton";var nn,tn,rn,on,an,ln,sn,gn,cn,hn,un=J(Ue||(Ue=Le(["\n  display: flex;\n  align-items: center;\n  width: 100%;\n  height: 100%;\n"]))),dn=J(Ge||(Ge=Le(["\n  // Override default menuButton styles\n  margin-top: 0;\n  width: 100%;\n  height: 100%;\n  border-radius: 0px;\n  border: 0;\n  font-size: 12px;\n\n  &:hover[aria-disabled='false'],\n  &:focus,\n  &:active {\n    box-shadow: 0 0 0 0;\n    border: 0;\n  }\n\n  // Override button defaults\n  > *:last-child {\n    grid-template-columns: 16px 1fr 16px;\n    padding: 0 12px;\n    > svg {\n      width: 16px;\n      height: 16px;\n    }\n  }\n"]))),pn=Ee(Ee({},Y.Light,J($e||($e=Le(["\n    background-color: ",";\n    border-right: 1px solid ",";\n    box-shadow: 0 0 0 0;\n\n    &:hover[aria-disabled='false'],\n    &:active,\n    &:focus {\n      border-right: 1px solid ",";\n    }\n\n    &:hover[aria-disabled='false'] {\n      background-color: ",";\n    }\n\n    &:focus-visible {\n      background-color: ",";\n    }\n  "])),le.white,le.gray.light2,le.gray.light2,le.gray.light2,le.blue.light2)),Y.Dark,J(Ke||(Ke=Le(["\n    background-color: ",";\n    border-right: 1px solid ",";\n    color: ",";\n\n    &:hover[aria-disabled='false'],\n    &:focus,\n    &:active {\n      border-right: 1px solid ",";\n    }\n\n    &:hover[aria-disabled='false'],\n    &:active {\n      background-color: ",";\n    }\n\n    &:focus-visible {\n      background-color: ",";\n    }\n  "])),le.gray.dark2,le.gray.dark1,le.gray.light2,le.gray.dark1,le.gray.dark1,le.blue.light1)),mn=J(Xe||(Xe=Le(["\n  min-width: 144px;\n  height: 100%;\n"]))),fn=J(Ye||(Ye=Le(["\n  margin-right: ","px;\n"])),ue[3]);function bn(n){var t,r=n.language,o=n.languageOptions,i=n.onChange,a=n.usePortal,l=n.portalClassName,s=n.portalContainer,g=n.scrollContainer,h=n.popoverZIndex,u=d(),p=u.theme,m=u.darkMode,f=K(r),b=U(fn,J(nn||(nn=Le(["\n      color: ",";\n    "])),m?le.gray.light1:le.gray.base)),y=e.createElement(se,{className:b});null!=r.image&&(t=r.image,y=c(t)||ee(t,"Icon")?e.cloneElement(r.image,{className:b}):e.cloneElement(r.image,{className:fn}));var v={popoverZIndex:h,usePortal:a,portalClassName:l,portalContainer:s,scrollContainer:g};return e.createElement("div",{className:un},e.createElement(ge,Se({darkMode:m,onChange:function(e){if(""===e&&void 0!==f)return i(f);var n=o.find((function(n){return n.displayName===e}));void 0!==n&&i(n)},"aria-labelledby":"Language Picker",value:null==r?void 0:r.displayName,className:mn,allowDeselect:!1},v,{__INTERNAL__menuButtonSlot__:en,__INTERNAL__menuButtonSlotProps__:{className:U(dn,pn[p]),leftGlyph:y}}),null==o?void 0:o.map((function(n){return e.createElement(ce,{key:null==n?void 0:n.displayName,value:null==n?void 0:n.displayName},null==n?void 0:n.displayName)}))))}bn.displayName="LanguageSwitcher";var yn=J(tn||(tn=Le(["\n  display: flex;\n  align-items: center;\n  flex-shrink: 0;\n  gap: ","px;\n\n  svg {\n    width: 16px;\n    height: 16px;\n  }\n"])),ue[1]),vn=Ee(Ee({},Y.Light,J(rn||(rn=Le(["\n    background-color: ",";\n  "])),le.white)),Y.Dark,J(on||(on=Le(["\n    background-color: ",";\n  "])),le.gray.dark2)),wn=J(an||(an=Le(["\n  flex-direction: column;\n  padding: 6px;\n  border-left: solid 1px;\n"]))),Cn=Ee(Ee({},Y.Light,U(wn,J(ln||(ln=Le(["\n      border-color: ",";\n    "])),le.gray.light2))),Y.Dark,U(wn,J(sn||(sn=Le(["\n      border-color: ",";\n    "])),le.gray.dark2))),xn=J(gn||(gn=Le(["\n  flex-direction: row;\n  border-bottom: 1px solid;\n  justify-content: space-between;\n  padding: 0;\n  padding-right: 8px;\n  height: 40px; // 28px (icon) + 2 x 6px (focus shadow). Can't use padding b/c switcher\n"]))),kn=Ee(Ee({},Y.Light,U(xn,J(cn||(cn=Le(["\n      border-color: ",";\n    "])),le.gray.light2))),Y.Dark,U(xn,J(hn||(hn=Le(["\n      border-color: ",";\n    "])),le.gray.dark1)));function jn(n){var t=n.language,r=n.languageOptions,o=n.contents,i=n.onChange,a=n.onCopy,l=n.showCopyButton,s=n.customActionButtons,g=n.showCustomActionButtons,c=n.usePortal,h=n.portalClassName,u=n.portalContainer,p=n.scrollContainer,m=n.popoverZIndex,f=n.className,b=d().theme,y={popoverZIndex:m,usePortal:c,portalClassName:h,portalContainer:u,scrollContainer:p};return e.createElement("div",{className:U(yn,vn[b],Ee(Ee({},Cn[b],!t),kn[b],!!t),f),"data-testid":"leafygreen-code-panel"},void 0!==t&&void 0!==r&&void 0!==i&&e.createElement(bn,Se({onChange:i,language:t,languageOptions:r},y)),l&&e.createElement(Je,{onCopy:a,contents:o,withLanguageSwitcher:!!t}),g&&e.createElement(e.Fragment,null,null==s?void 0:s.map((function(e){return e}))))}jn.displayName="Panel";var Nn=Ee(Ee({},Y.Light,{0:le.gray.light3,1:le.gray.light2,2:le.gray.dark2,3:le.black,4:le.white,5:"#D83713",6:"#956d00",7:"#12824D",8:"#007ab8",9:"#016ee9",10:"#CC3887"}),Y.Dark,{0:le.black,1:le.gray.dark2,2:le.gray.light1,3:le.gray.light3,4:le.gray.dark2,5:"#FF6F44",6:"#EDB210",7:"#35DE7B",8:"#a5e3ff",9:"#2dc4ff",10:"#FF7DC3"}),En=function(e){return"\n  .lg-highlight-hljs-".concat(e," {\n    \n    .lg-highlight-keyword,\n    .lg-highlight-keyword.lg-highlight-function,\n    .lg-highlight-keyword.lg-highlight-class,\n    .lg-highlight-selector-tag,\n    .lg-highlight-selector-attr,\n    .lg-highlight-selector-pseudo,\n    .lg-highlight-selector-id,\n    .lg-highlight-selector-class {\n      color: ").concat(Nn[e][10],";\n    }\n\n    .lg-highlight-regexp,\n    .lg-highlight-number,\n    .lg-highlight-literal,\n    .lg-highlight-function.lg-highlight-title {\n      color: ").concat(Nn[e][9],";\n    }\n\n    .lg-highlight-quote,\n    .lg-highlight-section,\n    .lg-highlight-name {\n      color: ").concat(Nn[e][8],";\n    }\n\n    .lg-highlight-string,\n    .lg-highlight-addition {\n      color: ").concat(Nn[e][7],";\n    }\n\n    .lg-highlight-meta,\n    .lg-highlight-meta-string {\n      color: ").concat(Nn[e][6],";\n    }\n\n    .lg-highlight-variable,\n    .lg-highlight-deletion,\n    .lg-highlight-symbol,\n    .lg-highlight-bullet,\n    .lg-highlight-meta,\n    .lg-highlight-link,\n    .lg-highlight-attr,\n    .lg-highlight-attribute,\n    .lg-highlight-language,\n    .lg-highlight-template-variable,\n    .lg-highlight-built_in,\n    .lg-highlight-type,\n    .lg-highlight-params {\n      color: ").concat(Nn[e][5],"\n    }\n\n    .lg-highlight-title,\n    .lg-highlight-class.lg-highlight-title {\n      color: ").concat(Nn[e][3],";\n    }\n\n    .lg-highlight-doctag,\n    .lg-highlight-formula {\n      color: ").concat(Nn[e][3],";\n    }\n  \n    .lg-highlight-comment {\n      color: ").concat(Nn[e][2],";\n      font-style: italic;\n    }\n  \n    .lg-highlight-string {\n      font-weight: 600;\n    }\n    \n    .lg-highlight-emphasis {\n      font-style: italic;\n    }\n  \n    .lg-highlight-strong {\n      font-weight: ").concat(de.bold,";\n    }\n  }\n")};var Sn,On,Ln,Pn,Bn=o({highlightLines:[],darkMode:!1});function An(){for(var e="lg-highlight-",n=arguments.length,t=new Array(n),r=0;r<n;r++)t[r]=arguments[r];return t.filter((function(e){return _n(e)&&e.length>0})).map((function(n){return n.startsWith(e)?n:n.split(".").map((function(n){return"".concat(e).concat(n)})).join(" ")})).join(" ")}function Mn(){for(var e=["function","class"],n=arguments.length,t=new Array(n),r=0;r<n;r++)t[r]=arguments[r];return t.filter((function(n){return e.includes(n)}))}function Dn(n){var t=n.kind,r=n.children;return e.createElement("span",{className:t},r)}function Fn(e){return null!=e&&e instanceof Array}function Tn(e){return null!=e&&"object"===Ne(e)&&!(e instanceof Array)}function _n(e){return null!=e&&"string"==typeof e}function zn(n,t){return null==n?null:_n(n)?n:Fn(n)?n.map(zn):Tn(n)?e.createElement(Dn,{key:t,kind:n.kind},zn(n.children)):n}var In=J(Sn||(Sn=Le(["\n  border-spacing: 0;\n  vertical-align: top;\n  padding: 0 ","px;\n"])),ue[3]);function Hn(e){var n,t,r;return e?(n="transparent",t="linear-gradient(90deg, ".concat(le.gray.dark3,", ").concat(le.black,")"),r=le.gray.dark3):(n=le.yellow.light3,t="none",r=le.yellow.light2),J(On||(On=Le(["\n    background-color: ",";\n    background-image: ",";\n    // Fixes an issue in Safari where the gradient applied to the table row would be applied\n    // to each cell in the row instead of being continuous across cells.\n    background-attachment: fixed;\n\n    // Selects all children of a highlighted row, and adds a border top\n    & > td {\n      border-top: 1px solid ",";\n    }\n\n    // Selects following rows after a highlighted row, and adds a border top\n    // We don't add border bottoms here to support consecutive highlighted rows.\n    & + tr > td {\n      border-top: 1px solid ",";\n    }\n\n    // Remove borders between consecutive highlighted rows\n    & + & > td {\n      border-top: 0;\n    }\n\n    // If the highlighted row is the last child, then we add a border bottom\n    &:last-child > td {\n      border-bottom: 1px solid ",";\n    }\n  "])),n,t,r,r,r)}function Rn(n){var t=n.lineNumber,r=n.highlighted,o=n.darkMode,i=n.children,a=o?le.gray.light1:le.gray.dark1,l=o?le.gray.light3:le.yellow.dark2;return e.createElement("tr",{className:U(Ee({},Hn(o),r))},t&&e.createElement("td",{className:U(In,J(Ln||(Ln=Le(["\n              user-select: none;\n              text-align: right;\n              padding-left: ","px;\n              padding-right: 0;\n              color: ",";\n            "])),ue[3]-1,r?l:a))},t),e.createElement("td",{className:In},i))}function Wn(e){var n=(null!=e?e:{}).children;return!(!Fn(n)||1!==n.length||!_n(n[0]))}function Vn(e,n){if("string"==typeof e)return e;if(null!=(t=e)&&"object"===Ne(t)&&"string"==typeof t.kind&&t.children instanceof Array)return Vn(e.children,n);var t;return ve(e,function e(){for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return r=r.filter((function(e){return _n(e)&&e.length>0})),function(t){var o,i;return _n(t)?r.length>0?{kind:An.apply(void 0,[n].concat(Be(r),Be(Mn(t)))),children:[t]}:t:(null!==(o=null==t||null===(i=t.children)||void 0===i?void 0:i.length)&&void 0!==o?o:0)>=1?ve(t.children,e.apply(void 0,[n,t.kind].concat(Be(r)))):Wn(t)?{kind:An.apply(void 0,[n,t.kind].concat(Be(r),Be(Mn.apply(void 0,Be(t.children))))),children:t.children}:t}}(n))}function Zn(e){return Fn(e)?e.some(Zn):_n(e)?e.includes("\n"):!!Tn(e)&&((null===(n=e.children)||void 0===n?void 0:n.includes("\n"))||_n(null===(t=e.children)||void 0===t?void 0:t[0])&&e.children[0].includes("\n"));var n,t}function qn(e){var n=[],t=0;null==n[t]&&(n[t]=[]);var r=function(){t++,n[t]=[]};return Vn(e).forEach((function(e){Zn(e)?_n(e)?e.split("\n").forEach((function(e,o){o>0&&r(),e&&n[t].push(e)})):e.children[0].split("\n").forEach((function(o,i){i>0&&r(),n[t].push({kind:e.kind,children:[o]})})):e&&(_n(e)||Wn(e))&&n[t].push(e)})),n}function Jn(n){for(var t=n.lines,r=i(Bn),o=r.highlightLines,a=r.showLineNumbers,l=r.darkMode,s=r.lineNumberStart,g=Be(t);0===(null===(c=g[0])||void 0===c?void 0:c.length);){var c;g.shift()}for(;0===(null===(h=g[g.length-1])||void 0===h?void 0:h.length);){var h;g.pop()}return e.createElement(e.Fragment,null,g.map((function(n,t){var r,i=t+(null!=s?s:1),g=function(e){return o.some((function(n){if(null!=(t=n)&&"number"==typeof t)return e===n;var t;if(Fn(n)){var r=Be(n).sort((function(e,n){return e-n}));return e>=r[0]&&e<=r[1]}return!1}))}(i);a&&(r=i);var c=null!=n&&n.length?n.map(zn):e.createElement("div",{className:J(Pn||(Pn=Le(["\n              display: inline-block;\n            "])))});return e.createElement(Rn,{key:i,lineNumber:r,darkMode:l,highlighted:g},c)})))}var Un,Gn,$n,Kn={"after:highlight":function(n){var t=n._emitter.rootNode;n.react=e.createElement(Jn,{lines:qn(t.children)})}},Xn=["children","language","showLineNumbers","lineNumberStart","highlightLines","className"];function Yn(e){return"cs"!==e&&"js"!==e&&"ts"!==e}var Qn=!1;function et(){Qn=!0,Object.values(Y).forEach((function(e){return G(En(e))}));var e=Object.values(Ie).filter(Yn);e.forEach((function(e){"graphql"===e?ye(be):be.registerLanguage(e,ze[e])})),be.configure({languages:e,tabReplace:"  "}),be.addPlugin(Kn)}var nt,tt,rt,ot,it=J(Un||(Un=Le(["\n  color: inherit;\n  font-family: ",";\n"])),pe.code);function at(n){var t=n.children,r=n.language,o=n.showLineNumbers,i=void 0!==o&&o,l=n.lineNumberStart,s=n.highlightLines,g=void 0===s?[]:s,c=n.className,h=Oe(n,Xn);Qn||et();var u=a((function(){return r===He.None?null:be.highlight(t,{language:r,ignoreIllegals:!0})}),[r,t]),p=null===u?e.createElement(Jn,{lines:t.split("\n").map((function(e){return e?[e]:[]}))}):u.react,f=d(),b=f.theme,y=f.darkMode,v=14===m()?me.code1:me.code2,w=J(Gn||(Gn=Le(["\n    font-size: ","px;\n    line-height: ","px;\n  "])),v.fontSize,v.lineHeight);return e.createElement(Bn.Provider,{value:{highlightLines:g,showLineNumbers:i,lineNumberStart:l,darkMode:y}},e.createElement("code",Se({},h,{className:U("lg-highlight-hljs-".concat(b),it,w,r,c)}),e.createElement("table",{className:J($n||($n=Le(["\n            border-spacing: 0;\n          "])))},e.createElement("tbody",null,p))))}at.displayName="Syntax",at.propTypes={children:q.string.isRequired,language:q.oneOf(Object.values(He)),className:q.string,darkMode:q.bool,showLineNumbers:q.bool,lineNumberStart:q.number,highlightLines:q.arrayOf(q.oneOfType([q.arrayOf(q.number),q.number]))};var lt=J(nt||(nt=Le(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: ","px;\n  padding-left: ","px;\n  padding-right: ","px;\n  border-radius: ","px ","px 0 0;\n  font-family: ",";\n"])),28,12,12,4,4,pe.default),st=Ee(Ee({},Y.Light,J(tt||(tt=Le(["\n    color: ",";\n    background-color: ",";\n  "])),le.gray.dark2,Nn.light[1])),Y.Dark,J(rt||(rt=Le(["\n    color: ",";\n    background-color: ",";\n  "])),le.gray.light1,Nn.dark[1])),gt=J(ot||(ot=Le(["\n  padding-left: ","px;\n  padding-right: ","px;\n  font-size: ","px;\n"])),8,8,me.body1.fontSize);function ct(n){var t=n.chromeTitle,r=void 0===t?"":t,o=d().theme;return e.createElement("div",{className:U(lt,st[o])},e.createElement("div",{className:gt},r))}ct.displayName="WindowChrome",ct.propTypes={darkMode:q.bool,chromeTitle:q.string};var ht,ut,dt,pt,mt,ft,bt,yt,vt,wt,Ct,xt,kt,jt,Nt,Et,St={None:"none",Left:"left",Right:"right",Both:"both"},Ot=we(["@media only screen and (max-device-width: 812px) and (-webkit-min-device-pixel-ratio: 2)","@media only screen and (min-device-width: 813px) and (-webkit-min-device-pixel-ratio: 2)"]),Lt=Ee(Ee({},Y.Light,J(ht||(ht=Le(["\n    border: 1px solid ",";\n    border-radius: 12px;\n    overflow: hidden;\n  "])),Nn[Y.Light][1])),Y.Dark,J(ut||(ut=Le(["\n    border: 1px solid ",";\n    border-radius: 12px;\n    overflow: hidden;\n  "])),Nn[Y.Dark][1])),Pt=J(dt||(dt=Le(["\n  position: relative;\n  display: grid;\n  grid-template-areas: 'code panel';\n  grid-template-columns: auto 38px;\n  border-radius: inherit;\n  z-index: 0; // new stacking context\n"]))),Bt=J(pt||(pt=Le(["\n  // No panel, all code\n  grid-template-areas: 'code code';\n"]))),At=J(mt||(mt=Le(["\n  grid-template-areas: 'panel' 'code';\n  grid-template-columns: unset;\n"]))),Mt=J(ft||(ft=Le(["\n  grid-area: code;\n  overflow-x: auto;\n  // Many applications have global styles that are adding a border and border radius to this element.\n  border-radius: inherit;\n  border-top-right-radius: 0;\n  border-bottom-right-radius: 0;\n  border: 0;\n  // We apply left / right padding in Syntax to support line highlighting\n  padding-top: ","px;\n  padding-bottom: ","px;\n  margin: 0;\n  position: relative;\n  transition: box-shadow ","ms ease-in-out;\n\n  ","\n\n  &:focus-visible {\n    outline: none;\n    box-shadow: 0 0 0 2px "," inset;\n  }\n"])),ue[2],ue[2],fe.faster,Ot({whiteSpace:["pre","pre-wrap","pre"]}),le.blue.light1),Dt=J(bt||(bt=Le(["\n  border-left: 0;\n  border-radius: inherit;\n  border-top-right-radius: 0;\n  border-top-left-radius: 0;\n"]))),Ft=J(yt||(yt=Le(["\n  border-left: 0;\n  border-radius: inherit;\n  border-top-right-radius: 0;\n  border-top-left-radius: 0;\n"]))),Tt=J(vt||(vt=Le(["\n  display: flex;\n  align-items: center;\n  padding-top: ","px;\n  padding-bottom: ","px;\n"])),6,6),_t=J(wt||(wt=Le(["\n  z-index: 2; // Above the shadows\n  grid-area: panel;\n"])));function zt(e){var n=Nn[e];return J(Ct||(Ct=Le(["\n    background-color: ",";\n    color: ",";\n  "])),n[0],n[3])}var It=J(xt||(xt=Le(["\n  &:before,\n  &:after {\n    content: '';\n    display: block;\n    position: absolute;\n    z-index: 1; // above the code\n    top: 0;\n    height: 100%;\n    width: 40px;\n    border-radius: 40%;\n    box-shadow: unset;\n    transition: box-shadow ","ms ease-in-out;\n  }\n  &:before {\n    grid-column: 1;\n    left: -40px;\n  }\n  &:after {\n    grid-column: 2; // Placed either under Panel, or on the right edge\n  }\n"])),fe.faster),Ht=J(kt||(kt=Le(["\n  &:after {\n    grid-column: -1; // Placed on the right edge\n  }\n"]))),Rt=J(jt||(jt=Le(["\n  &:before,\n  &:after {\n    grid-row: 2; // Placed on the top under the Picker Panel\n  }\n"])));function Wt(e,n){var t=n===Y.Light?"1px 0 10px 0 ".concat(Ce(.75,"black")):"15px 0px 15px 0 ".concat(Ce(.7,"black")),r=n===Y.Light?"-1px 0px 10px ".concat(Ce(.75,"black")):"-15px 0px 15px 0 ".concat(Ce(.7,"black"));return J(Nt||(Nt=Le(["\n    &:before {\n      ",";\n    }\n    &:after {\n      ",";\n    }\n  "])),(e===St.Both||e===St.Left)&&J(Et||(Et=Le(["\n        box-shadow: ",";\n      "])),t),(e===St.Both||e===St.Right)&&"\n        box-shadow: ".concat(r,";\n      "))}var Vt=["children","className","language","darkMode","showLineNumbers","lineNumberStart","showWindowChrome","chromeTitle","copyable","onCopy","highlightLines","languageOptions","onChange","customActionButtons","showCustomActionButtons","usePortal","portalClassName","portalContainer","scrollContainer","popoverZIndex"];function Zt(o){var i=o.children,l=void 0===i?"":i,s=o.className,g=o.language,c=o.darkMode,h=o.showLineNumbers,p=void 0!==h&&h,m=o.lineNumberStart,f=void 0===m?1:m,b=o.showWindowChrome,y=void 0!==b&&b,v=o.chromeTitle,w=void 0===v?"":v,C=o.copyable,x=void 0===C||C,k=o.onCopy,j=o.highlightLines,N=void 0===j?[]:j,E=o.languageOptions,S=o.onChange,O=o.customActionButtons,L=void 0===O?[]:O,P=o.showCustomActionButtons,B=void 0!==P&&P,A=o.usePortal,M=void 0===A||A,D=o.portalClassName,F=o.portalContainer,T=o.scrollContainer,_=o.popoverZIndex,z=Oe(o,Vt),I=t(null),H=Pe(n(St.None),2),R=H[0],W=H[1],q=Pe(n(!1),2),J=q[0],G=q[1],$=a((function(){return l.trim().includes("\n")}),[l]),K=d(c),Y=K.theme,Q=K.darkMode,ne=L.filter((function(e){return!0===ee(e,"IconButton")})),te=B&&!!ne.length,re=null==E?void 0:E.find((function(e){return e.displayName===g})),oe=!y&&(x||!!re||te),ie=re?re.language:g,ae=!!re;r((function(){G(x&&V.isSupported())}),[x,y]),X((function(){var e=I.current;null!=e&&e.scrollWidth>e.clientWidth&&W(St.Right)}),[]);var le=e.createElement(at,{showLineNumbers:p,lineNumberStart:f,language:ie,highlightLines:N},l);var se=Z((function(e){var n=e.target,t=n.scrollWidth,r=n.clientWidth;if(t>r){var o=e.target.scrollLeft,i=t-r;o>0&&o<i?W(St.Both):o>0?W(St.Left):o<i&&W(St.Right)}}),50,{leading:!0}),ge=ke({popoverZIndex:_},M?{usePortal:M,portalClassName:D,portalContainer:F,scrollContainer:T}:{usePortal:M});return e.createElement(u,{darkMode:Q},e.createElement("div",{className:Lt[Y]},y&&e.createElement(ct,{chromeTitle:w}),e.createElement("div",{className:U(Pt,It,Wt(R,Y),Ee(Ee(Ee(Ee({},At,ae),Rt,ae),Bt,!oe),Ht,!oe))},e.createElement("pre",Se({},z,{className:U(Mt,zt(Y),Ee(Ee(Ee({},Ft,ae),Dt,!oe),Tt,!$),s),onScroll:function(e){e.persist(),se(e)},ref:I,tabIndex:R!==St.None?0:-1}),le),oe&&e.createElement(jn,Se({className:U(_t),language:re,languageOptions:E,onChange:S,contents:l,onCopy:k,showCopyButton:J,isMultiline:$,customActionButtons:ne,showCustomActionButtons:te},ge)))))}function qt(n){var t=n.className;return e.createElement("svg",{width:"10",height:"10",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:t},e.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.63839 0.187825C9.41602 0.0682998 10.3164 0 11.2578 0C12.1991 0 13.1814 0.0512249 14.0818 0.187825C15.5757 0.392724 16.824 1.31477 16.824 2.56124V6.91536C16.824 8.19598 15.6166 9.23755 14.0818 9.23755H8.59746C6.7557 9.23755 5.17998 10.5865 5.17998 12.0891V14.1893H3.29729C1.72157 14.1893 0.780226 13.216 0.391411 11.8671C-0.140652 10.0401 -0.120188 8.94728 0.391411 7.20563C0.841618 5.68596 2.23317 4.88344 3.82936 4.88344H5.89622H11.3806V4.30289H5.89622V2.56124C5.89622 1.24647 6.32596 0.529324 8.63839 0.187825ZM9.31401 2.27082C9.31401 1.79272 8.8638 1.39999 8.29081 1.39999C7.71782 1.39999 7.26762 1.79272 7.26762 2.27082C7.26762 2.74892 7.71782 3.14164 8.29081 3.14164C8.84334 3.14164 9.31401 2.74892 9.31401 2.27082Z",fill:"url(#paint0_linear)"}),e.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.54 6.91565V4.88373H19.6069C21.203 4.88373 21.9602 5.87408 22.349 7.20592C22.9016 9.05002 22.922 10.4331 22.349 11.8674C21.7965 13.2675 21.203 14.1896 19.6069 14.1896H16.8647H11.3803V14.7701H16.8647V16.4947C16.8647 17.8095 15.5141 18.4754 14.1225 18.8169C12.0352 19.3121 10.3776 19.2438 8.63817 18.8169C7.18523 18.4583 5.896 17.7412 5.896 16.4947V12.1406C5.896 10.8941 7.1443 9.81839 8.63817 9.81839H14.102C15.9438 9.81839 17.54 8.48655 17.54 6.91565ZM15.4946 16.8017C15.4946 16.3236 15.0444 15.9309 14.4714 15.9309C13.8984 15.9309 13.4277 16.3236 13.4482 16.8017C13.4482 17.2798 13.8984 17.6725 14.4714 17.6725C15.0239 17.6725 15.4946 17.2798 15.4946 16.8017Z",fill:"url(#paint1_linear)"}),e.createElement("path",{opacity:"0.4438",d:"M18.7889 21.8047C18.7889 22.4536 15.4942 23 11.4423 23C7.39046 23 4.09576 22.4707 4.09576 21.8047C4.09576 21.1559 7.39046 20.6095 11.4423 20.6095C15.4942 20.6095 18.7889 21.1388 18.7889 21.8047Z",fill:"url(#paint2_radial)"}),e.createElement("defs",null,e.createElement("linearGradient",{id:"paint0_linear",x1:"-5.93176",y1:"5.83768",x2:"4.77152",y2:"16.7453",gradientUnits:"userSpaceOnUse"},e.createElement("stop",{stopColor:"#5A9FD4"}),e.createElement("stop",{offset:"1",stopColor:"#306998"})),e.createElement("linearGradient",{id:"paint1_linear",x1:"20.0177",y1:"13.2526",x2:"16.4716",y2:"7.34899",gradientUnits:"userSpaceOnUse"},e.createElement("stop",{stopColor:"#FFD43B"}),e.createElement("stop",{offset:"1",stopColor:"#FFE873"})),e.createElement("radialGradient",{id:"paint2_radial",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(11.4433 21.7848) rotate(-90) scale(1.18943 36.4954)"},e.createElement("stop",{stopColor:"#B8B8B8",stopOpacity:"0.498"}),e.createElement("stop",{offset:"1",stopColor:"#7F7F7F",stopOpacity:"0.01"}))))}function Jt(n){var t=n.className;return e.createElement("svg",{width:"10",height:"10",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:t},e.createElement("path",{d:"M24 0H0V24H24V0Z",fill:"#F7DF1E"}),e.createElement("path",{d:"M16.1219 18.7505C16.6057 19.539 17.2343 20.1219 18.3467 20.1219C19.28 20.1219 19.8781 19.6533 19.8781 19.0095C19.8781 18.2362 19.2648 17.9619 18.2362 17.5124L17.6724 17.2686C16.0457 16.5752 14.9638 15.7066 14.9638 13.8705C14.9638 12.179 16.2514 10.8914 18.2667 10.8914C19.6991 10.8914 20.7315 11.3905 21.4743 12.6971L19.7181 13.8247C19.3334 13.1314 18.9143 12.8571 18.2667 12.8571C17.6076 12.8571 17.1886 13.2762 17.1886 13.8247C17.1886 14.5028 17.6076 14.7771 18.5753 15.1962L19.1391 15.4362C21.0553 16.259 22.1372 17.0971 22.1372 18.979C22.1372 21.0095 20.541 22.1219 18.4 22.1219C16.3048 22.1219 14.9524 21.1238 14.2895 19.8171L16.1219 18.7505ZM8.1562 18.9447C8.51049 19.5733 8.8343 20.1067 9.60763 20.1067C10.3505 20.1067 10.8153 19.8171 10.8153 18.6895V11.0209H13.0705V18.72C13.0705 21.0552 11.7029 22.1181 9.70287 22.1181C7.89715 22.1181 6.84953 21.1848 6.32001 20.0571L8.1562 18.9447Z",fill:"black"}))}Zt.displayName="Code",Zt.propTypes={children:q.string.isRequired,language:q.oneOfType([q.oneOf(Object.values(He)),q.string]),darkMode:q.bool,className:q.string,showLineNumbers:q.bool,lineNumberStart:q.number,showWindowChrome:q.bool,chromeTitle:q.string,highlightLines:q.arrayOf(q.oneOfType([q.arrayOf(q.number),q.number]))};var Ut=[{displayName:"JavaScript",language:He.JavaScript,image:e.createElement(Jt,null)},{displayName:"Python",language:He.Python,image:e.createElement(qt,null)}],Gt=Ee(Ee({},He.JavaScript,"\n\nfunction greeting(entity) {\n  return `Hello, ${entity}! Cras justo odio, dapibus ac facilisis in, egestas eget quam. Vestibulum id ligula porta felis euismod semper.`;\n}\n\nconsole.log(greeting('World'));\n\n"),He.Python,'\n\ndef greeting(entity):\n    return "Hello {} Cras justo odio, dapibus ac facilisis in, egestas eget quam. Vestibulum id ligula porta felis euismod semper.".format(entity)\n\nprint (greeting("World"))\n\n');function $t(t){var r=t.darkMode,o=t.onChange,i=t.customActionButtons,a=void 0===i?[]:i,l=t.showCustomActionButtons,s=void 0!==l&&l,g=Pe(n(Ut[0]),2),c=g[0],h=g[1],u=c.language;return e.createElement(Zt,{language:null==c?void 0:c.displayName,lineNumberStart:1,onChange:function(e){h(e),null==o||o(e)},languageOptions:Ut,darkMode:r,customActionButtons:a,showCustomActionButtons:s},Gt[u])}var Kt=["baseFontSize","highlightLines"],Xt=["baseFontSize"],Yt={title:"Components/Code",component:Zt,parameters:{default:"LiveExample",controls:{exclude:[].concat(Be(s),["showCustomActionButtons","showCustomButtons","customActionButtons","languageOptions"])},generate:{combineArgs:{darkMode:[!1,!0],copyable:[!0,!1],showWindowChrome:[!1,!0],showLineNumbers:[!1,!0]}}},args:{language:"js",baseFontSize:14,children:"\nimport {greeting} from './utils/greeting'\nconsole.log(greeting('World'));\n",chromeTitle:"example.ts"},argTypes:{copyable:{control:"boolean"},showWindowChrome:{control:"boolean"},showLineNumbers:{control:"boolean"},highlightLines:{control:"boolean"},darkMode:l.darkMode,chromeTitle:{control:"text"},lineNumberStart:{control:"number"},baseFontSize:l.baseFontSize,language:{options:Object.values(He),control:{type:"select"}}}},Qt=function(n){var t=n.baseFontSize,r=n.highlightLines,o=Oe(n,Kt);return e.createElement(u,{baseFontSize:t},e.createElement(Zt,Se({},o,{highlightLines:r?[6,[10,15]]:void 0}),"\nimport datetime from './';\n\nconst myVar = 42;\n\nvar myObj = {\n  someProp: ['arr', 'ay'],\n  regex: /([A-Z])w+/\n}\n\nexport default class myClass {\n  constructor(){\n    // access properties\n    this.myProp = false\n  }\n}\n\nfunction greeting(entity) {\n  return `Hello, ${entity}! Cras justo odio, dapibus ac facilisis in, egestas eget quam. Vestibulum id ligula porta felis euismod semper.`;\n}\n \nconsole.log(greeting('World'));\n"))};Qt.parameters={chromatic:{disableSnapshot:!0}};var er=[e.createElement(h,{onClick:function(){},"aria-label":"label",key:"1"},e.createElement(g,{glyph:"Cloud"})),e.createElement(g,{glyph:"Shell",size:30,key:"3"}),e.createElement(h,{href:"https://mongodb.design","aria-label":"label2",key:"2",target:"_blank"},e.createElement(g,{glyph:"Code",size:30}))],nr=Qt.bind({});nr.args={showCustomActionButtons:!0,customActionButtons:er};var tr=function(n){var t=n.baseFontSize,r=Oe(n,Xt);return e.createElement(u,{baseFontSize:t},e.createElement($t,Se({showCustomActionButtons:!0,customActionButtons:er},r)))},rr=function(){};export{rr as Generated,Qt as LiveExample,nr as WithCustomActions,tr as WithLanguageSwitcher,Yt as default};
