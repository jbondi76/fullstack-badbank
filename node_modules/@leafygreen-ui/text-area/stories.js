import e,{forwardRef as r,useState as o}from"react";import{storybookArgTypes as n}from"@lg-tools/storybook-utils";import t,{useDarkMode as a}from"@leafygreen-ui/leafygreen-provider";import i from"prop-types";import{css as l,cx as d}from"@leafygreen-ui/emotion";import{useIdAllocator as s,useValidation as c}from"@leafygreen-ui/hooks";import b from"@leafygreen-ui/icon/dist/Warning";import{useUpdatedBaseFontSize as u,Label as g,Description as f,bodyTypeScaleStyles as p,Error as m}from"@leafygreen-ui/typography";import{Theme as y}from"@leafygreen-ui/lib";import{palette as h}from"@leafygreen-ui/palette";import{fontFamilies as v,spacing as x,fontWeights as k,transitionDuration as O,focusRing as w,hoverRing as S}from"@leafygreen-ui/tokens";import"@lg-tools/test-harnesses";function j(e){var r=function(e,r){if("object"!=typeof e||!e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var n=o.call(e,r||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}(e,"string");return"symbol"==typeof r?r:r+""}function M(e,r,o){return(r=j(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o,e}function E(){return E=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var o=arguments[r];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},E.apply(this,arguments)}function z(e,r){if(null==e)return{};var o,n,t=function(e,r){if(null==e)return{};var o,n,t={},a=Object.keys(e);for(n=0;n<a.length;n++)o=a[n],r.indexOf(o)>=0||(t[o]=e[o]);return t}(e,r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)o=a[n],r.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(e,o)&&(t[o]=e[o])}return t}function A(e,r){return r||(r=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(r)}}))}function T(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var n,t,a,i,l=[],d=!0,s=!1;try{if(a=(o=o.call(e)).next,0===r){if(Object(o)!==o)return;d=!1}else for(;!(d=(n=a.call(o)).done)&&(l.push(n.value),l.length!==r);d=!0);}catch(e){s=!0,t=e}finally{try{if(!d&&null!=o.return&&(i=o.return(),Object(i)!==i))return}finally{if(s)throw t}}return l}}(e,r)||function(e,r){if(!e)return;if("string"==typeof e)return F(e,r);var o=Object.prototype.toString.call(e).slice(8,-1);"Object"===o&&e.constructor&&(o=e.constructor.name);if("Map"===o||"Set"===o)return Array.from(e);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return F(e,r)}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function F(e,r){(null==r||r>e.length)&&(r=e.length);for(var o=0,n=new Array(r);o<r;o++)n[o]=e[o];return n}var N,P,L,B,C,I,V,D,_,U,W,$="lg-text_area",q={root:$,errorMessage:"".concat($,"-error_message")},G=l(N||(N=A(["\n  display: flex;\n  flex-direction: column;\n"]))),H=l(P||(P=A(["\n  font-family: ",";\n  width: 100%;\n  min-height: ","px;\n  resize: none;\n  margin: 0;\n  padding: 8px 12px 1px 12px;\n  font-size: 14px;\n  font-weight: ",";\n  line-height: 16px;\n  border: 1px solid;\n  border-radius: 6px;\n  transition: ","ms ease-in-out;\n  transition-property: border-color, box-shadow;\n  margin-top: 4px;\n\n  &:focus {\n    outline: none;\n    border-color: transparent;\n    box-shadow: ",";\n  }\n\n  &:disabled {\n    cursor: not-allowed;\n  }\n"])),v.default,x[6],k.regular,O.default,w[y.Light].input),J=l(L||(L=A(["\n  display: flex;\n  height: 20px;\n  margin-top: 5px;\n  align-items: center;\n  font-weight: ",";\n"])),k.regular),K=l(B||(B=A(["\n  line-height: 1;\n"]))),Q=l(C||(C=A(["\n  margin-right: 3px;\n"]))),R=M(M({},y.Light,{textArea:l(I||(I=A(["\n      color: ",";\n      background-color: ",";\n      border-color: ",";\n\n      &:hover:not(:disabled):not(:focus) {\n        border-color: ",";\n        box-shadow: ",";\n      }\n\n      &:disabled {\n        color: ",";\n        background-color: ",";\n        border-color: ",";\n\n        &::placeholder {\n          color: inherit;\n        }\n      }\n    "])),h.gray.dark3,h.white,h.gray.base,h.gray.base,S[y.Light].gray,h.gray.base,h.gray.light2,h.gray.light1),errorBorder:l(V||(V=A(["\n      border-color: ",";\n\n      &:hover:not(:disabled):not(:focus) {\n        border-color: ",";\n        box-shadow: ",";\n      }\n\n      &:disabled {\n        border-color: ",";\n      }\n    "])),h.red.base,h.red.base,S[y.Light].red,h.gray.light1),errorIcon:l(D||(D=A(["\n      color: ",";\n    "])),h.red.base)}),y.Dark,{textArea:l(_||(_=A(["\n      color: ",";\n      background-color: ",";\n      border-color: ",";\n\n      &:hover:not(:disabled):not(:focus) {\n        border-color: ",";\n        box-shadow: ",";\n      }\n\n      &:disabled {\n        color: ",";\n        background-color: ",";\n        border-color: ",";\n\n        &::placeholder {\n          color: inherit;\n        }\n      }\n    "])),h.gray.light3,h.gray.dark4,h.gray.base,h.gray.base,S[y.Dark].gray,h.gray.dark1,h.gray.dark3,h.gray.dark2),errorBorder:l(U||(U=A(["\n      border-color: ",";\n\n      &:hover:not(:disabled):not(:focus) {\n        border-color: ",";\n        box-shadow: ",";\n      }\n\n      &:disabled {\n        border-color: ",";\n      }\n    "])),h.red.light1,h.red.light1,S[y.Dark].red,h.gray.dark2),errorIcon:l(W||(W=A(["\n      color: ",";\n    "])),h.red.light1)}),X={None:"none",Error:"error"},Y=["label","description","className","errorMessage","darkMode","disabled","state","id","value","onChange","onBlur","handleValidation","aria-labelledby","baseFontSize","data-lgid","defaultValue"],Z=r((function(r,n){var i=r.label,l=r.description,y=r.className,h=r.errorMessage,v=r.darkMode,x=r.disabled,k=void 0!==x&&x,O=r.state,w=void 0===O?X.None:O,S=r.id,j=r.value,A=r.onChange,F=r.onBlur,N=r.handleValidation,P=r["aria-labelledby"],L=r.baseFontSize,B=r["data-lgid"],C=void 0===B?q.root:B,I=r.defaultValue,V=void 0===I?"":I,D=z(r,Y),_=u(L),U=s({prefix:"textarea",id:S}),W=a(v),$=W.darkMode,Z=W.theme,ee="string"==typeof j,re=T(o(V),2),oe=re[0],ne=re[1],te=ee?j:oe,ae=c(N);return i||P||console.error("For screen-reader accessibility, label or aria-labelledby must be provided to TextArea."),e.createElement(t,{darkMode:$,baseFontSize:16===_?16:14},e.createElement("div",{className:d(G,y),"data-lgid":C},i&&e.createElement(g,{htmlFor:U,disabled:k},i),l&&e.createElement(f,{disabled:k},l),e.createElement("textarea",E({},D,{"aria-labelledby":P,ref:n,title:null!=i?i:void 0,id:U,className:d(H,p[_],R[Z].textArea,M({},R[Z].errorBorder,w===X.Error&&!k)),disabled:k,onChange:function(e){A&&A(e),ee||ne(e.target.value),ae.onChange(e)},onBlur:function(e){F&&F(e),ae.onBlur(e)},value:te,"aria-invalid":w===X.Error})),!k&&w===X.Error&&h&&e.createElement("div",{className:J},e.createElement(b,{className:d(Q,R[Z].errorIcon)}),e.createElement(m,{className:d(p[_],K),"data-lgid":q.errorMessage},h))))}));Z.displayName="TextArea",Z.propTypes={id:i.string,darkMode:i.bool,label:i.string,description:i.string,errorMessage:i.string,state:i.oneOf(Object.values(X))};var ee=["darkMode","baseFontSize"],re={title:"Components/TextArea",component:Z,parameters:{default:"LiveExample",generate:{combineArgs:{darkMode:[!1,!0],baseFontSize:[13,16],label:[void 0,"Label"],description:[void 0,"This is a description for the text area"],state:Object.values(X),disabled:[!1,!0]},excludeCombinations:[{label:void 0,description:"This is a description for the text area"}]}},argTypes:{baseFontSize:{options:[void 0,13,16],control:{type:"radio"}},label:{control:"text"},description:{control:"text"},errorMessage:{control:"text"},darkMode:n.darkMode},args:{label:"Label",description:"This is a description for the text area",errorMessage:"This is an error message",disabled:!1,placeholder:"Placeholder"}},oe=function(r){var o=r.darkMode,n=r.baseFontSize,a=z(r,ee);return e.createElement(t,{baseFontSize:n},e.createElement(Z,E({darkMode:o},a)))};oe.parameters={chromatic:{disableSnapshot:!0}},oe.argTypes={baseFontSize:{options:[14,16],control:{type:"radio"},description:"Storybook prop only. This font size is passed into the LeafygreenProvider. "}},oe.args={baseFontSize:14};var ne=function(){};export{ne as Generated,oe as LiveExample,re as default};
