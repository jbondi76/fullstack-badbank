import r,{forwardRef as e,useState as n}from"react";import o from"prop-types";import{css as t,cx as a}from"@leafygreen-ui/emotion";import{useIdAllocator as i,useValidation as l}from"@leafygreen-ui/hooks";import d from"@leafygreen-ui/icon/dist/Warning";import s,{useDarkMode as c}from"@leafygreen-ui/leafygreen-provider";import{useUpdatedBaseFontSize as u,Label as g,Description as b,bodyTypeScaleStyles as f,Error as p,LGIDS_TYPOGRAPHY as y}from"@leafygreen-ui/typography";import{Theme as m}from"@leafygreen-ui/lib";import{palette as h}from"@leafygreen-ui/palette";import{fontFamilies as v,spacing as x,fontWeights as w,transitionDuration as O,focusRing as k,hoverRing as j}from"@leafygreen-ui/tokens";import{getByLgId as E,queryBySelector as M}from"@lg-tools/test-harnesses";function S(r){var e=function(r,e){if("object"!=typeof r||!r)return r;var n=r[Symbol.toPrimitive];if(void 0!==n){var o=n.call(r,e||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(r)}(r,"string");return"symbol"==typeof e?e:e+""}function A(r,e,n){return(e=S(e))in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function N(){return N=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(r[o]=n[o])}return r},N.apply(this,arguments)}function I(r,e){if(null==r)return{};var n,o,t=function(r,e){if(null==r)return{};var n,o,t={},a=Object.keys(r);for(o=0;o<a.length;o++)n=a[o],e.indexOf(n)>=0||(t[n]=r[n]);return t}(r,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(o=0;o<a.length;o++)n=a[o],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(r,n)&&(t[n]=r[n])}return t}function z(r,e){return e||(e=r.slice(0)),Object.freeze(Object.defineProperties(r,{raw:{value:Object.freeze(e)}}))}function B(r,e){return function(r){if(Array.isArray(r))return r}(r)||function(r,e){var n=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=n){var o,t,a,i,l=[],d=!0,s=!1;try{if(a=(n=n.call(r)).next,0===e){if(Object(n)!==n)return;d=!1}else for(;!(d=(o=a.call(n)).done)&&(l.push(o.value),l.length!==e);d=!0);}catch(r){s=!0,t=r}finally{try{if(!d&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw t}}return l}}(r,e)||function(r,e){if(!r)return;if("string"==typeof r)return P(r,e);var n=Object.prototype.toString.call(r).slice(8,-1);"Object"===n&&r.constructor&&(n=r.constructor.name);if("Map"===n||"Set"===n)return Array.from(r);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return P(r,e)}(r,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(r,e){(null==e||e>r.length)&&(e=r.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=r[n];return o}var C,D,F,L,T,V,_,U,W,$,q,G="lg-text_area",H={root:G,errorMessage:"".concat(G,"-error_message")},J=t(C||(C=z(["\n  display: flex;\n  flex-direction: column;\n"]))),K=t(D||(D=z(["\n  font-family: ",";\n  width: 100%;\n  min-height: ","px;\n  resize: none;\n  margin: 0;\n  padding: 8px 12px 1px 12px;\n  font-size: 14px;\n  font-weight: ",";\n  line-height: 16px;\n  border: 1px solid;\n  border-radius: 6px;\n  transition: ","ms ease-in-out;\n  transition-property: border-color, box-shadow;\n  margin-top: 4px;\n\n  &:focus {\n    outline: none;\n    border-color: transparent;\n    box-shadow: ",";\n  }\n\n  &:disabled {\n    cursor: not-allowed;\n  }\n"])),v.default,x[6],w.regular,O.default,k[m.Light].input),Q=t(F||(F=z(["\n  display: flex;\n  height: 20px;\n  margin-top: 5px;\n  align-items: center;\n  font-weight: ",";\n"])),w.regular),R=t(L||(L=z(["\n  line-height: 1;\n"]))),X=t(T||(T=z(["\n  margin-right: 3px;\n"]))),Y=A(A({},m.Light,{textArea:t(V||(V=z(["\n      color: ",";\n      background-color: ",";\n      border-color: ",";\n\n      &:hover:not(:disabled):not(:focus) {\n        border-color: ",";\n        box-shadow: ",";\n      }\n\n      &:disabled {\n        color: ",";\n        background-color: ",";\n        border-color: ",";\n\n        &::placeholder {\n          color: inherit;\n        }\n      }\n    "])),h.gray.dark3,h.white,h.gray.base,h.gray.base,j[m.Light].gray,h.gray.base,h.gray.light2,h.gray.light1),errorBorder:t(_||(_=z(["\n      border-color: ",";\n\n      &:hover:not(:disabled):not(:focus) {\n        border-color: ",";\n        box-shadow: ",";\n      }\n\n      &:disabled {\n        border-color: ",";\n      }\n    "])),h.red.base,h.red.base,j[m.Light].red,h.gray.light1),errorIcon:t(U||(U=z(["\n      color: ",";\n    "])),h.red.base)}),m.Dark,{textArea:t(W||(W=z(["\n      color: ",";\n      background-color: ",";\n      border-color: ",";\n\n      &:hover:not(:disabled):not(:focus) {\n        border-color: ",";\n        box-shadow: ",";\n      }\n\n      &:disabled {\n        color: ",";\n        background-color: ",";\n        border-color: ",";\n\n        &::placeholder {\n          color: inherit;\n        }\n      }\n    "])),h.gray.light3,h.gray.dark4,h.gray.base,h.gray.base,j[m.Dark].gray,h.gray.dark1,h.gray.dark3,h.gray.dark2),errorBorder:t($||($=z(["\n      border-color: ",";\n\n      &:hover:not(:disabled):not(:focus) {\n        border-color: ",";\n        box-shadow: ",";\n      }\n\n      &:disabled {\n        border-color: ",";\n      }\n    "])),h.red.light1,h.red.light1,j[m.Dark].red,h.gray.dark2),errorIcon:t(q||(q=z(["\n      color: ",";\n    "])),h.red.light1)}),Z={None:"none",Error:"error"},rr=["label","description","className","errorMessage","darkMode","disabled","state","id","value","onChange","onBlur","handleValidation","aria-labelledby","baseFontSize","data-lgid","defaultValue"],er=e((function(e,o){var t=e.label,y=e.description,m=e.className,h=e.errorMessage,v=e.darkMode,x=e.disabled,w=void 0!==x&&x,O=e.state,k=void 0===O?Z.None:O,j=e.id,E=e.value,M=e.onChange,S=e.onBlur,z=e.handleValidation,P=e["aria-labelledby"],C=e.baseFontSize,D=e["data-lgid"],F=void 0===D?H.root:D,L=e.defaultValue,T=void 0===L?"":L,V=I(e,rr),_=u(C),U=i({prefix:"textarea",id:j}),W=c(v),$=W.darkMode,q=W.theme,G="string"==typeof E,er=B(n(T),2),nr=er[0],or=er[1],tr=G?E:nr,ar=l(z);return t||P||console.error("For screen-reader accessibility, label or aria-labelledby must be provided to TextArea."),r.createElement(s,{darkMode:$,baseFontSize:16===_?16:14},r.createElement("div",{className:a(J,m),"data-lgid":F},t&&r.createElement(g,{htmlFor:U,disabled:w},t),y&&r.createElement(b,{disabled:w},y),r.createElement("textarea",N({},V,{"aria-labelledby":P,ref:o,title:null!=t?t:void 0,id:U,className:a(K,f[_],Y[q].textArea,A({},Y[q].errorBorder,k===Z.Error&&!w)),disabled:w,onChange:function(r){M&&M(r),G||or(r.target.value),ar.onChange(r)},onBlur:function(r){S&&S(r),ar.onBlur(r)},value:tr,"aria-invalid":k===Z.Error})),!w&&k===Z.Error&&h&&r.createElement("div",{className:Q},r.createElement(d,{className:a(X,Y[q].errorIcon)}),r.createElement(p,{className:a(f[_],R),"data-lgid":H.errorMessage},h))))}));er.displayName="TextArea",er.propTypes={id:o.string,darkMode:o.bool,label:o.string,description:o.string,errorMessage:o.string,state:o.oneOf(Object.values(Z))};var nr=function(){var r=E(arguments.length>0&&void 0!==arguments[0]?arguments[0]:H.root),e=M(r,"[data-lgid=".concat(y.label,"]")),n=M(r,"[data-lgid=".concat(y.description,"]")),o=M(r,"textarea"),t=M(r,'[data-lgid="'.concat(H.errorMessage,'"]'));return{getLabel:function(){return e},getDescription:function(){return n},getInput:function(){return o},getErrorMessage:function(){return t},isDisabled:function(){return o.disabled},isError:function(){return!!M(r,'textarea[aria-invalid="true"]')},getInputValue:function(){return o.value}}};export{Z as State,er as default,nr as getTestUtils};
//# sourceMappingURL=index.js.map
