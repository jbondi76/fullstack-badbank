import e,{useRef as n}from"react";import r from"prop-types";import{css as t,cx as o}from"@leafygreen-ui/emotion";import{useIdAllocator as a}from"@leafygreen-ui/hooks";import i,{useDarkMode as l}from"@leafygreen-ui/leafygreen-provider";import{transitionDuration as c,hoverRing as s,focusRing as d,fontWeights as u}from"@leafygreen-ui/tokens";import{useUpdatedBaseFontSize as b,Label as m,Description as g,LGIDS_TYPOGRAPHY as f}from"@leafygreen-ui/typography";import{Transition as p}from"react-transition-group";import{usePrefersReducedMotion as h}from"@leafygreen-ui/a11y";import{createUniqueClassName as y,Theme as k}from"@leafygreen-ui/lib";import{palette as v}from"@leafygreen-ui/palette";import{getByLgId as x,queryBySelector as w}from"@lg-tools/test-harnesses";function j(e){var n=function(e,n){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var t=r.call(e,n||"default");if("object"!=typeof t)return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==typeof n?n:n+""}function O(e,n,r){return(n=j(n))in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function E(){return E=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])}return e},E.apply(this,arguments)}function L(e,n){if(null==e)return{};var r,t,o=function(e,n){if(null==e)return{};var r,t,o={},a=Object.keys(e);for(t=0;t<a.length;t++)r=a[t],n.indexOf(r)>=0||(o[r]=e[r]);return o}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(t=0;t<a.length;t++)r=a[t],n.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function N(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}function S(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var t,o,a,i,l=[],c=!0,s=!1;try{if(a=(r=r.call(e)).next,0===n){if(Object(r)!==r)return;c=!1}else for(;!(c=(t=a.call(r)).done)&&(l.push(t.value),l.length!==n);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw o}}return l}}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return D(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return D(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D(e,n){(null==n||n>e.length)&&(n=e.length);for(var r=0,t=new Array(n);r<n;r++)t[r]=e[r];return t}var C,z,M,P,I,A,F,T,B,W,q,R,U,V,$,G,H,J,K,Q,X,Y,Z,_,ee,ne,re,te,oe,ae,ie,le=14,ce=c.faster,se=100-100*Math.sqrt(2),de={root:"lg-checkbox"},ue=y("ripple"),be=t(C||(C=N(["\n  &,\n  &:before {\n    transition: unset;\n    transition-delay: 0ms;\n    transition-duration: 0ms;\n  }\n"]))),me=t(z||(z=N(["\n  grid-area: check;\n  position: relative;\n  display: flex;\n  z-index: 1;\n  height: ","px;\n  width: ","px;\n  align-items: center;\n  justify-content: center;\n  border-radius: 3px;\n  border: ","px solid;\n  overflow: hidden;\n  background-color: transparent;\n  transition: box-shadow 100ms ease-in-out, background-color 0ms linear,\n    border-color 0ms linear;\n\n  // delay border-color out\n  transition-delay: 0ms, 0ms, ","ms;\n\n  /**\n   * The animated background circle\n   */\n  &:before {\n    content: '';\n    position: absolute;\n    inset: ","%;\n    z-index: 1;\n    border-radius: 100%;\n    transform: scale(0);\n    transform-origin: center center;\n    transition: transform ","ms ease-in-out;\n    transition-delay: ","ms;\n  }\n"])),le,le,2,ce,se,ce,ce/2),ge=O(O({},k.Light,t(M||(M=N(["\n    border-color: ",";\n\n    &:before {\n      background-color: ",";\n    }\n  "])),v.gray.dark2,v.blue.base)),k.Dark,t(P||(P=N(["\n    border-color: ",";\n\n    &:before {\n      background-color: ",";\n    }\n  "])),v.gray.base,v.blue.light1)),fe=t(I||(I=N(["\n  // Delay background transition in\n  transition-delay: 0ms, ","ms, 0ms;\n\n  &:before {\n    transform: scale(1);\n    // No delay on enter\n    transition-delay: 0ms;\n  }\n"])),ce),pe=O(O({},k.Light,t(A||(A=N(["\n    background-color: ",";\n    border-color: ",";\n  "])),v.blue.base,v.blue.base)),k.Dark,t(F||(F=N(["\n    background-color: ",";\n    border-color: ",";\n  "])),v.blue.light1,v.blue.light1)),he=O(O({},k.Light,t(T||(T=N(["\n    border-color: ",";\n    background-color: ",";\n    box-shadow: unset;\n\n    &:before {\n      background-color: ",";\n    }\n  "])),v.gray.light2,v.gray.light3,v.gray.light3)),k.Dark,t(B||(B=N(["\n    border-color: ",";\n    background-color: ",";\n    box-shadow: unset;\n\n    &:before {\n      background-color: ",";\n    }\n  "])),v.gray.dark2,v.gray.dark3,v.gray.dark3)),ye=O(O({},k.Light,t(W||(W=N(["\n    background-color: ",";\n\n    &:before {\n      background-color: ",";\n    }\n  "])),v.gray.light2,v.gray.light2)),k.Dark,t(q||(q=N(["\n    background-color: ",";\n\n    &:before {\n      background-color: ",";\n    }\n  "])),v.gray.dark2,v.gray.dark2)),ke=t(R||(R=N(["\n  grid-area: check;\n  position: relative;\n  top: ","px;\n  height: ","px;\n  width: ","px;\n  z-index: 0;\n  border-radius: 100%;\n  opacity: 1;\n  transform: scale(0);\n  transform-origin: center center;\n  transition: 0ms ease-in-out;\n  transition-property: transform, opacity;\n"])),2,le,le),ve=O(O({},k.Light,t(U||(U=N(["\n    background-color: ",";\n  "])),v.blue.dark1)),k.Dark,t(V||(V=N(["\n    background-color: ",";\n  "])),v.blue.light2)),xe=t($||($=N(["\n  // only animate ripple on enter\n  transition-duration: ","ms;\n  transition-delay: ","ms;\n  transform: scale(",");\n  opacity: 0;\n"])),4*ce,-1.7777777777777777*ce,2.25),we=t(G||(G=N(["\n  z-index: 1;\n  transform-origin: center;\n  transition: transform ","ms ease-in-out;\n"])),ce),je=t(H||(H=N(["\n  transform: scale(1) rotate(0);\n  transition-delay: ","ms;\n"])),ce/8),Oe=t(J||(J=N(["\n  transform: scale(0) rotate(-45deg);\n"]))),Ee={entering:Oe,entered:je,exiting:Oe,exited:Oe,unmounted:Oe},Le=function(n){var r;return e.createElement("svg",E({width:"10",height:"10",viewBox:"0 0 10 10",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n),e.createElement("path",{d:"M2 5.5L4.12132 7.62132L8.36396 3.37868",stroke:null!==(r=n.stroke)&&void 0!==r?r:v.white,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}))},Ne=function(n){var r;return e.createElement("svg",E({width:"10",height:"10",viewBox:"0 0 10 10",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n),e.createElement("line",{x1:"2",x2:"8",y1:"5",y2:"5",strokeWidth:"2",strokeLinecap:"round",stroke:null!==(r=n.stroke)&&void 0!==r?r:v.white}))},Se=O(O({},k.Light,{default:v.white,disabled:v.gray.light3}),k.Dark,{default:v.white,disabled:v.gray.dark1});function De(r){var t=r.theme,a=r.isChecked,i=r.indeterminate,l=r.disabled,c=r.animate,s=r.selector,d=h(),u=i?Ne:Le,b=i||a,m=c&&!i&&!d,g=n(null);return e.createElement(e.Fragment,null,e.createElement("div",{className:o(s,me,ge[t],O(O(O(O(O({},fe,b),pe[t],b),he[t],l),ye[t],l&&b),be,!m))},e.createElement(p,{in:b,timeout:d?0:ce,enter:m,exit:m,nodeRef:g},(function(n){return e.createElement(u,{stroke:l?Se[t].disabled:Se[t].default,className:o(we,Ee[n],O({},be,!m))})}))),e.createElement("div",{className:o(ue,ke,ve[t],O(O({},xe,a&&m),be,!m))}))}var Ce,ze=y("check-wrapper"),Me=y("input"),Pe=t(K||(K=N(["\n  display: grid;\n  grid-template-columns: ","px auto;\n  grid-template-areas: 'label label' '. description';\n  gap: 0 8px;\n  position: relative;\n  align-items: center;\n  justify-content: flex-start;\n  z-index: 0;\n"])),le),Ie=t(Q||(Q=N(["\n  cursor: not-allowed;\n"]))),Ae=t(X||(X=N(["\n  grid-area: label;\n  display: grid;\n  grid-template-columns: ","px auto;\n  grid-template-areas: 'check text';\n  gap: 8px;\n  justify-content: flex-start;\n  align-items: baseline;\n  cursor: pointer;\n"])),le),Fe="\n  &:hover:not(:focus-within)\n    > .".concat(Me,":not([disabled])\n      + .").concat(ze,"\n"),Te=O(O({},k.Light,t(Y||(Y=N(["\n    "," {\n      box-shadow: ",";\n    }\n  "])),Fe,s.light.gray)),k.Dark,t(Z||(Z=N(["\n    "," {\n      box-shadow: ",";\n    }\n  "])),Fe,s.dark.gray)),Be=t(_||(_=N(["\n  cursor: not-allowed;\n"]))),We=t(ee||(ee=N(["\n  margin: 0;\n  position: absolute;\n  height: 0;\n  width: 0;\n  left: 0;\n  top: 0;\n  pointer-events: none;\n  opacity: 0;\n"]))),qe=O(O({},k.Light,t(ne||(ne=N(["\n    &:focus-visible + ."," {\n      box-shadow: ",";\n    }\n  "])),ze,d.light.default)),k.Dark,t(re||(re=N(["\n    &:focus-visible + ."," {\n      box-shadow: ",";\n    }\n  "])),ze,d.dark.default)),Re=t(te||(te=N(["\n  align-self: baseline;\n"]))),Ue=t(oe||(oe=N(["\n  grid-area: description;\n"])));O(O({},k.Light,t(ae||(ae=N(["\n    color: ",";\n  "])),v.black)),k.Dark,t(ie||(ie=N(["\n    color: ",";\n  "])),v.gray.light2));var Ve=["animate","aria-label","baseFontSize","bold","checked","className","darkMode","data-lgid","description","disabled","id","indeterminate","label","onClick","onChange","name","style"];function $e(n){var r=n.animate,c=void 0===r||r,s=n["aria-label"],d=void 0===s?"checkbox":s,f=n.baseFontSize,p=n.bold,h=n.checked,y=n.className,k=n.darkMode,v=n["data-lgid"],x=void 0===v?de.root:v,w=n.description,j=n.disabled,D=void 0!==j&&j,C=n.id,z=n.indeterminate,M=n.label,P=void 0===M?"":M,I=n.onClick,A=n.onChange,F=n.name,T=n.style,B=L(n,Ve),W=l(k),q=W.darkMode,R=W.theme,U=b(f),V=S(e.useState(!1),2),$=V[0],G=V[1],H=e.useMemo((function(){return null!=h?h:$}),[h,$]),J=a({prefix:"checkbox",id:C}),K="".concat(J,"-label"),Q=null!=p?p:!!w,X=function(e){A&&A(e),null==h&&G(e.target.checked)};return e.createElement(i,{baseFontSize:16===U?U:14,darkMode:q},e.createElement("div",{className:o(Pe,O({},Ie,D),y),"data-lgid":x,style:T},e.createElement(m,{id:K,htmlFor:J,disabled:D,className:o(Ae,Te[R],O({},Be,D))},e.createElement("input",E({},B,{id:J,className:o(Me,We,qe[R]),type:"checkbox",name:F,checked:H,"aria-label":d,"aria-disabled":D,"aria-checked":z?"mixed":H,"aria-labelledby":K,onClick:function(e){I&&I(e),z&&(X(e),e.stopPropagation())},onChange:X})),e.createElement(De,{theme:R,isChecked:H,indeterminate:z,disabled:D,animate:c,selector:ze}),P&&e.createElement("span",{className:o(Re,O({},t(Ce||(Ce=N(["\n                  font-weight: ",";\n                "])),u.regular),!Q))},P)),w&&e.createElement(g,{className:Ue,disabled:D},w)))}$e.displayName="Checkbox",$e.propTypes={darkMode:r.bool,description:r.string,checked:r.bool,label:r.node,disabled:r.bool,indeterminate:r.bool,className:r.string,onChange:r.func,id:r.oneOfType([r.number,r.string]),animate:r.bool};var Ge=function(){var e=x(arguments.length>0&&void 0!==arguments[0]?arguments[0]:de.root),n=w(e,"[data-lgid=".concat(f.label,"]")),r=w(e,"[data-lgid=".concat(f.description,"]")),t=w(e,'input[type="checkbox"]');return{getLabel:function(){return n},getDescription:function(){return r},getInput:function(){return t},isDisabled:function(){return!!w(e,'[aria-disabled="true"]')},isIndeterminate:function(){return!!w(e,'[aria-checked="mixed"]')},getInputValue:function(){return t.checked}}};export{de as LGIDS_CHECKBOX,$e as default,Ge as getTestUtils};
//# sourceMappingURL=index.js.map
