import e,{useRef as n}from"react";import{storybookArgTypes as r,storybookExcludedControlParams as t}from"@lg-tools/storybook-utils";import{css as o,cx as a}from"@leafygreen-ui/emotion";import i,{useDarkMode as l}from"@leafygreen-ui/leafygreen-provider";import s from"prop-types";import{useIdAllocator as c}from"@leafygreen-ui/hooks";import{transitionDuration as d,hoverRing as u,focusRing as b,fontWeights as m}from"@leafygreen-ui/tokens";import{useUpdatedBaseFontSize as g,Label as f,Description as p}from"@leafygreen-ui/typography";import{Transition as h}from"react-transition-group";import{usePrefersReducedMotion as y}from"@leafygreen-ui/a11y";import{createUniqueClassName as k,Theme as v}from"@leafygreen-ui/lib";import{palette as x}from"@leafygreen-ui/palette";import"@lg-tools/test-harnesses";function w(e){var n=function(e,n){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var t=r.call(e,n||"default");if("object"!=typeof t)return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==typeof n?n:n+""}function j(e,n,r){return(n=w(n))in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function E(){return E=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])}return e},E.apply(this,arguments)}function S(e,n){if(null==e)return{};var r,t,o=function(e,n){if(null==e)return{};var r,t,o={},a=Object.keys(e);for(t=0;t<a.length;t++)r=a[t],n.indexOf(r)>=0||(o[r]=e[r]);return o}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(t=0;t<a.length;t++)r=a[t],n.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function O(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}function N(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var t,o,a,i,l=[],s=!0,c=!1;try{if(a=(r=r.call(e)).next,0===n){if(Object(r)!==r)return;s=!1}else for(;!(s=(t=a.call(r)).done)&&(l.push(t.value),l.length!==n);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw o}}return l}}(e,n)||L(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function z(e){return function(e){if(Array.isArray(e))return C(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||L(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function L(e,n){if(e){if("string"==typeof e)return C(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?C(e,n):void 0}}function C(e,n){(null==n||n>e.length)&&(n=e.length);for(var r=0,t=new Array(n);r<n;r++)t[r]=e[r];return t}var M,A,D,F,T,I,P,B,W,q,R,U,$,G,H,J,K,Q,V,X,Y,Z,_,ee,ne,re,te,oe,ae,ie,le,se=14,ce=d.faster,de=100-100*Math.sqrt(2),ue="lg-checkbox",be=k("ripple"),me=o(M||(M=O(["\n  &,\n  &:before {\n    transition: unset;\n    transition-delay: 0ms;\n    transition-duration: 0ms;\n  }\n"]))),ge=o(A||(A=O(["\n  grid-area: check;\n  position: relative;\n  display: flex;\n  z-index: 1;\n  height: ","px;\n  width: ","px;\n  align-items: center;\n  justify-content: center;\n  border-radius: 3px;\n  border: ","px solid;\n  overflow: hidden;\n  background-color: transparent;\n  transition: box-shadow 100ms ease-in-out, background-color 0ms linear,\n    border-color 0ms linear;\n\n  // delay border-color out\n  transition-delay: 0ms, 0ms, ","ms;\n\n  /**\n   * The animated background circle\n   */\n  &:before {\n    content: '';\n    position: absolute;\n    inset: ","%;\n    z-index: 1;\n    border-radius: 100%;\n    transform: scale(0);\n    transform-origin: center center;\n    transition: transform ","ms ease-in-out;\n    transition-delay: ","ms;\n  }\n"])),se,se,2,ce,de,ce,ce/2),fe=j(j({},v.Light,o(D||(D=O(["\n    border-color: ",";\n\n    &:before {\n      background-color: ",";\n    }\n  "])),x.gray.dark2,x.blue.base)),v.Dark,o(F||(F=O(["\n    border-color: ",";\n\n    &:before {\n      background-color: ",";\n    }\n  "])),x.gray.base,x.blue.light1)),pe=o(T||(T=O(["\n  // Delay background transition in\n  transition-delay: 0ms, ","ms, 0ms;\n\n  &:before {\n    transform: scale(1);\n    // No delay on enter\n    transition-delay: 0ms;\n  }\n"])),ce),he=j(j({},v.Light,o(I||(I=O(["\n    background-color: ",";\n    border-color: ",";\n  "])),x.blue.base,x.blue.base)),v.Dark,o(P||(P=O(["\n    background-color: ",";\n    border-color: ",";\n  "])),x.blue.light1,x.blue.light1)),ye=j(j({},v.Light,o(B||(B=O(["\n    border-color: ",";\n    background-color: ",";\n    box-shadow: unset;\n\n    &:before {\n      background-color: ",";\n    }\n  "])),x.gray.light2,x.gray.light3,x.gray.light3)),v.Dark,o(W||(W=O(["\n    border-color: ",";\n    background-color: ",";\n    box-shadow: unset;\n\n    &:before {\n      background-color: ",";\n    }\n  "])),x.gray.dark2,x.gray.dark3,x.gray.dark3)),ke=j(j({},v.Light,o(q||(q=O(["\n    background-color: ",";\n\n    &:before {\n      background-color: ",";\n    }\n  "])),x.gray.light2,x.gray.light2)),v.Dark,o(R||(R=O(["\n    background-color: ",";\n\n    &:before {\n      background-color: ",";\n    }\n  "])),x.gray.dark2,x.gray.dark2)),ve=o(U||(U=O(["\n  grid-area: check;\n  position: relative;\n  top: ","px;\n  height: ","px;\n  width: ","px;\n  z-index: 0;\n  border-radius: 100%;\n  opacity: 1;\n  transform: scale(0);\n  transform-origin: center center;\n  transition: 0ms ease-in-out;\n  transition-property: transform, opacity;\n"])),2,se,se),xe=j(j({},v.Light,o($||($=O(["\n    background-color: ",";\n  "])),x.blue.dark1)),v.Dark,o(G||(G=O(["\n    background-color: ",";\n  "])),x.blue.light2)),we=o(H||(H=O(["\n  // only animate ripple on enter\n  transition-duration: ","ms;\n  transition-delay: ","ms;\n  transform: scale(",");\n  opacity: 0;\n"])),4*ce,-1.7777777777777777*ce,2.25),je=o(J||(J=O(["\n  z-index: 1;\n  transform-origin: center;\n  transition: transform ","ms ease-in-out;\n"])),ce),Ee=o(K||(K=O(["\n  transform: scale(1) rotate(0);\n  transition-delay: ","ms;\n"])),ce/8),Se=o(Q||(Q=O(["\n  transform: scale(0) rotate(-45deg);\n"]))),Oe={entering:Se,entered:Ee,exiting:Se,exited:Se,unmounted:Se},Ne=function(n){var r;return e.createElement("svg",E({width:"10",height:"10",viewBox:"0 0 10 10",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n),e.createElement("path",{d:"M2 5.5L4.12132 7.62132L8.36396 3.37868",stroke:null!==(r=n.stroke)&&void 0!==r?r:x.white,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}))},ze=function(n){var r;return e.createElement("svg",E({width:"10",height:"10",viewBox:"0 0 10 10",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n),e.createElement("line",{x1:"2",x2:"8",y1:"5",y2:"5",strokeWidth:"2",strokeLinecap:"round",stroke:null!==(r=n.stroke)&&void 0!==r?r:x.white}))},Le=j(j({},v.Light,{default:x.white,disabled:x.gray.light3}),v.Dark,{default:x.white,disabled:x.gray.dark1});function Ce(r){var t=r.theme,o=r.isChecked,i=r.indeterminate,l=r.disabled,s=r.animate,c=r.selector,d=y(),u=i?ze:Ne,b=i||o,m=s&&!i&&!d,g=n(null);return e.createElement(e.Fragment,null,e.createElement("div",{className:a(c,ge,fe[t],j(j(j(j(j({},pe,b),he[t],b),ye[t],l),ke[t],l&&b),me,!m))},e.createElement(h,{in:b,timeout:d?0:ce,enter:m,exit:m,nodeRef:g},(function(n){return e.createElement(u,{stroke:l?Le[t].disabled:Le[t].default,className:a(je,Oe[n],j({},me,!m))})}))),e.createElement("div",{className:a(be,ve,xe[t],j(j({},we,o&&m),me,!m))}))}var Me,Ae=k("check-wrapper"),De=k("input"),Fe=o(V||(V=O(["\n  display: grid;\n  grid-template-columns: ","px auto;\n  grid-template-areas: 'label label' '. description';\n  gap: 0 8px;\n  position: relative;\n  align-items: center;\n  justify-content: flex-start;\n  z-index: 0;\n"])),se),Te=o(X||(X=O(["\n  cursor: not-allowed;\n"]))),Ie=o(Y||(Y=O(["\n  grid-area: label;\n  display: grid;\n  grid-template-columns: ","px auto;\n  grid-template-areas: 'check text';\n  gap: 8px;\n  justify-content: flex-start;\n  align-items: baseline;\n  cursor: pointer;\n"])),se),Pe="\n  &:hover:not(:focus-within)\n    > .".concat(De,":not([disabled])\n      + .").concat(Ae,"\n"),Be=j(j({},v.Light,o(Z||(Z=O(["\n    "," {\n      box-shadow: ",";\n    }\n  "])),Pe,u.light.gray)),v.Dark,o(_||(_=O(["\n    "," {\n      box-shadow: ",";\n    }\n  "])),Pe,u.dark.gray)),We=o(ee||(ee=O(["\n  cursor: not-allowed;\n"]))),qe=o(ne||(ne=O(["\n  margin: 0;\n  position: absolute;\n  height: 0;\n  width: 0;\n  left: 0;\n  top: 0;\n  pointer-events: none;\n  opacity: 0;\n"]))),Re=j(j({},v.Light,o(re||(re=O(["\n    &:focus-visible + ."," {\n      box-shadow: ",";\n    }\n  "])),Ae,b.light.default)),v.Dark,o(te||(te=O(["\n    &:focus-visible + ."," {\n      box-shadow: ",";\n    }\n  "])),Ae,b.dark.default)),Ue=o(oe||(oe=O(["\n  align-self: baseline;\n"]))),$e=o(ae||(ae=O(["\n  grid-area: description;\n"])));j(j({},v.Light,o(ie||(ie=O(["\n    color: ",";\n  "])),x.black)),v.Dark,o(le||(le=O(["\n    color: ",";\n  "])),x.gray.light2));var Ge=["animate","aria-label","baseFontSize","bold","checked","className","darkMode","data-lgid","description","disabled","id","indeterminate","label","onClick","onChange","name","style"];function He(n){var r=n.animate,t=void 0===r||r,s=n["aria-label"],d=void 0===s?"checkbox":s,u=n.baseFontSize,b=n.bold,h=n.checked,y=n.className,k=n.darkMode,v=n["data-lgid"],x=void 0===v?ue:v,w=n.description,z=n.disabled,L=void 0!==z&&z,C=n.id,M=n.indeterminate,A=n.label,D=void 0===A?"":A,F=n.onClick,T=n.onChange,I=n.name,P=n.style,B=S(n,Ge),W=l(k),q=W.darkMode,R=W.theme,U=g(u),$=N(e.useState(!1),2),G=$[0],H=$[1],J=e.useMemo((function(){return null!=h?h:G}),[h,G]),K=c({prefix:"checkbox",id:C}),Q="".concat(K,"-label"),V=null!=b?b:!!w,X=function(e){T&&T(e),null==h&&H(e.target.checked)};return e.createElement(i,{baseFontSize:16===U?U:14,darkMode:q},e.createElement("div",{className:a(Fe,j({},Te,L),y),"data-lgid":x,style:P},e.createElement(f,{id:Q,htmlFor:K,disabled:L,className:a(Ie,Be[R],j({},We,L))},e.createElement("input",E({},B,{id:K,className:a(De,qe,Re[R]),type:"checkbox",name:I,checked:J,"aria-label":d,"aria-disabled":L,"aria-checked":M?"mixed":J,"aria-labelledby":Q,onClick:function(e){F&&F(e),M&&(X(e),e.stopPropagation())},onChange:X})),e.createElement(Ce,{theme:R,isChecked:J,indeterminate:M,disabled:L,animate:t,selector:Ae}),D&&e.createElement("span",{className:a(Ue,j({},o(Me||(Me=O(["\n                  font-weight: ",";\n                "])),m.regular),!V))},D)),w&&e.createElement(p,{className:$e,disabled:L},w)))}He.displayName="Checkbox",He.propTypes={darkMode:s.bool,description:s.string,checked:s.bool,label:s.node,disabled:s.bool,indeterminate:s.bool,className:s.string,onChange:s.func,id:s.oneOfType([s.number,s.string]),animate:s.bool};var Je,Ke,Qe=["baseFontSize"],Ve="This is a description for the checkbox",Xe={title:"Components/Checkbox",component:He,parameters:{default:"LiveExample",controls:{exclude:[].concat(z(t),["checked"])},generate:{combineArgs:{darkMode:[!1,!0],checked:[!0,!1],indeterminate:[!1,!0],bold:[!0,!1],disabled:[!1,!0],description:[void 0,Ve],label:["I agree to this thing",void 0]},excludeCombinations:[["description",{label:void 0}],{bold:!0,label:void 0},{checked:!0,indeterminate:!0}],args:{className:o(Je||(Je=O(["\n          text-align: initial;\n          max-width: 300px;\n        "])))}}},args:{animate:!0,label:"I agree to this thing.",description:Ve,className:o(Ke||(Ke=O(["\n      max-width: 700px;\n    "])))},argTypes:{label:{control:"text"},description:{control:"text"},darkMode:r.darkMode,disabled:{control:"boolean"},bold:{control:"boolean"},indeterminate:{control:"boolean"},animate:{control:"boolean",default:!0},baseFontSize:r.baseFontSize}},Ye=function(n){var r=n.baseFontSize,t=S(n,Qe);return e.createElement(i,{baseFontSize:r},e.createElement(He,t))};Ye.parameters={chromatic:{disableSnapshot:!0}};var Ze=Ye.bind({});Ze.parameters={controls:{exclude:z(t)},chromatic:{disableSnapshot:!0}},Ze.args={checked:!1},Ze.argTypes={checked:{control:"boolean"}};var _e=function(){};export{Ze as Controlled,_e as Generated,Ye as LiveExample,Xe as default};
