import n,{createContext as e,useContext as r,useRef as t,useState as o,useCallback as i,useMemo as a,useEffect as l}from"react";import c from"lodash/isUndefined";import u from"prop-types";import{css as s,cx as d}from"@leafygreen-ui/emotion";import{useForceRerender as f,useAvailableSpace as g,useBackdropClick as p,useEventListener as b}from"@leafygreen-ui/hooks";import{useDarkMode as h}from"@leafygreen-ui/leafygreen-provider";import{Theme as m,isComponentType as v,keyMap as y,createUniqueClassName as k,getNodeTextContent as x}from"@leafygreen-ui/lib";import{palette as w}from"@leafygreen-ui/palette";import O,{Align as E,Justify as N}from"@leafygreen-ui/popover";import{InferredPolymorphic as D,useInferredPolymorphic as j}from"@leafygreen-ui/polymorphic";import{transitionDuration as C,fontWeights as S,fontFamilies as L}from"@leafygreen-ui/tokens";import{Transition as M}from"react-transition-group";import P from"@leafygreen-ui/icon/dist/ChevronDown";import z from"@leafygreen-ui/icon/dist/ChevronUp";import I from"@leafygreen-ui/icon-button";function T(n,e){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(n);e&&(t=t.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.push.apply(r,t)}return r}function A(n){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?T(Object(r),!0).forEach((function(e){R(n,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):T(Object(r)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(r,e))}))}return n}function F(n){return F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},F(n)}function R(n,e,r){return(e=function(n){var e=function(n,e){if("object"!=typeof n||null===n)return n;var r=n[Symbol.toPrimitive];if(void 0!==r){var t=r.call(n,e||"default");if("object"!=typeof t)return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"==typeof e?e:String(e)}(e))in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}function U(){return U=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}return n},U.apply(this,arguments)}function Z(n,e){if(null==n)return{};var r,t,o=function(n,e){if(null==n)return{};var r,t,o={},i=Object.keys(n);for(t=0;t<i.length;t++)r=i[t],e.indexOf(r)>=0||(o[r]=n[r]);return o}(n,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);for(t=0;t<i.length;t++)r=i[t],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(n,r)&&(o[r]=n[r])}return o}function q(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}function H(n,e){return function(n){if(Array.isArray(n))return n}(n)||function(n,e){var r=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=r){var t,o,i,a,l=[],c=!0,u=!1;try{if(i=(r=r.call(n)).next,0===e){if(Object(r)!==r)return;c=!1}else for(;!(c=(t=i.call(r)).done)&&(l.push(t.value),l.length!==e);c=!0);}catch(n){u=!0,o=n}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(n,e)||function(n,e){if(!n)return;if("string"==typeof n)return K(n,e);var r=Object.prototype.toString.call(n).slice(8,-1);"Object"===r&&n.constructor&&(r=n.constructor.name);if("Map"===r||"Set"===r)return Array.from(n);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return K(n,e)}(n,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function K(n,e){(null==e||e>n.length)&&(e=n.length);for(var r=0,t=new Array(e);r<e;r++)t[r]=n[r];return t}var _,B,V,W,Y=e({theme:"light",darkMode:!1}),$=s(_||(_=q(["\n  height: 16px;\n  position: relative;\n\n  &::before {\n    content: '';\n    position: absolute;\n    height: 1px;\n    width: 100%;\n    left: 0;\n    top: 50%;\n    transform: translateY(-50%);\n  }\n"]))),G=(R(W={},m.Light,s(B||(B=q(["\n    &::before {\n      background-color: ",";\n    }\n  "])),w.gray.dark2)),R(W,m.Dark,s(V||(V=q(["\n    &::before {\n      background-color: ",";\n    }\n  "])),w.gray.dark2)),W);function J(e){var t=e.className,o=r(Y).theme;return n.createElement("li",{role:"separator",className:d($,G[o],t)})}J.displayName="MenuSeparator";var Q,X,nn,en,rn,tn,on=["align","justify","adjustOnMutation","shouldClose","spacing","maxHeight","usePortal","initialOpen","open","setOpen","darkMode","children","className","refEl","trigger","portalClassName","portalContainer","scrollContainer","popoverZIndex"],an=["children"],ln=s(Q||(Q=q(["\n  width: 210px;\n  border-radius: 12px;\n  overflow: auto;\n  padding: 14px 0;\n"]))),cn=(R(en={},m.Light,s(X||(X=q(["\n    background-color: ",";\n    border: 1px solid ",";\n  "])),w.black,w.black)),R(en,m.Dark,s(nn||(nn=q(["\n    background-color: ",";\n    border: 1px solid ",";\n  "])),w.gray.dark3,w.gray.dark2)),en),un=s(rn||(rn=q(["\n  overflow: auto;\n  list-style: none;\n  margin-block-start: 0px;\n  margin-block-end: 0px;\n  padding-inline-start: 0px;\n  padding: 0px;\n"]))),sn=n.forwardRef((function(e,r){var u=e.align,m=void 0===u?E.Bottom:u,k=e.justify,x=void 0===k?N.End:k,w=e.adjustOnMutation,D=void 0!==w&&w,j=e.shouldClose,C=void 0===j?function(){return!0}:j,S=e.spacing,L=void 0===S?6:S,M=e.maxHeight,P=void 0===M?344:M,z=e.usePortal,I=void 0===z||z,T=e.initialOpen,K=void 0!==T&&T,_=e.open,B=e.setOpen,V=e.darkMode,W=e.children,$=e.className,G=e.refEl,Q=e.trigger,X=e.portalClassName,nn=e.portalContainer,en=e.scrollContainer,rn=e.popoverZIndex,sn=Z(e,on),dn=h(V),fn=dn.theme,gn=dn.darkMode,pn=t(!1),bn=t(!1),hn=H(o(!1),2)[1],mn=t(null),vn=H(o(K),2),yn=vn[0],kn=vn[1],xn=t(null),wn="boolean"==typeof _&&B||kn,On=null!=_?_:yn,En=i((function(){C()&&wn(!1)}),[wn,C]),Nn=f(),Dn=t(null),jn=g(G||Dn,L),Cn=a((function(){return jn}),[jn]),Sn=c(Cn)?"unset":"".concat(Math.min(Cn,P),"px"),Ln=n.useMemo((function(){if(null==W||["boolean","number","string"].includes(F(W)))return{updatedChildren:void 0,refs:[]};var e=[],r=[];return{updatedChildren:function t(o){return n.Children.map(o,(function(o){var i,a;if(!n.isValidElement(o)||null!==(i=o.props)&&void 0!==i&&i.disabled)return o;var l=o.props,c=null,u=function(n){null!=n&&(r.push(n),c=n,On&&!1===pn.current&&(In(r[0]),pn.current=!0))},s=null!==(a=null==l?void 0:l.title)&&void 0!==a&&a,d=function(n){var e=n.target;zn.current=e};if(v(o,"SubMenu")&&s){var f,g;if(e.includes(s))throw new Error("SubMenu titles must be unique");e.push(s),!mn.current&&l.active&&!bn.current&&(mn.current=o,bn.current=!0);var p=(null===(f=mn.current)||void 0===f||null===(g=f.props)||void 0===g?void 0:g.title)===s;return n.cloneElement(o,{ref:u,open:p,setOpen:function(n){c&&(zn.current=c),mn.current=n?o:null,bn.current=!0,Nn()},onKeyDown:function(n){n.key===y.ArrowLeft&&p&&(mn.current=null,bn.current=!0,Nn()),n.key===y.ArrowRight&&(mn.current=o,bn.current=!0,Nn())},onFocus:d,children:t(l.children),onExited:function(){hn((function(n){return!n}))}})}if(v(o,"MenuItem"))return n.cloneElement(o,{ref:u,onFocus:d,onClick:function(n){var e,r;null===(e=o.props)||void 0===e||null===(r=e.onClick)||void 0===r||r.call(e,n),En()}});if(v(o,"FocusableMenuItem"))return n.cloneElement(o,{ref:u,onFocus:d});if(v(o,"MenuSeparator"))return n.createElement(J,l);if(null!=l&&l.children){l.children;var b=Z(l,an);return n.cloneElement(o,A({children:t(l.children)},b))}return o}))}(W),refs:r}}),[W,On,Nn,En]),Mn=Ln.updatedChildren,Pn=Ln.refs,zn=t(Pn[0]||null),In=function(n){null!=n&&(zn.current=n,n.focus())};l((function(){On&&(pn.current=!1,bn.current=!1)}),[On]),p(En,[xn,Dn],On),b("keydown",(function(n){var e,r,t;switch(n.key){case y.ArrowDown:n.preventDefault(),t=Pn[(Pn.indexOf(zn.current)+1)%Pn.length],In(t);break;case y.ArrowUp:n.preventDefault(),t=Pn[(Pn.indexOf(zn.current)-1+Pn.length)%Pn.length],In(t);break;case y.Tab:n.preventDefault(),En(),In(null===(e=G||Dn)||void 0===e?void 0:e.current);break;case y.Escape:En(),In(null===(r=G||Dn)||void 0===r?void 0:r.current);break;case y.Space:case y.Enter:On||In(Pn[0])}}),{enabled:On});var Tn=A({popoverZIndex:rn},I?{spacing:L,usePortal:I,portalClassName:X,portalContainer:nn,scrollContainer:en}:{spacing:L,usePortal:I}),An=a((function(){return{theme:fn,darkMode:gn}}),[fn,gn]),Fn=n.createElement(Y.Provider,{value:An},n.createElement(O,U({key:"popover",active:On,align:m,justify:x,refEl:G,adjustOnMutation:D},Tn),n.createElement("div",{className:d(ln,cn[fn],s(tn||(tn=q(["\n              max-height: ",";\n            "])),Sn),$),ref:r},n.createElement("ul",U({},sn,{className:un,role:"menu",onClick:function(n){return n.stopPropagation()},ref:xn}),Mn))));if(Q){var Rn,Un,Zn=function(n){var e,r,t,o;(wn((function(n){return!n})),Q&&"function"!=typeof Q)&&(null===(t=Q.props)||void 0===t||null===(o=t.onClick)||void 0===o||o.call(t,n));null==n||null===(e=n.nativeEvent)||void 0===e||null===(r=e.stopPropagation)||void 0===r||r.call(e)};return"function"==typeof Q?Q((R(Un={onClick:Zn,ref:Dn,children:Fn},"aria-expanded",On),R(Un,"aria-haspopup",!0),Un)):n.cloneElement(Q,(R(Rn={ref:Dn,onClick:Zn,children:n.createElement(n.Fragment,null,Q.props.children,Fn)},"aria-expanded",On),R(Rn,"aria-haspopup",!0),Rn))}return Fn}));sn.displayName="Menu",sn.propTypes={children:u.node,className:u.string,align:u.oneOf(Object.values(E)),justify:u.oneOf(Object.values(N)),refEl:u.shape({current:"undefined"!=typeof window?u.instanceOf(Element):u.any}),usePortal:u.bool,trigger:u.oneOfType([u.node,u.func]),open:u.bool,setOpen:u.func,darkMode:u.bool};var dn,fn,gn,pn,bn,hn,mn,vn,yn,kn,xn,wn,On,En,Nn,Dn,jn,Cn,Sn,Ln,Mn,Pn,zn,In,Tn,An,Fn,Rn,Un,Zn,qn,Hn,Kn,_n,Bn=n.forwardRef((function(e,r){var t=e.children;return n.cloneElement(t,{ref:r})}));Bn.displayName="FocusableMenuItem",Bn.propTypes={children:u.element.isRequired,onFocus:u.func};var Vn,Wn,Yn,$n,Gn,Jn,Qn,Xn,ne,ee,re,te,oe,ie,ae,le,ce,ue,se,de,fe,ge,pe,be,he,me,ve,ye,ke,xe,we,Oe,Ee,Ne,De,je,Ce,Se,Le,Me,Pe,ze,Ie,Te,Ae,Fe,Re,Ue,Ze,qe,He,Ke,_e,Be,Ve,We,Ye,$e,Ge,Je=k("sub-menu-container"),Qe=k("icon-button"),Xe=k("icon-button-chevron"),nr=s(dn||(dn=q(["\n  padding-right: ","px;\n  align-items: center;\n  justify-content: flex-start;\n"])),44),er=(R(pn={},m.Light,d(nr,s(fn||(fn=q(["\n      background-color: ",";\n    "])),w.black))),R(pn,m.Dark,d(nr,s(gn||(gn=q(["\n      background-color: ",";\n\n      &:hover {\n        ."," {\n          background-color: ",";\n        }\n      }\n    "])),w.gray.dark3,Qe,w.gray.dark2))),pn),rr=(R(mn={},m.Light,s(bn||(bn=q(["\n    background-color: transparent;\n\n    &:hover {\n      background-color: ",";\n    }\n  "])),w.gray.dark3)),R(mn,m.Dark,s(hn||(hn=q(["\n    background-color: transparent;\n\n    &:hover {\n      background-color: ",";\n    }\n  "])),w.gray.dark2)),mn),tr=(R(kn={},m.Light,s(vn||(vn=q(["\n    transition: color 200ms ease-in-out;\n    color: ",";\n  "])),w.gray.light1)),R(kn,m.Dark,s(yn||(yn=q(["\n    transition: color 200ms ease-in-out;\n    color: ",";\n  "])),w.gray.light1)),kn),or=(R(On={},m.Light,s(xn||(xn=q(["\n    color: ",";\n  "])),w.gray.light1)),R(On,m.Dark,s(wn||(wn=q(["\n    color: ",";\n  "])),w.gray.light1)),On),ir=s(En||(En=q(["\n  position: absolute;\n  z-index: 1;\n  right: 8px;\n  top: 0;\n  bottom: 0;\n  margin: auto;\n  transition: background-color ","ms ease-in-out;\n"])),C.default),ar=(R(jn={},m.Light,s(Nn||(Nn=q(["\n    background-color: ",";\n\n    &:hover {\n      background-color: ",";\n    }\n  "])),w.black,w.gray.dark2)),R(jn,m.Dark,s(Dn||(Dn=q(["\n    &:hover {\n      &:before {\n        background-color: ",";\n      }\n\n      svg {\n        color: ",";\n      }\n    }\n  "])),w.gray.dark1,w.gray.light3)),jn),lr=(R(Ln={},m.Light,s(Cn||(Cn=q(["\n    &:focus-visible {\n      ."," {\n        color: ",";\n      }\n    }\n  "])),Xe,w.white)),R(Ln,m.Dark,s(Sn||(Sn=q(["\n    &:focus-visible {\n      ."," {\n        color: ",";\n      }\n    }\n  "])),Xe,w.black)),Ln),cr=(R(zn={},m.Light,s(Mn||(Mn=q(["\n    background-color: ",";\n  "])),w.black)),R(zn,m.Dark,s(Pn||(Pn=q(["\n    background-color: ",";\n  "])),w.gray.dark3)),zn),ur=s(In||(In=q(["\n  list-style: none;\n  padding: 0;\n  height: 0;\n  overflow: hidden;\n  transition: height ","ms ease-in-out;\n  position: relative;\n\n  &::before {\n    content: '';\n    position: absolute;\n    height: 1px;\n    right: 0;\n    z-index: 1;\n  }\n\n  &::before {\n    top: 0;\n  }\n\n  &::after {\n    bottom: 0;\n  }\n"])),C.default),sr=(R(Fn={},m.Light,s(Tn||(Tn=q(["\n    &::before,\n    &::after {\n      background-color: ",";\n    }\n  "])),w.gray.dark2)),R(Fn,m.Dark,s(An||(An=q(["\n    &::before,\n    &::after {\n      background-color: ",";\n    }\n  "])),w.gray.dark2)),Fn),dr=s(Rn||(Rn=q(["\n  width: 100%;\n  font-weight: ",";\n  font-size: 13px;\n  line-height: 16px;\n  padding-left: 16px;\n  text-shadow: none;\n"])),S.regular),fr=s(Un||(Un=q(["\n  position: absolute;\n  width: 100%;\n  height: 1px;\n  background: ",";\n  top: 0;\n"])),w.gray.dark2),gr=s(Zn||(Zn=q(["\n  ",";\n  top: unset;\n  bottom: 0;\n"])),fr),pr=s(qn||(qn=q(["\n  // Reassign the variable for specificity\n  --lg-menu-item-text-color: ",";\n  position: relative;\n  min-height: 32px;\n\n  > div {\n    padding-left: 16px;\n  }\n\n  &::after {\n    content: '';\n    position: absolute;\n    height: 1px;\n    right: 0;\n    z-index: 1;\n    bottom: 0;\n  }\n"])),w.gray.light1),br=(R(_n={},m.Light,s(Hn||(Hn=q(["\n    color: ",";\n\n    &::after {\n      background-color: ",";\n    }\n  "])),w.gray.light1,w.gray.dark2)),R(_n,m.Dark,s(Kn||(Kn=q(["\n    color: ",";\n\n    &:hover {\n      color: ",";\n    }\n\n    &::after {\n      background-color: ",";\n    }\n  "])),w.gray.light2,w.white,w.gray.dark2)),_n),hr="default",mr=s(Vn||(Vn=q(["\n  display: flex;\n  position: relative;\n  box-sizing: border-box;\n  flex-direction: row;\n  align-items: center;\n  width: 100%;\n  margin: unset;\n  padding-left: ","px;\n  padding-right: ","px;\n  font-family: ",";\n  font-size: 13px;\n  text-align: left;\n  text-decoration: none;\n  cursor: pointer;\n  border: none;\n\n  transition: background-color ","ms ease-in-out;\n\n  &:focus {\n    outline: none;\n    text-decoration: none;\n  }\n\n  &:before {\n    content: '';\n    position: absolute;\n    width: ","px;\n    left: 0px;\n    border-radius: 0 ","px ","px 0;\n    background-color: transparent;\n    transition: background-color ","ms ease-in-out;\n  }\n\n  &:hover {\n    text-decoration: none;\n  }\n"])),20,20,L.default,C.default,4,4,4,C.default),vr=(R($n={},m.Light,s(Wn||(Wn=q(["\n    color: ",";\n    background-color: ",";\n\n    &:hover,\n    &:active {\n      background-color: ",";\n    }\n  "])),w.white,w.black,w.gray.dark3)),R($n,m.Dark,s(Yn||(Yn=q(["\n    color: ",";\n    background-color: ",";\n\n    &:hover,\n    &:active {\n      background-color: ",";\n    }\n  "])),w.gray.light2,w.gray.dark3,w.gray.dark2)),$n),yr=function(n){return s(Gn||(Gn=q(["\n    min-height: ","px;\n\n    &:before {\n      height: ","px;\n    }\n  "])),n===hr?36:45,n===hr?22:36)},kr=s(Jn||(Jn=q(["\n  width: 100%;\n  overflow: hidden;\n  padding: 2px 0;\n"]))),xr=s(Qn||(Qn=q(["\n  margin-right: 16px;\n  flex-shrink: 0;\n"]))),wr=(R(ee={},m.Light,s(Xn||(Xn=q(["\n    color: ",";\n  "])),w.gray.base)),R(ee,m.Dark,s(ne||(ne=q(["\n    color: ",";\n  "])),w.gray.light1)),ee),Or=s(re||(re=q(["\n  display: inline-flex;\n  flex-direction: column;\n  align-items: flex-start;\n  justify-content: center;\n  width: 100%;\n  font-size: 13px;\n  font-weight: ",";\n\n  // We create a pseudo element that's the width of the bolded text\n  // This way there's no layout shift on hover when the text is bolded.\n  &:after {\n    content: attr(data-text);\n    height: 0;\n    font-weight: ",";\n    visibility: hidden;\n    overflow: hidden;\n    user-select: none;\n    pointer-events: none;\n  }\n"])),S.medium,S.bold),Er=s(te||(te=q(["\n  font-size: 13px;\n  font-weight: ",";\n  line-height: 16px;\n"])),S.regular),Nr=(R(ae={},m.Light,d(Er,s(oe||(oe=q(["\n      color: ",";\n    "])),w.gray.light1))),R(ae,m.Dark,d(Er,s(ie||(ie=q(["\n      color: ",";\n    "])),w.gray.light1))),ae),Dr=s(le||(le=q(["\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n"]))),jr=function(n,e){return{text:s(ce||(ce=q(["\n    ."," {\n      &:not(:disabled):hover & {\n        font-weight: ",";\n      }\n    }\n  "])),n,S.bold),activeText:s(ue||(ue=q(["\n    ."," {\n      &:not(:disabled):hover & {\n        color: ",";\n      }\n    }\n  "])),n,e===m.Light?w.green.base:w.green.dark3)}},Cr=(R(fe={},m.Light,s(se||(se=q(["\n    background-color: ",";\n\n    &:before {\n      background-color: ",";\n    }\n\n    &:hover {\n      color: ",";\n\n      &:before {\n        background-color: ",";\n      }\n    }\n  "])),w.black,w.green.base,w.green.base,w.green.base)),R(fe,m.Dark,s(de||(de=q(["\n    background-color: ",";\n\n    &:before {\n      background-color: ",";\n    }\n\n    &:hover {\n      color: ",";\n\n      &:before {\n        background-color: ",";\n      }\n    }\n  "])),w.gray.dark3,w.green.base,w.white,w.green.base)),fe),Sr=(R(be={},m.Light,s(ge||(ge=q(["\n    font-weight: ",";\n    color: ",";\n  "])),S.bold,w.green.base)),R(be,m.Dark,s(pe||(pe=q(["\n    font-weight: ",";\n    color: ",";\n  "])),S.bold,w.gray.light2)),be),Lr=(R(ve={},m.Light,s(he||(he=q(["\n    color: ",";\n  "])),w.gray.light1)),R(ve,m.Dark,s(me||(me=q(["\n    color: ",";\n  "])),w.gray.light1)),ve),Mr=(R(xe={},m.Light,s(ye||(ye=q(["\n    color: ",";\n  "])),w.green.base)),R(xe,m.Dark,s(ke||(ke=q(["\n    color: ",";\n  "])),w.green.base)),xe),Pr=s(we||(we=q(["\n  cursor: not-allowed;\n\n  &:active {\n    pointer-events: none;\n    background-color: unset;\n  }\n\n  &:hover {\n    &,\n    &:before {\n      background-color: unset;\n    }\n  }\n"]))),zr=(R(Ne={},m.Dark,d(Pr,s(Oe||(Oe=q(["\n      background-color: ",";\n\n      &:hover {\n        background-color: ",";\n      }\n    "])),w.gray.dark3,w.gray.dark3))),R(Ne,m.Light,d(Pr,s(Ee||(Ee=q(["\n      background-color: ",";\n\n      &:hover {\n        background-color: ",";\n      }\n    "])),w.black,w.black))),Ne),Ir=(R(Ce={},m.Light,s(De||(De=q(["\n    color: ",";\n    font-weight: ",";\n  "])),w.gray.dark1,S.regular)),R(Ce,m.Dark,s(je||(je=q(["\n    color: ",";\n    font-weight: ",";\n  "])),w.gray.dark1,S.regular)),Ce),Tr=(R(Me={},m.Light,s(Se||(Se=q(["\n    &:focus-visible {\n      text-decoration: none;\n      background-color: ",";\n      color: ",";\n\n      &:before {\n        background-color: ",";\n      }\n    }\n\n    &::-moz-focus-inner {\n      border: 0;\n    }\n  "])),w.blue.dark3,w.white,w.blue.light1)),R(Me,m.Dark,s(Le||(Le=q(["\n    &:focus-visible {\n      text-decoration: none;\n      background-color: ",";\n      color: ",";\n\n      &:before {\n        background-color: ",";\n      }\n\n      ."," {\n        background-color: ",";\n      }\n    }\n\n    &::-moz-focus-inner {\n      border: 0;\n    }\n  "])),w.blue.dark3,w.blue.light3,w.blue.light1,Qe,w.blue.dark3)),Me),Ar=function(n,e){return{textStyle:s(Pe||(Pe=q(["\n      .",":focus-visible & {\n        color: ",";\n      }\n    "])),n,(m.Light,w.blue.light3)),descriptionStyle:s(ze||(ze=q(["\n      .",":focus-visible & {\n        color: ",";\n      }\n    "])),n,(m.Light,w.blue.light3)),iconStyle:s(Ie||(Ie=q(["\n      .",":focus-visible & {\n        color: ",";\n      }\n    "])),n,(m.Light,w.blue.light3))}},Fr=(R(Fe={},m.Light,s(Te||(Te=q(["\n    color: ",";\n    font-weight: ",";\n  "])),w.red.light1,S.regular)),R(Fe,m.Dark,s(Ae||(Ae=q(["\n    color: ",";\n    font-weight: ",";\n  "])),w.red.light1,S.regular)),Fe),Rr=s(Re||(Re=q(["\n  text-decoration: none;\n"]))),Ur=(R(qe={},m.Light,s(Ue||(Ue=q(["\n    &:focus-visible {\n      &::after {\n        background-color: ",";\n      }\n    }\n  "])),w.blue.dark3)),R(qe,m.Dark,s(Ze||(Ze=q(["\n    &:focus-visible {\n      &::after {\n        background-color: ",";\n      }\n    }\n  "])),w.blue.dark3)),qe),Zr=(R(_e={},m.Light,s(He||(He=q(["\n    color: ",";\n  "])),w.gray.dark2)),R(_e,m.Dark,s(Ke||(Ke=q(["\n    color: ",";\n  "])),w.gray.dark1)),_e),qr=(R(We={},m.Light,s(Be||(Be=q(["\n    color: ",";\n  "])),w.red.light1)),R(We,m.Dark,s(Ve||(Ve=q(["\n    color: ",";\n  "])),w.red.light1)),We),Hr={Default:"default",Destructive:"destructive"},Kr=["as","disabled","active","size","className","children","description","glyph","variant"],_r=k("menu-item-container"),Br=D((function(e,t){var o,i,a,l,c,u=e.as,s=e.disabled,f=void 0!==s&&s,g=e.active,p=void 0!==g&&g,b=e.size,h=void 0===b?hr:b,m=e.className,v=e.children,y=e.description,k=e.glyph,w=e.variant,O=void 0===w?Hr.Default:w,E=Z(e,Kr),N=j(u,E,"button").Component,D=r(Y).theme,C=jr(_r,D),S=Ar(_r),L=O===Hr.Destructive,M=p&&!L,P="a"===N,z=k&&n.cloneElement(k,{role:"presentation",className:d(xr,wr[D],S.iconStyle,(o={},R(o,Mr[D],M),R(o,qr[D],L),R(o,Zr[D],f),o),null===(i=k.props)||void 0===i?void 0:i.className)}),I=A({ref:t,role:"menuitem",tabIndex:-1,"aria-disabled":f,"aria-current":null!=p?p:void 0},!P&&{disabled:f}),T=P?{target:"_self",rel:""}:{},F=n.createElement(n.Fragment,null,z,n.createElement("div",{className:kr},n.createElement("div",{"data-text":x(v),className:d(Or,C.text,(a={},R(a,Sr[D],M),R(a,C.activeText,M),R(a,Fr[D],L),R(a,Ir[D],f),a),S.textStyle)},v),y&&n.createElement("div",{className:d(Nr[D],(l={},R(l,Lr[D],M),R(l,Ir[D],f),R(l,Dr,P),l),S.descriptionStyle)},y)));return n.createElement("li",{role:"none"},n.createElement(N,U({},I,T,E,{className:d(_r,mr,vr[D],yr(h),Rr,(c={},R(c,Cr[D],M),R(c,zr[D],f),c),Tr[D],m)}),F))}),"MenuItem");Br.propTypes={onClick:u.func,className:u.string,description:u.node,disabled:u.bool,active:u.bool,children:u.node};var Vr=["title","children","onClick","description","setOpen","className","glyph","onExited","open","active","disabled","size","as"],Wr=["className"],Yr=D((function(e,t){var a,l,c,u,f,g=e.title,p=e.children,b=e.onClick,h=e.description,m=e.setOpen,v=e.className,y=e.glyph,k=e.onExited,w=void 0===k?function(){}:k,O=e.open,E=void 0!==O&&O,N=e.active,D=void 0!==N&&N,C=e.disabled,S=void 0!==C&&C,L=e.size,T=void 0===L?hr:L,F=e.as,K=Z(e,Vr),_=j(F,K,"button").Component,B=r(Y),V=B.theme,W=B.darkMode,$=jr(Je,V),G=Ar(Je),J=n.useRef(null),Q=H(o(null),2),X=Q[0],nn=Q[1],en=i((function(n){null!=X&&X.contains(n.target)?n.preventDefault():b&&b(n)}),[X,b]),rn=n.Children.toArray(p).length,tn=E?P:z,on=d((R(a={},or[V],E),R(a,tr[V],!E),a)),an="a"===_,ln=y&&n.cloneElement(y,{role:"presentation",className:d(xr,wr[V],G.iconStyle,R({},Mr[V],D),null===(l=y.props)||void 0===l?void 0:l.className)}),cn=A({ref:t,role:"menuitem","aria-haspopup":!0,onClick:en,tabIndex:S?-1:void 0,"aria-disabled":S},"string"!=typeof K.href&&{disabled:S}),un=an?{target:"_self",rel:""}:{},sn=n.createElement(n.Fragment,null,ln,n.createElement("div",{className:kr},n.createElement("div",{"data-text":x(p),className:d(Or,$.text,(c={},R(c,Sr[V],D),R(c,$.activeText,D),R(c,Ir[V],S),c),G.textStyle)},g),h&&n.createElement("div",{className:d(Nr[V],(u={},R(u,Lr[V],D),R(u,Ir[V],S),R(u,Dr,an),u),G.descriptionStyle)},h)));return n.createElement("li",{role:"none"},n.createElement(_,U({},cn,un,K,{className:d(Je,mr,vr[V],yr(T),Rr,er[V],(f={},R(f,Cr[V],D),R(f,zr[V],S),R(f,rr[V],E),f),Tr[V],v)}),sn,n.createElement(I,{"data-testid":"lg-sub-menu-icon-button",darkMode:!W,ref:nn,"aria-label":E?"Close Sub-menu":"Open Sub-menu",className:d(Qe,ir,ar[V],lr[V],R({},cr[V],E)),onClick:function(n){n.nativeEvent.stopImmediatePropagation(),m&&m(!E)}},n.createElement(tn,{role:"presentation",className:d(Xe,on),size:14}))),n.createElement(M,{in:E,timeout:{enter:0,exit:150},mountOnEnter:!0,unmountOnExit:!0,onExited:w,nodeRef:J},(function(e){return n.createElement("ul",{ref:J,className:d(ur,sr[V],s(Ye||(Ye=q(["\n                  &::before {\n                    // this is the width for the UL border\n                    width: calc(\n                      100% -\n                        ","px\n                    );\n                  }\n                "])),y?54:20),R({},s($e||($e=q(["\n                    height: ","px;\n                  "])),32*rn),"entered"===e)),role:"menu","aria-label":g},n.Children.map(p,(function(e,r){var t=e.props;t.className;var o=Z(t,Wr);return n.cloneElement(e,A({size:hr,children:n.createElement(n.Fragment,null,n.createElement("div",{className:fr}),n.createElement("span",{className:dr},e.props.children),r===rn-1&&n.createElement("div",{className:gr})),className:d(pr,br[V],s(Ge||(Ge=q(["\n                        // padding-left of the button\n                        padding-left: ","px;\n                        &::after {\n                          // this is the width for the button bottom border\n                          width: calc(\n                            100% -\n                              ","px\n                          );\n                        }\n                      "])),y?54:20,y?54:20),Ur[V],e.props.className),onClick:function(n){var r,t;null===(r=e.props)||void 0===r||null===(t=r.onClick)||void 0===t||t.call(r,n),b&&b(n)}},o))})))})))}));Yr.displayName="SubMenu",Yr.propTypes={title:u.string,description:u.oneOfType([u.string,u.element]),children:u.node,setOpen:u.func,onKeyDown:u.func,className:u.string,onClick:u.func,glyph:u.element,onExited:u.func,open:u.bool,active:u.bool,disabled:u.bool};export{Bn as FocusableMenuItem,sn as Menu,Br as MenuItem,J as MenuSeparator,Yr as SubMenu,Hr as Variant};
//# sourceMappingURL=index.js.map
