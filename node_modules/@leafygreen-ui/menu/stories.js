import e,{createContext as n,useContext as t,useRef as r,useState as o,useCallback as a,useMemo as l,useEffect as i}from"react";import{storybookArgTypes as c,storybookExcludedControlParams as u}from"@lg-tools/storybook-utils";import s from"@leafygreen-ui/button";import{css as d,cx as g}from"@leafygreen-ui/emotion";import p from"@leafygreen-ui/icon/dist/CaretDown";import f from"@leafygreen-ui/icon/dist/Cloud";import m,{useDarkMode as b}from"@leafygreen-ui/leafygreen-provider";import h,{Align as v,Justify as y,TestUtils as k}from"@leafygreen-ui/popover";import E from"lodash/isUndefined";import x from"prop-types";import{useForceRerender as w,useAvailableSpace as O,useBackdropClick as j,useEventListener as D}from"@leafygreen-ui/hooks";import{Theme as M,isComponentType as S,keyMap as C,createUniqueClassName as N,getNodeTextContent as z}from"@leafygreen-ui/lib";import{palette as L}from"@leafygreen-ui/palette";import{InferredPolymorphic as I,useInferredPolymorphic as P}from"@leafygreen-ui/polymorphic";import{transitionDuration as A,fontWeights as F,fontFamilies as T}from"@leafygreen-ui/tokens";import{Transition as R}from"react-transition-group";import U from"@leafygreen-ui/icon/dist/ChevronDown";import H from"@leafygreen-ui/icon/dist/ChevronUp";import V from"@leafygreen-ui/icon-button";function Z(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function q(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Z(Object(t),!0).forEach((function(n){G(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Z(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function B(e){return B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},B(e)}function G(e,n,t){return(n=function(e){var n=function(e,n){if("object"!=typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==typeof n?n:String(n)}(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function K(){return K=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},K.apply(this,arguments)}function _(e,n){if(null==e)return{};var t,r,o=function(e,n){if(null==e)return{};var t,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}function J(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}function W(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,a,l,i=[],c=!0,u=!1;try{if(a=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;c=!1}else for(;!(c=(r=a.call(t)).done)&&(i.push(r.value),i.length!==n);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=t.return&&(l=t.return(),Object(l)!==l))return}finally{if(u)throw o}}return i}}(e,n)||Y(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Y(e,n){if(e){if("string"==typeof e)return $(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?$(e,n):void 0}}function $(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}var Q,X,ee,ne,te={Default:"default",Large:"large"},re=n({theme:"light",darkMode:!1}),oe=d(Q||(Q=J(["\n  height: 16px;\n  position: relative;\n\n  &::before {\n    content: '';\n    position: absolute;\n    height: 1px;\n    width: 100%;\n    left: 0;\n    top: 50%;\n    transform: translateY(-50%);\n  }\n"]))),ae=(G(ne={},M.Light,d(X||(X=J(["\n    &::before {\n      background-color: ",";\n    }\n  "])),L.gray.dark2)),G(ne,M.Dark,d(ee||(ee=J(["\n    &::before {\n      background-color: ",";\n    }\n  "])),L.gray.dark2)),ne);function le(n){var r=n.className,o=t(re).theme;return e.createElement("li",{role:"separator",className:g(oe,ae[o],r)})}le.displayName="MenuSeparator";var ie,ce,ue,se,de,ge,pe=["align","justify","adjustOnMutation","shouldClose","spacing","maxHeight","usePortal","initialOpen","open","setOpen","darkMode","children","className","refEl","trigger","portalClassName","portalContainer","scrollContainer","popoverZIndex"],fe=["children"],me=d(ie||(ie=J(["\n  width: 210px;\n  border-radius: 12px;\n  overflow: auto;\n  padding: 14px 0;\n"]))),be=(G(se={},M.Light,d(ce||(ce=J(["\n    background-color: ",";\n    border: 1px solid ",";\n  "])),L.black,L.black)),G(se,M.Dark,d(ue||(ue=J(["\n    background-color: ",";\n    border: 1px solid ",";\n  "])),L.gray.dark3,L.gray.dark2)),se),he=d(de||(de=J(["\n  overflow: auto;\n  list-style: none;\n  margin-block-start: 0px;\n  margin-block-end: 0px;\n  padding-inline-start: 0px;\n  padding: 0px;\n"]))),ve=e.forwardRef((function(n,t){var c=n.align,u=void 0===c?v.Bottom:c,s=n.justify,p=void 0===s?y.End:s,f=n.adjustOnMutation,m=void 0!==f&&f,k=n.shouldClose,x=void 0===k?function(){return!0}:k,M=n.spacing,N=void 0===M?6:M,z=n.maxHeight,L=void 0===z?344:z,I=n.usePortal,P=void 0===I||I,A=n.initialOpen,F=void 0!==A&&A,T=n.open,R=n.setOpen,U=n.darkMode,H=n.children,V=n.className,Z=n.refEl,Y=n.trigger,$=n.portalClassName,Q=n.portalContainer,X=n.scrollContainer,ee=n.popoverZIndex,ne=_(n,pe),te=b(U),oe=te.theme,ae=te.darkMode,ie=r(!1),ce=r(!1),ue=W(o(!1),2)[1],se=r(null),de=W(o(F),2),ve=de[0],ye=de[1],ke=r(null),Ee="boolean"==typeof T&&R||ye,xe=null!=T?T:ve,we=a((function(){x()&&Ee(!1)}),[Ee,x]),Oe=w(),je=r(null),De=O(Z||je,N),Me=l((function(){return De}),[De]),Se=E(Me)?"unset":"".concat(Math.min(Me,L),"px"),Ce=e.useMemo((function(){if(null==H||["boolean","number","string"].includes(B(H)))return{updatedChildren:void 0,refs:[]};var n=[],t=[];return{updatedChildren:function r(o){return e.Children.map(o,(function(o){var a,l;if(!e.isValidElement(o)||null!==(a=o.props)&&void 0!==a&&a.disabled)return o;var i=o.props,c=null,u=function(e){null!=e&&(t.push(e),c=e,xe&&!1===ie.current&&(Ie(t[0]),ie.current=!0))},s=null!==(l=null==i?void 0:i.title)&&void 0!==l&&l,d=function(e){var n=e.target;Le.current=n};if(S(o,"SubMenu")&&s){var g,p;if(n.includes(s))throw new Error("SubMenu titles must be unique");n.push(s),!se.current&&i.active&&!ce.current&&(se.current=o,ce.current=!0);var f=(null===(g=se.current)||void 0===g||null===(p=g.props)||void 0===p?void 0:p.title)===s;return e.cloneElement(o,{ref:u,open:f,setOpen:function(e){c&&(Le.current=c),se.current=e?o:null,ce.current=!0,Oe()},onKeyDown:function(e){e.key===C.ArrowLeft&&f&&(se.current=null,ce.current=!0,Oe()),e.key===C.ArrowRight&&(se.current=o,ce.current=!0,Oe())},onFocus:d,children:r(i.children),onExited:function(){ue((function(e){return!e}))}})}if(S(o,"MenuItem"))return e.cloneElement(o,{ref:u,onFocus:d,onClick:function(e){var n,t;null===(n=o.props)||void 0===n||null===(t=n.onClick)||void 0===t||t.call(n,e),we()}});if(S(o,"FocusableMenuItem"))return e.cloneElement(o,{ref:u,onFocus:d});if(S(o,"MenuSeparator"))return e.createElement(le,i);if(null!=i&&i.children){i.children;var m=_(i,fe);return e.cloneElement(o,q({children:r(i.children)},m))}return o}))}(H),refs:t}}),[H,xe,Oe,we]),Ne=Ce.updatedChildren,ze=Ce.refs,Le=r(ze[0]||null),Ie=function(e){null!=e&&(Le.current=e,e.focus())};i((function(){xe&&(ie.current=!1,ce.current=!1)}),[xe]),j(we,[ke,je],xe),D("keydown",(function(e){var n,t,r;switch(e.key){case C.ArrowDown:e.preventDefault(),r=ze[(ze.indexOf(Le.current)+1)%ze.length],Ie(r);break;case C.ArrowUp:e.preventDefault(),r=ze[(ze.indexOf(Le.current)-1+ze.length)%ze.length],Ie(r);break;case C.Tab:e.preventDefault(),we(),Ie(null===(n=Z||je)||void 0===n?void 0:n.current);break;case C.Escape:we(),Ie(null===(t=Z||je)||void 0===t?void 0:t.current);break;case C.Space:case C.Enter:xe||Ie(ze[0])}}),{enabled:xe});var Pe=q({popoverZIndex:ee},P?{spacing:N,usePortal:P,portalClassName:$,portalContainer:Q,scrollContainer:X}:{spacing:N,usePortal:P}),Ae=l((function(){return{theme:oe,darkMode:ae}}),[oe,ae]),Fe=e.createElement(re.Provider,{value:Ae},e.createElement(h,K({key:"popover",active:xe,align:u,justify:p,refEl:Z,adjustOnMutation:m},Pe),e.createElement("div",{className:g(me,be[oe],d(ge||(ge=J(["\n              max-height: ",";\n            "])),Se),V),ref:t},e.createElement("ul",K({},ne,{className:he,role:"menu",onClick:function(e){return e.stopPropagation()},ref:ke}),Ne))));if(Y){var Te,Re,Ue=function(e){var n,t,r,o;(Ee((function(e){return!e})),Y&&"function"!=typeof Y)&&(null===(r=Y.props)||void 0===r||null===(o=r.onClick)||void 0===o||o.call(r,e));null==e||null===(n=e.nativeEvent)||void 0===n||null===(t=n.stopPropagation)||void 0===t||t.call(n)};return"function"==typeof Y?Y((G(Re={onClick:Ue,ref:je,children:Fe},"aria-expanded",xe),G(Re,"aria-haspopup",!0),Re)):e.cloneElement(Y,(G(Te={ref:je,onClick:Ue,children:e.createElement(e.Fragment,null,Y.props.children,Fe)},"aria-expanded",xe),G(Te,"aria-haspopup",!0),Te))}return Fe}));ve.displayName="Menu",ve.propTypes={children:x.node,className:x.string,align:x.oneOf(Object.values(v)),justify:x.oneOf(Object.values(y)),refEl:x.shape({current:"undefined"!=typeof window?x.instanceOf(Element):x.any}),usePortal:x.bool,trigger:x.oneOfType([x.node,x.func]),open:x.bool,setOpen:x.func,darkMode:x.bool};var ye,ke,Ee,xe,we,Oe,je,De,Me,Se,Ce,Ne,ze,Le,Ie,Pe,Ae,Fe,Te,Re,Ue,He,Ve,Ze,qe,Be,Ge,Ke,_e,Je,We,Ye,$e,Qe,Xe=e.forwardRef((function(n,t){var r=n.children;return e.cloneElement(r,{ref:t})}));Xe.displayName="FocusableMenuItem",Xe.propTypes={children:x.element.isRequired,onFocus:x.func};var en,nn,tn,rn,on,an,ln,cn,un,sn,dn,gn,pn,fn,mn,bn,hn,vn,yn,kn,En,xn,wn,On,jn,Dn,Mn,Sn,Cn,Nn,zn,Ln,In,Pn,An,Fn,Tn,Rn,Un,Hn,Vn,Zn,qn,Bn,Gn,Kn,_n,Jn,Wn,Yn,$n,Qn,Xn,et,nt,tt,rt,ot,at,lt=N("sub-menu-container"),it=N("icon-button"),ct=N("icon-button-chevron"),ut=d(ye||(ye=J(["\n  padding-right: ","px;\n  align-items: center;\n  justify-content: flex-start;\n"])),44),st=(G(xe={},M.Light,g(ut,d(ke||(ke=J(["\n      background-color: ",";\n    "])),L.black))),G(xe,M.Dark,g(ut,d(Ee||(Ee=J(["\n      background-color: ",";\n\n      &:hover {\n        ."," {\n          background-color: ",";\n        }\n      }\n    "])),L.gray.dark3,it,L.gray.dark2))),xe),dt=(G(je={},M.Light,d(we||(we=J(["\n    background-color: transparent;\n\n    &:hover {\n      background-color: ",";\n    }\n  "])),L.gray.dark3)),G(je,M.Dark,d(Oe||(Oe=J(["\n    background-color: transparent;\n\n    &:hover {\n      background-color: ",";\n    }\n  "])),L.gray.dark2)),je),gt=(G(Se={},M.Light,d(De||(De=J(["\n    transition: color 200ms ease-in-out;\n    color: ",";\n  "])),L.gray.light1)),G(Se,M.Dark,d(Me||(Me=J(["\n    transition: color 200ms ease-in-out;\n    color: ",";\n  "])),L.gray.light1)),Se),pt=(G(ze={},M.Light,d(Ce||(Ce=J(["\n    color: ",";\n  "])),L.gray.light1)),G(ze,M.Dark,d(Ne||(Ne=J(["\n    color: ",";\n  "])),L.gray.light1)),ze),ft=d(Le||(Le=J(["\n  position: absolute;\n  z-index: 1;\n  right: 8px;\n  top: 0;\n  bottom: 0;\n  margin: auto;\n  transition: background-color ","ms ease-in-out;\n"])),A.default),mt=(G(Ae={},M.Light,d(Ie||(Ie=J(["\n    background-color: ",";\n\n    &:hover {\n      background-color: ",";\n    }\n  "])),L.black,L.gray.dark2)),G(Ae,M.Dark,d(Pe||(Pe=J(["\n    &:hover {\n      &:before {\n        background-color: ",";\n      }\n\n      svg {\n        color: ",";\n      }\n    }\n  "])),L.gray.dark1,L.gray.light3)),Ae),bt=(G(Re={},M.Light,d(Fe||(Fe=J(["\n    &:focus-visible {\n      ."," {\n        color: ",";\n      }\n    }\n  "])),ct,L.white)),G(Re,M.Dark,d(Te||(Te=J(["\n    &:focus-visible {\n      ."," {\n        color: ",";\n      }\n    }\n  "])),ct,L.black)),Re),ht=(G(Ve={},M.Light,d(Ue||(Ue=J(["\n    background-color: ",";\n  "])),L.black)),G(Ve,M.Dark,d(He||(He=J(["\n    background-color: ",";\n  "])),L.gray.dark3)),Ve),vt=d(Ze||(Ze=J(["\n  list-style: none;\n  padding: 0;\n  height: 0;\n  overflow: hidden;\n  transition: height ","ms ease-in-out;\n  position: relative;\n\n  &::before {\n    content: '';\n    position: absolute;\n    height: 1px;\n    right: 0;\n    z-index: 1;\n  }\n\n  &::before {\n    top: 0;\n  }\n\n  &::after {\n    bottom: 0;\n  }\n"])),A.default),yt=(G(Ge={},M.Light,d(qe||(qe=J(["\n    &::before,\n    &::after {\n      background-color: ",";\n    }\n  "])),L.gray.dark2)),G(Ge,M.Dark,d(Be||(Be=J(["\n    &::before,\n    &::after {\n      background-color: ",";\n    }\n  "])),L.gray.dark2)),Ge),kt=d(Ke||(Ke=J(["\n  width: 100%;\n  font-weight: ",";\n  font-size: 13px;\n  line-height: 16px;\n  padding-left: 16px;\n  text-shadow: none;\n"])),F.regular),Et=d(_e||(_e=J(["\n  position: absolute;\n  width: 100%;\n  height: 1px;\n  background: ",";\n  top: 0;\n"])),L.gray.dark2),xt=d(Je||(Je=J(["\n  ",";\n  top: unset;\n  bottom: 0;\n"])),Et),wt=d(We||(We=J(["\n  // Reassign the variable for specificity\n  --lg-menu-item-text-color: ",";\n  position: relative;\n  min-height: 32px;\n\n  > div {\n    padding-left: 16px;\n  }\n\n  &::after {\n    content: '';\n    position: absolute;\n    height: 1px;\n    right: 0;\n    z-index: 1;\n    bottom: 0;\n  }\n"])),L.gray.light1),Ot=(G(Qe={},M.Light,d(Ye||(Ye=J(["\n    color: ",";\n\n    &::after {\n      background-color: ",";\n    }\n  "])),L.gray.light1,L.gray.dark2)),G(Qe,M.Dark,d($e||($e=J(["\n    color: ",";\n\n    &:hover {\n      color: ",";\n    }\n\n    &::after {\n      background-color: ",";\n    }\n  "])),L.gray.light2,L.white,L.gray.dark2)),Qe),jt=d(en||(en=J(["\n  display: flex;\n  position: relative;\n  box-sizing: border-box;\n  flex-direction: row;\n  align-items: center;\n  width: 100%;\n  margin: unset;\n  padding-left: ","px;\n  padding-right: ","px;\n  font-family: ",";\n  font-size: 13px;\n  text-align: left;\n  text-decoration: none;\n  cursor: pointer;\n  border: none;\n\n  transition: background-color ","ms ease-in-out;\n\n  &:focus {\n    outline: none;\n    text-decoration: none;\n  }\n\n  &:before {\n    content: '';\n    position: absolute;\n    width: ","px;\n    left: 0px;\n    border-radius: 0 ","px ","px 0;\n    background-color: transparent;\n    transition: background-color ","ms ease-in-out;\n  }\n\n  &:hover {\n    text-decoration: none;\n  }\n"])),20,20,T.default,A.default,4,4,4,A.default),Dt=(G(rn={},M.Light,d(nn||(nn=J(["\n    color: ",";\n    background-color: ",";\n\n    &:hover,\n    &:active {\n      background-color: ",";\n    }\n  "])),L.white,L.black,L.gray.dark3)),G(rn,M.Dark,d(tn||(tn=J(["\n    color: ",";\n    background-color: ",";\n\n    &:hover,\n    &:active {\n      background-color: ",";\n    }\n  "])),L.gray.light2,L.gray.dark3,L.gray.dark2)),rn),Mt=function(e){return d(on||(on=J(["\n    min-height: ","px;\n\n    &:before {\n      height: ","px;\n    }\n  "])),e===te.Default?36:45,e===te.Default?22:36)},St=d(an||(an=J(["\n  width: 100%;\n  overflow: hidden;\n  padding: 2px 0;\n"]))),Ct=d(ln||(ln=J(["\n  margin-right: 16px;\n  flex-shrink: 0;\n"]))),Nt=(G(sn={},M.Light,d(cn||(cn=J(["\n    color: ",";\n  "])),L.gray.base)),G(sn,M.Dark,d(un||(un=J(["\n    color: ",";\n  "])),L.gray.light1)),sn),zt=d(dn||(dn=J(["\n  display: inline-flex;\n  flex-direction: column;\n  align-items: flex-start;\n  justify-content: center;\n  width: 100%;\n  font-size: 13px;\n  font-weight: ",";\n\n  // We create a pseudo element that's the width of the bolded text\n  // This way there's no layout shift on hover when the text is bolded.\n  &:after {\n    content: attr(data-text);\n    height: 0;\n    font-weight: ",";\n    visibility: hidden;\n    overflow: hidden;\n    user-select: none;\n    pointer-events: none;\n  }\n"])),F.medium,F.bold),Lt=d(gn||(gn=J(["\n  font-size: 13px;\n  font-weight: ",";\n  line-height: 16px;\n"])),F.regular),It=(G(mn={},M.Light,g(Lt,d(pn||(pn=J(["\n      color: ",";\n    "])),L.gray.light1))),G(mn,M.Dark,g(Lt,d(fn||(fn=J(["\n      color: ",";\n    "])),L.gray.light1))),mn),Pt=d(bn||(bn=J(["\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n"]))),At=function(e,n){return{text:d(hn||(hn=J(["\n    ."," {\n      &:not(:disabled):hover & {\n        font-weight: ",";\n      }\n    }\n  "])),e,F.bold),activeText:d(vn||(vn=J(["\n    ."," {\n      &:not(:disabled):hover & {\n        color: ",";\n      }\n    }\n  "])),e,n===M.Light?L.green.base:L.green.dark3)}},Ft=(G(En={},M.Light,d(yn||(yn=J(["\n    background-color: ",";\n\n    &:before {\n      background-color: ",";\n    }\n\n    &:hover {\n      color: ",";\n\n      &:before {\n        background-color: ",";\n      }\n    }\n  "])),L.black,L.green.base,L.green.base,L.green.base)),G(En,M.Dark,d(kn||(kn=J(["\n    background-color: ",";\n\n    &:before {\n      background-color: ",";\n    }\n\n    &:hover {\n      color: ",";\n\n      &:before {\n        background-color: ",";\n      }\n    }\n  "])),L.gray.dark3,L.green.base,L.white,L.green.base)),En),Tt=(G(On={},M.Light,d(xn||(xn=J(["\n    font-weight: ",";\n    color: ",";\n  "])),F.bold,L.green.base)),G(On,M.Dark,d(wn||(wn=J(["\n    font-weight: ",";\n    color: ",";\n  "])),F.bold,L.gray.light2)),On),Rt=(G(Mn={},M.Light,d(jn||(jn=J(["\n    color: ",";\n  "])),L.gray.light1)),G(Mn,M.Dark,d(Dn||(Dn=J(["\n    color: ",";\n  "])),L.gray.light1)),Mn),Ut=(G(Nn={},M.Light,d(Sn||(Sn=J(["\n    color: ",";\n  "])),L.green.base)),G(Nn,M.Dark,d(Cn||(Cn=J(["\n    color: ",";\n  "])),L.green.base)),Nn),Ht=d(zn||(zn=J(["\n  cursor: not-allowed;\n\n  &:active {\n    pointer-events: none;\n    background-color: unset;\n  }\n\n  &:hover {\n    &,\n    &:before {\n      background-color: unset;\n    }\n  }\n"]))),Vt=(G(Pn={},M.Dark,g(Ht,d(Ln||(Ln=J(["\n      background-color: ",";\n\n      &:hover {\n        background-color: ",";\n      }\n    "])),L.gray.dark3,L.gray.dark3))),G(Pn,M.Light,g(Ht,d(In||(In=J(["\n      background-color: ",";\n\n      &:hover {\n        background-color: ",";\n      }\n    "])),L.black,L.black))),Pn),Zt=(G(Tn={},M.Light,d(An||(An=J(["\n    color: ",";\n    font-weight: ",";\n  "])),L.gray.dark1,F.regular)),G(Tn,M.Dark,d(Fn||(Fn=J(["\n    color: ",";\n    font-weight: ",";\n  "])),L.gray.dark1,F.regular)),Tn),qt=(G(Hn={},M.Light,d(Rn||(Rn=J(["\n    &:focus-visible {\n      text-decoration: none;\n      background-color: ",";\n      color: ",";\n\n      &:before {\n        background-color: ",";\n      }\n    }\n\n    &::-moz-focus-inner {\n      border: 0;\n    }\n  "])),L.blue.dark3,L.white,L.blue.light1)),G(Hn,M.Dark,d(Un||(Un=J(["\n    &:focus-visible {\n      text-decoration: none;\n      background-color: ",";\n      color: ",";\n\n      &:before {\n        background-color: ",";\n      }\n\n      ."," {\n        background-color: ",";\n      }\n    }\n\n    &::-moz-focus-inner {\n      border: 0;\n    }\n  "])),L.blue.dark3,L.blue.light3,L.blue.light1,it,L.blue.dark3)),Hn),Bt=function(e,n){return{textStyle:d(Vn||(Vn=J(["\n      .",":focus-visible & {\n        color: ",";\n      }\n    "])),e,(M.Light,L.blue.light3)),descriptionStyle:d(Zn||(Zn=J(["\n      .",":focus-visible & {\n        color: ",";\n      }\n    "])),e,(M.Light,L.blue.light3)),iconStyle:d(qn||(qn=J(["\n      .",":focus-visible & {\n        color: ",";\n      }\n    "])),e,(M.Light,L.blue.light3))}},Gt=(G(Kn={},M.Light,d(Bn||(Bn=J(["\n    color: ",";\n    font-weight: ",";\n  "])),L.red.light1,F.regular)),G(Kn,M.Dark,d(Gn||(Gn=J(["\n    color: ",";\n    font-weight: ",";\n  "])),L.red.light1,F.regular)),Kn),Kt=d(_n||(_n=J(["\n  text-decoration: none;\n"]))),_t=(G(Yn={},M.Light,d(Jn||(Jn=J(["\n    &:focus-visible {\n      &::after {\n        background-color: ",";\n      }\n    }\n  "])),L.blue.dark3)),G(Yn,M.Dark,d(Wn||(Wn=J(["\n    &:focus-visible {\n      &::after {\n        background-color: ",";\n      }\n    }\n  "])),L.blue.dark3)),Yn),Jt=(G(Xn={},M.Light,d($n||($n=J(["\n    color: ",";\n  "])),L.gray.dark2)),G(Xn,M.Dark,d(Qn||(Qn=J(["\n    color: ",";\n  "])),L.gray.dark1)),Xn),Wt=(G(tt={},M.Light,d(et||(et=J(["\n    color: ",";\n  "])),L.red.light1)),G(tt,M.Dark,d(nt||(nt=J(["\n    color: ",";\n  "])),L.red.light1)),tt),Yt="default",$t="destructive",Qt=["as","disabled","active","size","className","children","description","glyph","variant"],Xt=N("menu-item-container"),er=I((function(n,r){var o,a,l,i,c,u=n.as,s=n.disabled,d=void 0!==s&&s,p=n.active,f=void 0!==p&&p,m=n.size,b=void 0===m?te.Default:m,h=n.className,v=n.children,y=n.description,k=n.glyph,E=n.variant,x=void 0===E?Yt:E,w=_(n,Qt),O=P(u,w,"button").Component,j=t(re).theme,D=At(Xt,j),M=Bt(Xt),S=x===$t,C=f&&!S,N="a"===O,L=k&&e.cloneElement(k,{role:"presentation",className:g(Ct,Nt[j],M.iconStyle,(o={},G(o,Ut[j],C),G(o,Wt[j],S),G(o,Jt[j],d),o),null===(a=k.props)||void 0===a?void 0:a.className)}),I=q({ref:r,role:"menuitem",tabIndex:-1,"aria-disabled":d,"aria-current":null!=f?f:void 0},!N&&{disabled:d}),A=N?{target:"_self",rel:""}:{},F=e.createElement(e.Fragment,null,L,e.createElement("div",{className:St},e.createElement("div",{"data-text":z(v),className:g(zt,D.text,(l={},G(l,Tt[j],C),G(l,D.activeText,C),G(l,Gt[j],S),G(l,Zt[j],d),l),M.textStyle)},v),y&&e.createElement("div",{className:g(It[j],(i={},G(i,Rt[j],C),G(i,Zt[j],d),G(i,Pt,N),i),M.descriptionStyle)},y)));return e.createElement("li",{role:"none"},e.createElement(O,K({},I,A,w,{className:g(Xt,jt,Dt[j],Mt(b),Kt,(c={},G(c,Ft[j],C),G(c,Vt[j],d),c),qt[j],h)}),F))}),"MenuItem");er.propTypes={onClick:x.func,className:x.string,description:x.node,disabled:x.bool,active:x.bool,children:x.node};var nr=["title","children","onClick","description","setOpen","className","glyph","onExited","open","active","disabled","size","as"],tr=["className"],rr=I((function(n,r){var l,i,c,u,s,p=n.title,f=n.children,m=n.onClick,b=n.description,h=n.setOpen,v=n.className,y=n.glyph,k=n.onExited,E=void 0===k?function(){}:k,x=n.open,w=void 0!==x&&x,O=n.active,j=void 0!==O&&O,D=n.disabled,M=void 0!==D&&D,S=n.size,C=void 0===S?te.Default:S,N=n.as,L=_(n,nr),I=P(N,L,"button").Component,A=t(re),F=A.theme,T=A.darkMode,Z=At(lt,F),B=Bt(lt),Y=e.useRef(null),$=W(o(null),2),Q=$[0],X=$[1],ee=a((function(e){null!=Q&&Q.contains(e.target)?e.preventDefault():m&&m(e)}),[Q,m]),ne=e.Children.toArray(f).length,oe=w?U:H,ae=g((G(l={},pt[F],w),G(l,gt[F],!w),l)),le="a"===I,ie=y&&e.cloneElement(y,{role:"presentation",className:g(Ct,Nt[F],B.iconStyle,G({},Ut[F],j),null===(i=y.props)||void 0===i?void 0:i.className)}),ce=q({ref:r,role:"menuitem","aria-haspopup":!0,onClick:ee,tabIndex:M?-1:void 0,"aria-disabled":M},"string"!=typeof L.href&&{disabled:M}),ue=le?{target:"_self",rel:""}:{},se=e.createElement(e.Fragment,null,ie,e.createElement("div",{className:St},e.createElement("div",{"data-text":z(f),className:g(zt,Z.text,(c={},G(c,Tt[F],j),G(c,Z.activeText,j),G(c,Zt[F],M),c),B.textStyle)},p),b&&e.createElement("div",{className:g(It[F],(u={},G(u,Rt[F],j),G(u,Zt[F],M),G(u,Pt,le),u),B.descriptionStyle)},b)));return e.createElement("li",{role:"none"},e.createElement(I,K({},ce,ue,L,{className:g(lt,jt,Dt[F],Mt(C),Kt,st[F],(s={},G(s,Ft[F],j),G(s,Vt[F],M),G(s,dt[F],w),s),qt[F],v)}),se,e.createElement(V,{"data-testid":"lg-sub-menu-icon-button",darkMode:!T,ref:X,"aria-label":w?"Close Sub-menu":"Open Sub-menu",className:g(it,ft,mt[F],bt[F],G({},ht[F],w)),onClick:function(e){e.nativeEvent.stopImmediatePropagation(),h&&h(!w)}},e.createElement(oe,{role:"presentation",className:g(ct,ae),size:14}))),e.createElement(R,{in:w,timeout:{enter:0,exit:150},mountOnEnter:!0,unmountOnExit:!0,onExited:E,nodeRef:Y},(function(n){return e.createElement("ul",{ref:Y,className:g(vt,yt[F],d(rt||(rt=J(["\n                  &::before {\n                    // this is the width for the UL border\n                    width: calc(\n                      100% -\n                        ","px\n                    );\n                  }\n                "])),y?54:20),G({},d(ot||(ot=J(["\n                    height: ","px;\n                  "])),32*ne),"entered"===n)),role:"menu","aria-label":p},e.Children.map(f,(function(n,t){var r=n.props;r.className;var o=_(r,tr);return e.cloneElement(n,q({size:te.Default,children:e.createElement(e.Fragment,null,e.createElement("div",{className:Et}),e.createElement("span",{className:kt},n.props.children),t===ne-1&&e.createElement("div",{className:xt})),className:g(wt,Ot[F],d(at||(at=J(["\n                        // padding-left of the button\n                        padding-left: ","px;\n                        &::after {\n                          // this is the width for the button bottom border\n                          width: calc(\n                            100% -\n                              ","px\n                          );\n                        }\n                      "])),y?54:20,y?54:20),_t[F],n.props.className),onClick:function(e){var t,r;null===(t=n.props)||void 0===t||null===(r=t.onClick)||void 0===r||r.call(t,e),m&&m(e)}},o))})))})))}));rr.displayName="SubMenu",rr.propTypes={title:x.string,description:x.oneOfType([x.string,x.element]),children:x.node,setOpen:x.func,onKeyDown:x.func,className:x.string,onClick:x.func,glyph:x.element,onExited:x.func,open:x.bool,active:x.bool,disabled:x.bool};var or,ar,lr=["open","size","darkMode"],ir=k.getAlign,cr=k.getJustify,ur={title:"Components/Menu",component:ve,parameters:{default:"LiveExample",controls:{exclude:[].concat((ar=u,function(e){if(Array.isArray(e))return $(e)}(ar)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(ar)||Y(ar)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),["trigger","children","refEl","setOpen","as"])},chromatic:{disableSnapshot:!0},generate:{combineArgs:{darkMode:[!1,!0],align:Object.values(v),justify:Object.values(y)},args:{open:!0,maxHeight:200,children:e.createElement(e.Fragment,null,e.createElement(er,null,"Lorem"),e.createElement(rr,{title:"Fruit",description:"A selection of fruit",glyph:e.createElement(f,{size:"large"}),active:!0},e.createElement(er,{active:!0},"Apple"),e.createElement(er,{variant:"destructive"},"Banana"),e.createElement(er,null,"Carrot"),e.createElement(er,null,"Dragonfruit"),e.createElement(er,null,"Eggplant"),e.createElement(er,null,"Fig")))},excludeCombinations:[{align:[v.CenterHorizontal,v.CenterVertical]},{justify:y.Fit,align:[v.Left,v.Right]}],decorator:function(n,t){return e.createElement("div",{className:d(or||(or=J(["\n            width: 256px;\n            height: 250px;\n            display: flex;\n            align-items: ",";\n            justify-content: ",";\n          "])),["left","right"].includes(null==t?void 0:t.args.align)?"end":ir(null==t?void 0:t.args.align,null==t?void 0:t.args.justify),cr(null==t?void 0:t.args.align,null==t?void 0:t.args.justify))},e.createElement(n,{trigger:e.createElement(s,{darkMode:null==t?void 0:t.args.darkMode,size:"xsmall"},"trigger")}))}}},args:{open:!0,align:"bottom",usePortal:!0,darkMode:!1},argTypes:{open:{control:"boolean"},usePortal:{control:"boolean"},size:{options:Object.values(te),control:"select",description:"Size of the `MenuItem` component, can be `default` or `large`"},darkMode:c.darkMode}},sr=function(n){n.open;var t=n.size,r=n.darkMode,o=_(n,lr);return e.createElement(m,null,e.createElement(ve,K({darkMode:r,trigger:e.createElement(s,{darkMode:r,rightGlyph:e.createElement(p,null)},"Menu")},o),e.createElement(er,{size:t,glyph:e.createElement(f,null)},"Menu Item"),e.createElement(er,{description:"I am also a description",size:t,glyph:e.createElement(f,null)},"Menu Item"),e.createElement(er,{disabled:!0,description:"I am a description",size:t},"Disabled Menu Item"),e.createElement(er,{disabled:!0,description:"I am a description",size:t,glyph:e.createElement(f,null)},"Disabled Menu Item"),e.createElement(le,null),e.createElement(er,{size:t,href:"http://mongodb.design"},"I am a link!"),e.createElement(rr,{title:"Menu Item 1",description:".design",glyph:e.createElement(f,{size:"large"}),active:!0,href:"http://mongodb.design",size:t},e.createElement(er,{active:!0},"SubMenu Item 1"),e.createElement(er,null,"SubMenu Item 2"),e.createElement(er,null,"SubMenu Item 3")),e.createElement(rr,{title:"Menu Item 2",description:"Sed posuere",size:t},e.createElement(er,null,"Support 1"),e.createElement(er,null,"Support 2")),e.createElement(le,null),e.createElement(er,{size:t},"Lorem"),e.createElement(er,{size:t},"Ipsum"),e.createElement(er,{size:t},"Adipiscing"),e.createElement(er,{size:t},"Cursus"),e.createElement(er,{size:t},"Ullamcorper"),e.createElement(er,{size:t},"Vulputate"),e.createElement(er,{size:t},"Inceptos"),e.createElement(er,{size:t},"Risus")))};sr.parameters={chromatic:{disableSnapshot:!0}};var dr=function(){return e.createElement(m,null,e.createElement(ve,{initialOpen:!0,trigger:e.createElement(s,{rightGlyph:e.createElement(p,null)},"Menu")},e.createElement(er,null,"Lorem"),e.createElement(er,null,"Ipsum"),e.createElement(er,null,"Adipiscing")))};dr.parameters={chromatic:{disableSnapshot:!0}};var gr=function(){return e.createElement(e.Fragment,null)};export{gr as Generated,dr as InitialOpen,sr as LiveExample,ur as default};
