import e,{useState as n,useMemo as t}from"react";import r from"prop-types";import o from"@leafygreen-ui/button";import{css as i,cx as a}from"@leafygreen-ui/emotion";import l from"@leafygreen-ui/icon/dist/Warning";import{useDarkMode as c}from"@leafygreen-ui/leafygreen-provider";import u,{Footer as f}from"@leafygreen-ui/modal";import{palette as p}from"@leafygreen-ui/palette";import m from"@leafygreen-ui/text-input";import{H3 as s}from"@leafygreen-ui/typography";import{Theme as d}from"@leafygreen-ui/lib";import{typeScales as g}from"@leafygreen-ui/tokens";function y(e){var n=function(e,n){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof n?n:n+""}function b(e,n,t){return(n=y(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function v(){return v=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},v.apply(this,arguments)}function h(e,n){if(null==e)return{};var t,r,o=function(e,n){if(null==e)return{};var t,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}function x(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}function O(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,i,a,l=[],c=!0,u=!1;try{if(i=(t=t.call(e)).next,0===n);else for(;!(c=(r=i.call(t)).done)&&(l.push(r.value),l.length!==n);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return j(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return j(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e,n){n>e.length&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}var k,C,w,P,E,N,S,T,D,M,I,A="lg-confirmation_modal",B={root:A,input:"".concat(A,"-confirmation_input"),title:"".concat(A,"-title"),confirm:"".concat(A,"-footer-confirm_button"),cancel:"".concat(A,"-footer-cancel_button")},q={Default:"primary",Danger:"danger"},z=i(k||(k=x(["\n  line-height: 32px;\n  margin-bottom: 10px;\n"]))),_=i(C||(C=x(["\n  width: 600px;\n  padding: initial;\n  letter-spacing: 0;\n"]))),R=i(w||(w=x(["\n  font-size: ","px;\n  line-height: ","px;\n"])),g.body1.fontSize,g.body1.lineHeight),F=i(P||(P=x(["\n  color: ",";\n"])),p.gray.light1),H=b(b({},q.Default,i(E||(E=x(["\n    padding: 40px 36px 0px;\n  "])))),q.Danger,i(N||(N=x(["\n    padding: 40px 36px 0px 78px;\n  "])))),L=i(S||(S=x(["\n  width: 300px;\n  margin-top: 14px;\n\n  label {\n    margin-bottom: 3px;\n  }\n"]))),U=i(T||(T=x(["\n  margin: 0 2px;\n\n  &:first-of-type {\n    margin: 0 0 0 5px;\n  }\n\n  &:last-of-type {\n    margin: 0 5px 0 0;\n  }\n"]))),W=i(D||(D=x(["\n  width: 32px;\n  height: 32px;\n  border-radius: 50%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  position: absolute;\n  left: 36px;\n  top: 40px;\n\n  svg {\n    margin-top: -3px;\n  }\n"]))),$=b(b({},d.Light,i(M||(M=x(["\n    background: ",";\n  "])),p.red.light3)),d.Dark,i(I||(I=x(["\n    background: ",";\n  "])),p.red.dark2)),G=["children","title","requiredInputText","buttonText","submitDisabled","variant","onConfirm","onCancel","darkMode","confirmButtonProps","cancelButtonProps"],J=e.forwardRef((function(r,i){var d,g=r.children,y=r.title,x=r.requiredInputText,j=r.buttonText,k=r.submitDisabled,C=r.variant,w=void 0===C?q.Default:C,P=r.onConfirm,E=r.onCancel,N=r.darkMode,S=r.confirmButtonProps,T=void 0===S?{}:S,D=r.cancelButtonProps,M=void 0===D?{}:D,I=h(r,G),A=O(n(!x),2),J=A[0],K=A[1],Q=c(N),V=Q.theme,X=Q.darkMode,Y=t((function(){K(!x);var n=null;if(x){n=e.createElement(m,{label:'Type "'.concat(x,'" to confirm your action'),className:L,onChange:function(e){K(e.target.value===x)},autoFocus:!0,darkMode:X,"data-testid":B.input})}return n}),[x,X]),Z=P||(null==T?void 0:T.onClick),ee=E||(null==M?void 0:M.onClick),ne=function(){x&&K(!1)},te=function(){null==ee||ee(),ne()},re=null!==(d=null!=k?k:null==T?void 0:T.disabled)&&void 0!==d&&d;return e.createElement(u,v({},I,{contentClassName:_,setOpen:te,darkMode:X,ref:i}),e.createElement("div",{className:a(R,H[w],b({},F,X))},w===q.Danger&&e.createElement("div",{className:a(W,$[V])},e.createElement(l,{fill:X?p.red.light3:p.red.base,role:"presentation"})),e.createElement(s,{as:"h1",className:a(z),"data-testid":B.title},y),g,Y),e.createElement(f,null,e.createElement(o,v({},T,{"data-testid":B.confirm,disabled:!J||re,className:a(U,null==T?void 0:T.className),variant:w,onClick:function(){null==Z||Z(),ne()}}),j||(null==T?void 0:T.children)||"Confirm"),e.createElement(o,v({},M,{onClick:te,className:a(U,null==M?void 0:M.className),"data-testid":B.cancel}),"Cancel")))}));J.displayName="ConfirmationModal",J.propTypes={title:r.string.isRequired,open:r.bool,onConfirm:r.func,onCancel:r.func,children:r.node,className:r.string,buttonText:r.string,variant:r.oneOf(Object.values(q)),requiredInputText:r.string,darkMode:r.bool,confirmButtonProps:r.objectOf(r.any),cancelButtonProps:r.objectOf(r.any)};export{q as Variant,J as default};
//# sourceMappingURL=index.js.map
