import e,{useRef as n}from"react";import r from"prop-types";import{css as t,cx as o}from"@leafygreen-ui/emotion";import{useIdAllocator as a}from"@leafygreen-ui/hooks";import i,{useDarkMode as l}from"@leafygreen-ui/leafygreen-provider";import{transitionDuration as s,hoverRing as c,focusRing as d,fontWeights as u}from"@leafygreen-ui/tokens";import{useUpdatedBaseFontSize as m,Label as b,Description as g}from"@leafygreen-ui/typography";import{Transition as f}from"react-transition-group";import{usePrefersReducedMotion as p}from"@leafygreen-ui/a11y";import{createUniqueClassName as h,Theme as y}from"@leafygreen-ui/lib";import{palette as k}from"@leafygreen-ui/palette";function v(e,n,r){return(n=function(e){var n=function(e,n){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var t=r.call(e,n||"default");if("object"!=typeof t)return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==typeof n?n:String(n)}(n))in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function x(){return x=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])}return e},x.apply(this,arguments)}function w(e,n){if(null==e)return{};var r,t,o=function(e,n){if(null==e)return{};var r,t,o={},a=Object.keys(e);for(t=0;t<a.length;t++)r=a[t],n.indexOf(r)>=0||(o[r]=e[r]);return o}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(t=0;t<a.length;t++)r=a[t],n.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function j(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}function O(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var t,o,a,i,l=[],s=!0,c=!1;try{if(a=(r=r.call(e)).next,0===n){if(Object(r)!==r)return;s=!1}else for(;!(s=(t=a.call(r)).done)&&(l.push(t.value),l.length!==n);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw o}}return l}}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return E(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return E(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,n){(null==n||n>e.length)&&(n=e.length);for(var r=0,t=new Array(n);r<n;r++)t[r]=e[r];return t}var L,N,S,C,z,D,M,P,A,F,T,I,B,W,q,R,U,$,G,H,J,K,Q,V,X,Y,Z,_,ee,ne,re,te,oe,ae,ie,le,se,ce,de,ue,me,be,ge=14,fe=s.faster,pe=100-100*Math.sqrt(2),he=h("ripple"),ye=t(L||(L=j(["\n  &,\n  &:before {\n    transition: unset;\n    transition-delay: 0ms;\n    transition-duration: 0ms;\n  }\n"]))),ke=t(N||(N=j(["\n  grid-area: check;\n  position: relative;\n  display: flex;\n  z-index: 1;\n  height: ","px;\n  width: ","px;\n  align-items: center;\n  justify-content: center;\n  border-radius: 3px;\n  border: ","px solid;\n  overflow: hidden;\n  background-color: transparent;\n  transition: box-shadow 100ms ease-in-out, background-color 0ms linear,\n    border-color 0ms linear;\n\n  // delay border-color out\n  transition-delay: 0ms, 0ms, ","ms;\n\n  /**\n   * The animated background circle\n   */\n  &:before {\n    content: '';\n    position: absolute;\n    inset: ","%;\n    z-index: 1;\n    border-radius: 100%;\n    transform: scale(0);\n    transform-origin: center center;\n    transition: transform ","ms ease-in-out;\n    transition-delay: ","ms;\n  }\n"])),ge,ge,2,fe,pe,fe,fe/2),ve=(v(z={},y.Light,t(S||(S=j(["\n    border-color: ",";\n\n    &:before {\n      background-color: ",";\n    }\n  "])),k.gray.dark2,k.blue.base)),v(z,y.Dark,t(C||(C=j(["\n    border-color: ",";\n\n    &:before {\n      background-color: ",";\n    }\n  "])),k.gray.base,k.blue.light1)),z),xe=t(D||(D=j(["\n  // Delay background transition in\n  transition-delay: 0ms, ","ms, 0ms;\n\n  &:before {\n    transform: scale(1);\n    // No delay on enter\n    transition-delay: 0ms;\n  }\n"])),fe),we=(v(A={},y.Light,t(M||(M=j(["\n    background-color: ",";\n    border-color: ",";\n  "])),k.blue.base,k.blue.base)),v(A,y.Dark,t(P||(P=j(["\n    background-color: ",";\n    border-color: ",";\n  "])),k.blue.light1,k.blue.light1)),A),je=(v(I={},y.Light,t(F||(F=j(["\n    border-color: ",";\n    background-color: ",";\n    box-shadow: unset;\n\n    &:before {\n      background-color: ",";\n    }\n  "])),k.gray.light2,k.gray.light3,k.gray.light3)),v(I,y.Dark,t(T||(T=j(["\n    border-color: ",";\n    background-color: ",";\n    box-shadow: unset;\n\n    &:before {\n      background-color: ",";\n    }\n  "])),k.gray.dark2,k.gray.dark3,k.gray.dark3)),I),Oe=(v(q={},y.Light,t(B||(B=j(["\n    background-color: ",";\n\n    &:before {\n      background-color: ",";\n    }\n  "])),k.gray.light2,k.gray.light2)),v(q,y.Dark,t(W||(W=j(["\n    background-color: ",";\n\n    &:before {\n      background-color: ",";\n    }\n  "])),k.gray.dark2,k.gray.dark2)),q),Ee=t(R||(R=j(["\n  grid-area: check;\n  position: relative;\n  top: ","px;\n  height: ","px;\n  width: ","px;\n  z-index: 0;\n  border-radius: 100%;\n  opacity: 1;\n  transform: scale(0);\n  transform-origin: center center;\n  transition: 0ms ease-in-out;\n  transition-property: transform, opacity;\n"])),2,ge,ge),Le=(v(G={},y.Light,t(U||(U=j(["\n    background-color: ",";\n  "])),k.blue.dark1)),v(G,y.Dark,t($||($=j(["\n    background-color: ",";\n  "])),k.blue.light2)),G),Ne=t(H||(H=j(["\n  // only animate ripple on enter\n  transition-duration: ","ms;\n  transition-delay: ","ms;\n  transform: scale(",");\n  opacity: 0;\n"])),4*fe,-1.7777777777777777*fe,2.25),Se=t(J||(J=j(["\n  z-index: 1;\n  transform-origin: center;\n  transition: transform ","ms ease-in-out;\n"])),fe),Ce=t(K||(K=j(["\n  transform: scale(1) rotate(0);\n  transition-delay: ","ms;\n"])),fe/8),ze=t(Q||(Q=j(["\n  transform: scale(0) rotate(-45deg);\n"]))),De={entering:ze,entered:Ce,exiting:ze,exited:ze,unmounted:ze},Me=function(n){var r;return e.createElement("svg",x({width:"10",height:"10",viewBox:"0 0 10 10",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n),e.createElement("path",{d:"M2 5.5L4.12132 7.62132L8.36396 3.37868",stroke:null!==(r=n.stroke)&&void 0!==r?r:k.white,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}))},Pe=function(n){var r;return e.createElement("svg",x({width:"10",height:"10",viewBox:"0 0 10 10",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n),e.createElement("line",{x1:"2",x2:"8",y1:"5",y2:"5",strokeWidth:"2",strokeLinecap:"round",stroke:null!==(r=n.stroke)&&void 0!==r?r:k.white}))},Ae=(v(V={},y.Light,{default:k.white,disabled:k.gray.light3}),v(V,y.Dark,{default:k.white,disabled:k.gray.dark1}),V);function Fe(r){var t,a,i=r.theme,l=r.isChecked,s=r.indeterminate,c=r.disabled,d=r.animate,u=r.selector,m=p(),b=s?Pe:Me,g=s||l,h=d&&!s&&!m,y=n(null);return e.createElement(e.Fragment,null,e.createElement("div",{className:o(u,ke,ve[i],(t={},v(t,xe,g),v(t,we[i],g),v(t,je[i],c),v(t,Oe[i],c&&g),v(t,ye,!h),t))},e.createElement(f,{in:g,timeout:m?0:fe,enter:h,exit:h,nodeRef:y},(function(n){return e.createElement(b,{stroke:c?Ae[i].disabled:Ae[i].default,className:o(Se,De[n],v({},ye,!h))})}))),e.createElement("div",{className:o(he,Ee,Le[i],(a={},v(a,Ne,l&&h),v(a,ye,!h),a))}))}var Te,Ie=h("check-wrapper"),Be=h("input"),We=t(X||(X=j(["\n  display: grid;\n  grid-template-columns: ","px auto;\n  grid-template-areas: 'label label' '. description';\n  gap: 0 8px;\n  position: relative;\n  align-items: center;\n  justify-content: flex-start;\n  z-index: 0;\n"])),ge),qe=t(Y||(Y=j(["\n  cursor: not-allowed;\n"]))),Re=t(Z||(Z=j(["\n  grid-area: label;\n  display: grid;\n  grid-template-columns: ","px auto;\n  grid-template-areas: 'check text';\n  gap: 8px;\n  justify-content: flex-start;\n  align-items: baseline;\n  cursor: pointer;\n"])),ge),Ue="\n  &:hover:not(:focus-within)\n    > .".concat(Be,":not([disabled])\n      + .").concat(Ie,"\n"),$e=(v(ne={},y.Light,t(_||(_=j(["\n    "," {\n      box-shadow: ",";\n    }\n  "])),Ue,c.light.gray)),v(ne,y.Dark,t(ee||(ee=j(["\n    "," {\n      box-shadow: ",";\n    }\n  "])),Ue,c.dark.gray)),ne),Ge=t(re||(re=j(["\n  cursor: not-allowed;\n"]))),He=t(te||(te=j(["\n  color: ",";\n"])),k.gray.base),Je=t(oe||(oe=j(["\n  margin: 0;\n  position: absolute;\n  height: 0;\n  width: 0;\n  left: 0;\n  top: 0;\n  pointer-events: none;\n  opacity: 0;\n"]))),Ke=(v(le={},y.Light,t(ae||(ae=j(["\n    &:focus-visible + ."," {\n      box-shadow: ",";\n    }\n  "])),Ie,d.light.default)),v(le,y.Dark,t(ie||(ie=j(["\n    &:focus-visible + ."," {\n      box-shadow: ",";\n    }\n  "])),Ie,d.dark.default)),le),Qe=t(se||(se=j(["\n  align-self: baseline;\n"]))),Ve=t(ce||(ce=j(["\n  grid-area: description;\n"])));v(me={},y.Light,t(de||(de=j(["\n    color: ",";\n  "])),k.black)),v(me,y.Dark,t(ue||(ue=j(["\n    color: ",";\n  "])),k.gray.light2)),t(be||(be=j(["\n  color: ",";\n"])),k.gray.dark1);var Xe=["animate","baseFontSize","bold","checked","className","darkMode","description","disabled","id","indeterminate","label","onClick","onChange","name","style"];function Ye(n){var r,s=n.animate,c=void 0===s||s,d=n.baseFontSize,f=n.bold,p=n.checked,h=n.className,y=n.darkMode,k=n.description,E=n.disabled,L=void 0!==E&&E,N=n.id,S=n.indeterminate,C=n.label,z=void 0===C?"":C,D=n.onClick,M=n.onChange,P=n.name,A=n.style,F=w(n,Xe),T=l(y),I=T.darkMode,B=T.theme,W=m(d),q=O(e.useState(!1),2),R=q[0],U=q[1],$=e.useMemo((function(){return null!=p?p:R}),[p,R]),G=a({prefix:"checkbox",id:N}),H="".concat(G,"-label"),J=null!=f?f:!!k,K=function(e){M&&M(e),null==p&&U(e.target.checked)};return e.createElement(i,{baseFontSize:16===W?W:14,darkMode:I},e.createElement("div",{className:o(We,v({},qe,L),h),style:A},e.createElement(b,{id:H,htmlFor:G,disabled:L,className:o(Re,$e[B],(r={},v(r,Ge,L),v(r,He,L&&I),r))},e.createElement("input",x({},F,{id:G,className:o(Be,Je,Ke[B]),type:"checkbox",name:P,disabled:L,checked:$,"aria-label":"checkbox","aria-disabled":L,"aria-checked":S?"mixed":$,"aria-labelledby":H,onClick:function(e){D&&D(e),S&&(K(e),e.stopPropagation())},onChange:K})),e.createElement(Fe,{theme:B,isChecked:$,indeterminate:S,disabled:L,animate:c,selector:Ie}),z&&e.createElement("span",{className:o(Qe,v({},t(Te||(Te=j(["\n                  font-weight: ",";\n                "])),u.regular),!J))},z)),k&&e.createElement(g,{className:o(Ve,v({},He,L&&I)),disabled:L},k)))}Ye.displayName="Checkbox",Ye.propTypes={darkMode:r.bool,description:r.string,checked:r.bool,label:r.node,disabled:r.bool,indeterminate:r.bool,className:r.string,onChange:r.func,id:r.oneOfType([r.number,r.string]),animate:r.bool};export{Ye as default};
//# sourceMappingURL=index.js.map
