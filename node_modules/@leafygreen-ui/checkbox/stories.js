import e,{useRef as n}from"react";import{css as r,cx as t}from"@leafygreen-ui/emotion";import o,{useDarkMode as a}from"@leafygreen-ui/leafygreen-provider";import{createUniqueClassName as i,Theme as l,storybookArgTypes as s,storybookExcludedControlParams as c}from"@leafygreen-ui/lib";import d from"prop-types";import{useIdAllocator as u}from"@leafygreen-ui/hooks";import{transitionDuration as b,hoverRing as m,focusRing as g,fontWeights as f}from"@leafygreen-ui/tokens";import{useUpdatedBaseFontSize as p,Label as h,Description as y}from"@leafygreen-ui/typography";import{Transition as k}from"react-transition-group";import{usePrefersReducedMotion as v}from"@leafygreen-ui/a11y";import{palette as x}from"@leafygreen-ui/palette";function w(e,n,r){return(n=function(e){var n=function(e,n){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var t=r.call(e,n||"default");if("object"!=typeof t)return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==typeof n?n:String(n)}(n))in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function S(){return S=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])}return e},S.apply(this,arguments)}function j(e,n){if(null==e)return{};var r,t,o=function(e,n){if(null==e)return{};var r,t,o={},a=Object.keys(e);for(t=0;t<a.length;t++)r=a[t],n.indexOf(r)>=0||(o[r]=e[r]);return o}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(t=0;t<a.length;t++)r=a[t],n.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function E(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}function O(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var t,o,a,i,l=[],s=!0,c=!1;try{if(a=(r=r.call(e)).next,0===n){if(Object(r)!==r)return;s=!1}else for(;!(s=(t=a.call(r)).done)&&(l.push(t.value),l.length!==n);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw o}}return l}}(e,n)||z(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N(e){return function(e){if(Array.isArray(e))return L(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||z(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function z(e,n){if(e){if("string"==typeof e)return L(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?L(e,n):void 0}}function L(e,n){(null==n||n>e.length)&&(n=e.length);for(var r=0,t=new Array(n);r<n;r++)t[r]=e[r];return t}var C,M,A,D,F,T,I,P,B,W,q,R,U,$,G,H,J,K,Q,V,X,Y,Z,_,ee,ne,re,te,oe,ae,ie,le,se,ce,de,ue,be,me,ge,fe,pe,he,ye=14,ke=b.faster,ve=100-100*Math.sqrt(2),xe=i("ripple"),we=r(C||(C=E(["\n  &,\n  &:before {\n    transition: unset;\n    transition-delay: 0ms;\n    transition-duration: 0ms;\n  }\n"]))),Se=r(M||(M=E(["\n  grid-area: check;\n  position: relative;\n  display: flex;\n  z-index: 1;\n  height: ","px;\n  width: ","px;\n  align-items: center;\n  justify-content: center;\n  border-radius: 3px;\n  border: ","px solid;\n  overflow: hidden;\n  background-color: transparent;\n  transition: box-shadow 100ms ease-in-out, background-color 0ms linear,\n    border-color 0ms linear;\n\n  // delay border-color out\n  transition-delay: 0ms, 0ms, ","ms;\n\n  /**\n   * The animated background circle\n   */\n  &:before {\n    content: '';\n    position: absolute;\n    inset: ","%;\n    z-index: 1;\n    border-radius: 100%;\n    transform: scale(0);\n    transform-origin: center center;\n    transition: transform ","ms ease-in-out;\n    transition-delay: ","ms;\n  }\n"])),ye,ye,2,ke,ve,ke,ke/2),je=(w(F={},l.Light,r(A||(A=E(["\n    border-color: ",";\n\n    &:before {\n      background-color: ",";\n    }\n  "])),x.gray.dark2,x.blue.base)),w(F,l.Dark,r(D||(D=E(["\n    border-color: ",";\n\n    &:before {\n      background-color: ",";\n    }\n  "])),x.gray.base,x.blue.light1)),F),Ee=r(T||(T=E(["\n  // Delay background transition in\n  transition-delay: 0ms, ","ms, 0ms;\n\n  &:before {\n    transform: scale(1);\n    // No delay on enter\n    transition-delay: 0ms;\n  }\n"])),ke),Oe=(w(B={},l.Light,r(I||(I=E(["\n    background-color: ",";\n    border-color: ",";\n  "])),x.blue.base,x.blue.base)),w(B,l.Dark,r(P||(P=E(["\n    background-color: ",";\n    border-color: ",";\n  "])),x.blue.light1,x.blue.light1)),B),Ne=(w(R={},l.Light,r(W||(W=E(["\n    border-color: ",";\n    background-color: ",";\n    box-shadow: unset;\n\n    &:before {\n      background-color: ",";\n    }\n  "])),x.gray.light2,x.gray.light3,x.gray.light3)),w(R,l.Dark,r(q||(q=E(["\n    border-color: ",";\n    background-color: ",";\n    box-shadow: unset;\n\n    &:before {\n      background-color: ",";\n    }\n  "])),x.gray.dark2,x.gray.dark3,x.gray.dark3)),R),ze=(w(G={},l.Light,r(U||(U=E(["\n    background-color: ",";\n\n    &:before {\n      background-color: ",";\n    }\n  "])),x.gray.light2,x.gray.light2)),w(G,l.Dark,r($||($=E(["\n    background-color: ",";\n\n    &:before {\n      background-color: ",";\n    }\n  "])),x.gray.dark2,x.gray.dark2)),G),Le=r(H||(H=E(["\n  grid-area: check;\n  position: relative;\n  top: ","px;\n  height: ","px;\n  width: ","px;\n  z-index: 0;\n  border-radius: 100%;\n  opacity: 1;\n  transform: scale(0);\n  transform-origin: center center;\n  transition: 0ms ease-in-out;\n  transition-property: transform, opacity;\n"])),2,ye,ye),Ce=(w(Q={},l.Light,r(J||(J=E(["\n    background-color: ",";\n  "])),x.blue.dark1)),w(Q,l.Dark,r(K||(K=E(["\n    background-color: ",";\n  "])),x.blue.light2)),Q),Me=r(V||(V=E(["\n  // only animate ripple on enter\n  transition-duration: ","ms;\n  transition-delay: ","ms;\n  transform: scale(",");\n  opacity: 0;\n"])),4*ke,-1.7777777777777777*ke,2.25),Ae=r(X||(X=E(["\n  z-index: 1;\n  transform-origin: center;\n  transition: transform ","ms ease-in-out;\n"])),ke),De=r(Y||(Y=E(["\n  transform: scale(1) rotate(0);\n  transition-delay: ","ms;\n"])),ke/8),Fe=r(Z||(Z=E(["\n  transform: scale(0) rotate(-45deg);\n"]))),Te={entering:Fe,entered:De,exiting:Fe,exited:Fe,unmounted:Fe},Ie=function(n){var r;return e.createElement("svg",S({width:"10",height:"10",viewBox:"0 0 10 10",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n),e.createElement("path",{d:"M2 5.5L4.12132 7.62132L8.36396 3.37868",stroke:null!==(r=n.stroke)&&void 0!==r?r:x.white,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}))},Pe=function(n){var r;return e.createElement("svg",S({width:"10",height:"10",viewBox:"0 0 10 10",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n),e.createElement("line",{x1:"2",x2:"8",y1:"5",y2:"5",strokeWidth:"2",strokeLinecap:"round",stroke:null!==(r=n.stroke)&&void 0!==r?r:x.white}))},Be=(w(_={},l.Light,{default:x.white,disabled:x.gray.light3}),w(_,l.Dark,{default:x.white,disabled:x.gray.dark1}),_);function We(r){var o,a,i=r.theme,l=r.isChecked,s=r.indeterminate,c=r.disabled,d=r.animate,u=r.selector,b=v(),m=s?Pe:Ie,g=s||l,f=d&&!s&&!b,p=n(null);return e.createElement(e.Fragment,null,e.createElement("div",{className:t(u,Se,je[i],(o={},w(o,Ee,g),w(o,Oe[i],g),w(o,Ne[i],c),w(o,ze[i],c&&g),w(o,we,!f),o))},e.createElement(k,{in:g,timeout:b?0:ke,enter:f,exit:f,nodeRef:p},(function(n){return e.createElement(m,{stroke:c?Be[i].disabled:Be[i].default,className:t(Ae,Te[n],w({},we,!f))})}))),e.createElement("div",{className:t(xe,Le,Ce[i],(a={},w(a,Me,l&&f),w(a,we,!f),a))}))}var qe,Re=i("check-wrapper"),Ue=i("input"),$e=r(ee||(ee=E(["\n  display: grid;\n  grid-template-columns: ","px auto;\n  grid-template-areas: 'label label' '. description';\n  gap: 0 8px;\n  position: relative;\n  align-items: center;\n  justify-content: flex-start;\n  z-index: 0;\n"])),ye),Ge=r(ne||(ne=E(["\n  cursor: not-allowed;\n"]))),He=r(re||(re=E(["\n  grid-area: label;\n  display: grid;\n  grid-template-columns: ","px auto;\n  grid-template-areas: 'check text';\n  gap: 8px;\n  justify-content: flex-start;\n  align-items: baseline;\n  cursor: pointer;\n"])),ye),Je="\n  &:hover:not(:focus-within)\n    > .".concat(Ue,":not([disabled])\n      + .").concat(Re,"\n"),Ke=(w(ae={},l.Light,r(te||(te=E(["\n    "," {\n      box-shadow: ",";\n    }\n  "])),Je,m.light.gray)),w(ae,l.Dark,r(oe||(oe=E(["\n    "," {\n      box-shadow: ",";\n    }\n  "])),Je,m.dark.gray)),ae),Qe=r(ie||(ie=E(["\n  cursor: not-allowed;\n"]))),Ve=r(le||(le=E(["\n  color: ",";\n"])),x.gray.base),Xe=r(se||(se=E(["\n  margin: 0;\n  position: absolute;\n  height: 0;\n  width: 0;\n  left: 0;\n  top: 0;\n  pointer-events: none;\n  opacity: 0;\n"]))),Ye=(w(ue={},l.Light,r(ce||(ce=E(["\n    &:focus-visible + ."," {\n      box-shadow: ",";\n    }\n  "])),Re,g.light.default)),w(ue,l.Dark,r(de||(de=E(["\n    &:focus-visible + ."," {\n      box-shadow: ",";\n    }\n  "])),Re,g.dark.default)),ue),Ze=r(be||(be=E(["\n  align-self: baseline;\n"]))),_e=r(me||(me=E(["\n  grid-area: description;\n"])));w(pe={},l.Light,r(ge||(ge=E(["\n    color: ",";\n  "])),x.black)),w(pe,l.Dark,r(fe||(fe=E(["\n    color: ",";\n  "])),x.gray.light2)),r(he||(he=E(["\n  color: ",";\n"])),x.gray.dark1);var en=["animate","baseFontSize","bold","checked","className","darkMode","description","disabled","id","indeterminate","label","onClick","onChange","name","style"];function nn(n){var i,l=n.animate,s=void 0===l||l,c=n.baseFontSize,d=n.bold,b=n.checked,m=n.className,g=n.darkMode,k=n.description,v=n.disabled,x=void 0!==v&&v,N=n.id,z=n.indeterminate,L=n.label,C=void 0===L?"":L,M=n.onClick,A=n.onChange,D=n.name,F=n.style,T=j(n,en),I=a(g),P=I.darkMode,B=I.theme,W=p(c),q=O(e.useState(!1),2),R=q[0],U=q[1],$=e.useMemo((function(){return null!=b?b:R}),[b,R]),G=u({prefix:"checkbox",id:N}),H="".concat(G,"-label"),J=null!=d?d:!!k,K=function(e){A&&A(e),null==b&&U(e.target.checked)};return e.createElement(o,{baseFontSize:16===W?W:14,darkMode:P},e.createElement("div",{className:t($e,w({},Ge,x),m),style:F},e.createElement(h,{id:H,htmlFor:G,disabled:x,className:t(He,Ke[B],(i={},w(i,Qe,x),w(i,Ve,x&&P),i))},e.createElement("input",S({},T,{id:G,className:t(Ue,Xe,Ye[B]),type:"checkbox",name:D,disabled:x,checked:$,"aria-label":"checkbox","aria-disabled":x,"aria-checked":z?"mixed":$,"aria-labelledby":H,onClick:function(e){M&&M(e),z&&(K(e),e.stopPropagation())},onChange:K})),e.createElement(We,{theme:B,isChecked:$,indeterminate:z,disabled:x,animate:s,selector:Re}),C&&e.createElement("span",{className:t(Ze,w({},r(qe||(qe=E(["\n                  font-weight: ",";\n                "])),f.regular),!J))},C)),k&&e.createElement(y,{className:t(_e,w({},Ve,x&&P)),disabled:x},k)))}nn.displayName="Checkbox",nn.propTypes={darkMode:d.bool,description:d.string,checked:d.bool,label:d.node,disabled:d.bool,indeterminate:d.bool,className:d.string,onChange:d.func,id:d.oneOfType([d.number,d.string]),animate:d.bool};var rn,tn,on=["baseFontSize"],an="This is a description for the checkbox",ln={title:"Components/Checkbox",component:nn,parameters:{default:"LiveExample",controls:{exclude:[].concat(N(c),["checked"])},generate:{combineArgs:{darkMode:[!1,!0],checked:[!0,!1],indeterminate:[!1,!0],bold:[!0,!1],disabled:[!1,!0],description:[void 0,an],label:["I agree to this thing",void 0]},excludeCombinations:[["description",{label:void 0}],{bold:!0,label:void 0},{checked:!0,indeterminate:!0}],args:{className:r(rn||(rn=E(["\n          text-align: initial;\n          max-width: 300px;\n        "])))}}},args:{animate:!0,label:"I agree to this thing.",description:an,className:r(tn||(tn=E(["\n      max-width: 700px;\n    "])))},argTypes:{label:{control:"text"},description:{control:"text"},darkMode:s.darkMode,disabled:{control:"boolean"},bold:{control:"boolean"},indeterminate:{control:"boolean"},animate:{control:"boolean",default:!0},baseFontSize:s.baseFontSize}},sn=function(n){var r=n.baseFontSize,t=j(n,on);return e.createElement(o,{baseFontSize:r},e.createElement(nn,t))};sn.parameters={chromatic:{disableSnapshot:!0}};var cn=sn.bind({});cn.parameters={controls:{exclude:N(c)},chromatic:{disableSnapshot:!0}},cn.args={checked:!1},cn.argTypes={checked:{control:"boolean"}};var dn=function(){};export{cn as Controlled,dn as Generated,sn as LiveExample,ln as default};
