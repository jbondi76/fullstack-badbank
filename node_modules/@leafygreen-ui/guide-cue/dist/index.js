!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react"),require("react-dom"),require("prop-types"),require("@leafygreen-ui/a11y"),require("@leafygreen-ui/hooks"),require("@leafygreen-ui/leafygreen-provider"),require("@leafygreen-ui/popover"),require("polished"),require("@leafygreen-ui/emotion"),require("@leafygreen-ui/lib"),require("@leafygreen-ui/palette"),require("focus-trap-react"),require("@leafygreen-ui/button"),require("@leafygreen-ui/icon/dist/X"),require("@leafygreen-ui/icon-button"),require("@leafygreen-ui/tooltip"),require("@leafygreen-ui/typography")):"function"==typeof define&&define.amd?define(["exports","react","react-dom","prop-types","@leafygreen-ui/a11y","@leafygreen-ui/hooks","@leafygreen-ui/leafygreen-provider","@leafygreen-ui/popover","polished","@leafygreen-ui/emotion","@leafygreen-ui/lib","@leafygreen-ui/palette","focus-trap-react","@leafygreen-ui/button","@leafygreen-ui/icon/dist/X","@leafygreen-ui/icon-button","@leafygreen-ui/tooltip","@leafygreen-ui/typography"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self)["@leafygreen-ui/guide-cue"]={},e.React,e.ReactDOM,e.PropTypes,e["@leafygreen-ui/a11y"],e["@leafygreen-ui/hooks"],e["@leafygreen-ui/leafygreen-provider"],e["@leafygreen-ui/popover"],e.polished,e["@leafygreen-ui/emotion"],e["@leafygreen-ui/lib"],e["@leafygreen-ui/palette"],e["focus-trap-react"],e["@leafygreen-ui/button"],e.X,e["@leafygreen-ui/icon-button"],e["@leafygreen-ui/tooltip"],e["@leafygreen-ui/typography"])}(this,(function(e,t,n,r,o,a,i,l,u,s,p,f,c,d,y,m,b,g){"use strict";function h(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var v,x,O,C,E,S,k,w,j,T,N,P,A,M,q,I=h(t),z=h(r),D=h(l),B=h(c),R=h(d),J=h(y),Z=h(m),L=h(b);function F(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function G(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:t+""}function X(e){return X="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},X(e)}function H(e,t,n){return(t=G(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function U(){return U=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},U.apply(this,arguments)}function $(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function K(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function Q(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,l=[],u=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t);else for(;!(u=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);u=!0);}catch(e){s=!0,o=e}finally{try{if(!u&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return V(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return V(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function V(e,t){t>e.length&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var W=s.css(v||(v=K(["\n  padding: 32px 16px 16px;\n"]))),Y=s.css(x||(x=K(["\n  cursor: auto;\n"]))),_=function(e,t){var n=t?f.palette.blue.light2:f.palette.blue.base,r=s.css(O||(O=K(["\n    position: relative;\n\n    div {\n      width: ","px;\n      height: ","px;\n      border-radius: 50%;\n      background-color: ",";\n      transform-origin: center;\n      position: relative;\n    }\n  "])),24,24,u.transparentize(.5,n));return e?s.cx(r,s.css(C||(C=K(["\n        div {\n          box-shadow: 0px 0px 0px 4px ",";\n        }\n      "])),u.transparentize(.83,n))):s.cx(r,s.css(E||(E=K(["\n      &::before,\n      &::after {\n        content: '';\n        position: absolute;\n        border-radius: 50%;\n        translate: -50% -50%;\n        top: 50%;\n        left: 50%;\n        scale: 0.9;\n        opacity: 0;\n        width: ","px;\n        height: ","px;\n        background: rgba(255, 255, 255, 0);\n        box-shadow: 0px 0px 0px 0px ",";\n      }\n\n      // inner most pulse ring\n      &::before {\n        animation: pulse-outer 2.3s infinite cubic-bezier(0.42, 0, 0.61, 0.69);\n      }\n\n      // outer mosts pulse ring\n      &::after {\n        animation: pulse-outer-2 2.3s infinite cubic-bezier(0.42, 0, 0.46, 0.72);\n      }\n\n      @keyframes pulse-outer {\n        10% {\n          box-shadow: 0px 0px 0px 0px ",";\n          opacity: 1;\n        }\n\n        40%,\n        100% {\n          // this should scale up to 1 and have 0 opacity by 42% and remain that way until 100%\n          scale: 1;\n          box-shadow: 0px 0px 0px 15px ",";\n          opacity: 0;\n        }\n      }\n\n      @keyframes pulse-outer-2 {\n        10% {\n          box-shadow: 0px 0px 0px 0px ",";\n          opacity: 1;\n        }\n\n        35%,\n        100% {\n          // this should scale up to 1 and have 0 opacity by 35% and remain that way until 100%. This is 35% so that it gives the illusion of disappearing before the first ring.\n          scale: 1;\n          box-shadow: 0px 0px 0px 18px ",";\n          opacity: 0;\n        }\n      }\n\n      div {\n        animation: pulse-inner 2.3s infinite cubic-bezier(0.42, 0, 0.58, 0.72);\n\n        @keyframes pulse-inner {\n          40% {\n            // at 0% this will start to slowly scale and by 40% this should scale to 1.3\n            scale: 1.3;\n          }\n          73% {\n            // By 73% this should scale back to 1. From 73% to 100% it will remain at 1.\n            scale: 1;\n          }\n        }\n      }\n    "])),24,24,u.transparentize(1,n),u.transparentize(.95,n),u.transparentize(.7,n),u.transparentize(.95,n),u.transparentize(.7,n)))},ee=s.css(S||(S=K(["\n  margin-bottom: 16px;\n"]))),te=s.css(k||(k=K(["\n  display: flex;\n  justify-content: flex-end;\n  align-items: center;\n  gap: 16px;\n"]))),ne=H(H({},p.Theme.Light,s.css(w||(w=K(["\n    color: ",";\n  "])),f.palette.gray.light1)),p.Theme.Dark,s.css(j||(j=K(["\n    color: ",";\n  "])),f.palette.black)),re=s.css(T||(T=K(["\n  margin-bottom: 4px;\n"]))),oe=s.css(N||(N=K(["\n  position: absolute;\n  top: 10px;\n  right: 10px;\n"]))),ae=s.css(P||(P=K(["\n  color: ",";\n  &:hover,\n  &:active {\n    &::before {\n      background-color: ",";\n    }\n  }\n"])),f.palette.gray.dark2,f.palette.gray.light3),ie=H(H({},p.Theme.Light,s.css(A||(A=K(["\n    color: ",";\n  "])),f.palette.gray.base)),p.Theme.Dark,s.css(M||(M=K(["\n    color: ",";\n  "])),f.palette.gray.dark2)),le=s.css(q||(q=K(["\n  height: 28px;\n"]))),ue=["darkMode","open","setOpen","tooltipJustify","tooltipAlign","refEl","portalClassName","portalContainer","scrollContainer","popoverZIndex","theme","title","isStandalone","buttonText","numberOfSteps","currentStep","children","tooltipClassName","onEscClose","handleButtonClick","handleCloseClick","usePortal"],se="guide-cue-label",pe="guide-cue-desc";function fe(e){var t=e.darkMode,n=e.open,r=e.setOpen,o=e.tooltipJustify,i=e.tooltipAlign,l=e.refEl,u=e.portalClassName,p=e.portalContainer,f=e.scrollContainer,c=e.popoverZIndex,d=e.theme,y=e.title,m=e.isStandalone,b=e.buttonText,h=e.numberOfSteps,v=e.currentStep,x=e.children,O=e.tooltipClassName,C=e.onEscClose,E=e.handleButtonClick,S=e.handleCloseClick,k=e.usePortal,w=void 0===k||k,j=$(e,ue),T=a.useIdAllocator({prefix:"guide-cue"});return I.default.createElement(I.default.Fragment,null,I.default.createElement(L.default,U({darkMode:t,open:n,setOpen:r,justify:o,align:i,refEl:l,className:s.cx(H({},W,!m),Y,O),portalClassName:u,portalContainer:p,scrollContainer:f,popoverZIndex:c,onClose:C,role:"dialog","aria-labelledby":se,usePortal:w},j),I.default.createElement(B.default,{focusTrapOptions:{clickOutsideDeactivates:!0}},I.default.createElement("div",null,!m&&I.default.createElement(Z.default,{className:s.cx(oe,H({},ae,t)),"aria-label":"Close Tooltip",onClick:S,darkMode:!t},I.default.createElement(J.default,null)),I.default.createElement("div",{className:ee},I.default.createElement(g.Body,{id:se,as:"h2",className:re,darkMode:!t},I.default.createElement("strong",null,y)),I.default.createElement(g.Body,{as:"div",className:ne[d],id:pe},x)),I.default.createElement("div",{className:te},!m&&I.default.createElement(g.Disclaimer,{className:ie[d]},v," of ",h),I.default.createElement(R.default,{variant:"primary",onClick:function(){return E()},darkMode:!t,className:le,id:T},b))))))}fe.displayName="TooltipContent";var ce={Top:l.Align.Top,Bottom:l.Align.Bottom,Left:l.Align.Left,Right:l.Align.Right},de={Start:l.Justify.Start,Middle:l.Justify.Middle,End:l.Justify.End},ye=["open","setOpen","refEl","numberOfSteps","currentStep","darkMode","title","children","onDismiss","onPrimaryButtonClick","tooltipClassName","portalClassName","buttonText","tooltipAlign","tooltipJustify","beaconAlign","portalContainer","portalRef","scrollContainer","popoverZIndex"];function me(e){var r=e.open,u=e.setOpen,s=e.refEl,p=e.numberOfSteps,f=e.currentStep,c=void 0===f?1:f,d=e.darkMode,y=e.title,m=e.children,b=e.onDismiss,g=void 0===b?function(){}:b,h=e.onPrimaryButtonClick,v=void 0===h?function(){}:h,x=e.tooltipClassName,O=e.portalClassName,C=e.buttonText,E=e.tooltipAlign,S=void 0===E?ce.Top:E,k=e.tooltipJustify,w=void 0===k?de.Middle:k,j=e.beaconAlign,T=void 0===j?l.Align.CenterHorizontal:j,N=e.portalContainer,P=e.portalRef,A=e.scrollContainer,M=e.popoverZIndex,q=$(e,ye),z=i.useDarkMode(d),B=z.darkMode,R=z.theme,J=o.usePrefersReducedMotion(),Z=Q(t.useState(!1),2),L=Z[0],G=Z[1],X=Q(t.useState(!1),2),K=X[0],V=X[1],W=t.useRef(null),Y=C||(c===p||1===p?"Got it":"Next"),ee=p<=1;t.useEffect((function(){var e,t;return r&&!ee?(G(!0),e=setTimeout((function(){return n.flushSync((function(){V(!0)}))}),400)):(V(!1),t=setTimeout((function(){return G(!1)}),100)),function(){clearTimeout(e),clearTimeout(t)}}),[r,ee]);var te={portalClassName:O,portalContainer:N,portalRef:P,scrollContainer:A},ne=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F(Object(n),!0).forEach((function(t){H(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({darkMode:B,open:r,setOpen:u,tooltipJustify:w,tooltipAlign:S,refEl:s,popoverZIndex:M,numberOfSteps:p,currentStep:c,theme:R,title:y,isStandalone:ee,buttonText:Y,tooltipClassName:x,onEscClose:ee?v:g,handleButtonClick:function(){u(!1),setTimeout((function(){return v()}),ee?0:400)},handleCloseClick:function(){u(!1),setTimeout((function(){return g()}),400)}},q),re=Q(t.useState(!1),2),oe=re[0],ae=re[1];return a.useIsomorphicLayoutEffect((function(){return ae(!0)}),[]),oe?I.default.createElement(I.default.Fragment,null,ee?I.default.createElement(fe,U({},ne,te),m):I.default.createElement(D.default,U({active:L,refEl:s,align:T,justify:de.Middle,spacing:-12,adjustOnMutation:!0,popoverZIndex:M},te),I.default.createElement("div",{ref:W,className:_(J,B)},I.default.createElement("div",null)),I.default.createElement(fe,U({},ne,{refEl:W,open:K,usePortal:!1}),m))):null}me.displayName="GuideCue",me.propTypes={children:z.default.node,darkMode:z.default.bool,open:z.default.bool,setOpen:z.default.func,refEl:z.default.shape({current:"undefined"!=typeof window?z.default.instanceOf(Element):z.default.any}),numberOfSteps:z.default.number.isRequired,currentStep:function(e,t){return e.numberOfSteps>1&&"number"!=typeof e[t]?new Error("`currentStep` prop of type `number` is required if numberOfSteps > 1"):e.numberOfSteps<=1&&void 0!==e[t]&&"number"!=typeof e[t]?new Error("'currentStep' prop is invalid. Type '".concat(X(e[t]),"' supplied to 'currentStep', expected 'number'")):void 0},title:z.default.string,tooltipClassName:z.default.string,buttonText:z.default.string,onDismiss:z.default.func,onPrimaryButtonClick:z.default.func,tooltipAlign:z.default.oneOf(Object.values(ce)),tooltipJustify:z.default.oneOf(Object.values(de)),beaconAlign:z.default.oneOf(Object.values(l.Align)),popoverZIndex:z.default.number,scrollContainer:"undefined"!=typeof window?z.default.instanceOf(Element):z.default.any,portalContainer:"undefined"!=typeof window?z.default.instanceOf(Element):z.default.any,portalClassName:z.default.string,portalRef:z.default.shape({current:"undefined"!=typeof window?z.default.instanceOf(Element):z.default.any})},e.GuideCue=me,e.TooltipAlign=ce,e.TooltipJustify=de}));
//# sourceMappingURL=index.js.map
