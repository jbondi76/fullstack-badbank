{"version":3,"file":"index.js","sources":["../src/SearchInputContext.tsx","../src/SearchResultsMenu/EmptyOption/EmptyOption.styles.ts","../src/SearchResultsMenu/LoadingOption/LoadingOption.styles.ts","../src/SearchResultsMenu/SearchResultsMenu.style.ts","../src/SearchResultsMenu/SearchResultsMenu.tsx","../src/SearchResultsMenu/EmptyOption/EmptyOption.tsx","../src/SearchResultsMenu/LoadingOption/LoadingOption.tsx","../src/SearchInput/SearchInput.types.ts","../src/SearchInput/SearchInput.styles.ts","../src/SearchResult/SearchResult.styles.ts","../src/SearchInput/SearchInput.tsx","../src/SearchResultGroup/SearchResultGroup.styles.ts","../src/SearchResult/SearchResult.tsx","../src/SearchResultGroup/SearchResultGroup.tsx"],"sourcesContent":["import React, { createContext, PropsWithChildren, useContext } from 'react';\n\nimport { useDynamicRefs } from '@leafygreen-ui/hooks';\n\nimport { SearchInputProps } from '.';\n\nexport interface SearchInputContextProps\n  extends Pick<SearchInputProps, 'state'> {\n  highlight?: number;\n  resultDynamicRefs?: ReturnType<typeof useDynamicRefs>;\n}\n\nconst SearchInputContext = createContext<SearchInputContextProps>({});\n\nexport function SearchInputContextProvider({\n  children,\n  ...props\n}: PropsWithChildren<SearchInputContextProps>) {\n  return (\n    <SearchInputContext.Provider value={props}>\n      {children}\n    </SearchInputContext.Provider>\n  );\n}\n\nexport function useSearchInputContext() {\n  return useContext(SearchInputContext);\n}\n","import { css } from '@leafygreen-ui/emotion';\nimport { Theme } from '@leafygreen-ui/lib';\nimport { palette } from '@leafygreen-ui/palette';\nimport { spacing } from '@leafygreen-ui/tokens';\n\nexport const emptyOptionStyles = css`\n  display: flex;\n  align-items: center;\n  gap: ${spacing[2]}px;\n  font-style: italic;\n  font-weight: 300;\n  padding-block: ${spacing[1]}px;\n`;\n\nexport const emptyOptionThemeStyles: Record<Theme, string> = {\n  [Theme.Light]: css`\n    color: ${palette.gray.dark1};\n  `,\n  [Theme.Dark]: css`\n    color: ${palette.gray.light1};\n  `,\n};\n","import { css, keyframes } from '@leafygreen-ui/emotion';\nimport { spacing } from '@leafygreen-ui/tokens';\n\nexport const loadingOptionStyles = css`\n  display: flex;\n  align-items: center;\n  gap: ${spacing[2]}px;\n  padding-block: ${spacing[1]}px;\n`;\n\nconst loadingSpinner = keyframes`\n  from {\n    transform: rotate(0deg);\n  } \n  to {\n    transform: rotate(360deg);\n  }\n`;\n\nexport const loadingOptionIcon = css`\n  height: 16px;\n  width: 16px;\n  animation: ${loadingSpinner} 1.5s linear infinite;\n`;\n","import { transparentize } from 'polished';\n\nimport { css } from '@leafygreen-ui/emotion';\nimport { Theme } from '@leafygreen-ui/lib';\nimport { palette } from '@leafygreen-ui/palette';\n\nexport const searchResultsMenuStyles = css`\n  box-shadow: 0px 4px 7px ${transparentize(0.75, '#000000')};\n  padding: 12px 0;\n  border-radius: 12px;\n`;\n\nexport const searchResultsMenuThemeStyles: Record<Theme, string> = {\n  [Theme.Light]: css`\n    background-color: ${palette.white};\n    border: 1px solid ${palette.gray.light2};\n  `,\n  [Theme.Dark]: css`\n    background-color: ${palette.gray.dark3};\n    border: 1px solid ${palette.gray.dark2};\n  `,\n};\n\nexport const searchResultsListStyles = css`\n  padding: 0;\n  margin: 0;\n  border-radius: inherit;\n  overflow-y: auto;\n  scroll-behavior: smooth;\n`;\n","import React, { useMemo } from 'react';\nimport isUndefined from 'lodash/isUndefined';\n\nimport { css, cx } from '@leafygreen-ui/emotion';\nimport { useAvailableSpace } from '@leafygreen-ui/hooks';\nimport { useDarkMode } from '@leafygreen-ui/leafygreen-provider';\nimport Popover from '@leafygreen-ui/popover';\nimport { spacing } from '@leafygreen-ui/tokens';\n\nimport { useSearchInputContext } from '../SearchInputContext';\n\nimport { EmptyOption } from './EmptyOption';\nimport { LoadingOption } from './LoadingOption';\nimport {\n  searchResultsListStyles,\n  searchResultsMenuStyles,\n  searchResultsMenuThemeStyles,\n} from './SearchResultsMenu.style';\nimport { SearchResultsMenuProps } from './SearchResultsMenu.types';\n\nconst MAX_MENU_HEIGHT = 256;\n\n/**\n * @internal\n */\nexport const SearchResultsMenu = React.forwardRef<\n  HTMLUListElement,\n  SearchResultsMenuProps\n>(\n  (\n    {\n      children,\n      open = false,\n      refEl,\n      usePortal,\n      portalClassName,\n      portalContainer,\n      scrollContainer,\n      footerSlot,\n      ...rest\n    }: SearchResultsMenuProps,\n    ref,\n  ) => {\n    const { theme } = useDarkMode();\n    const { state } = useSearchInputContext();\n\n    const menuWidth = useMemo(\n      () => refEl.current?.clientWidth ?? 0,\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n      [refEl, open],\n    );\n\n    /** The max height of the menu element */\n    const availableSpace = useAvailableSpace(refEl);\n    const maxHeightValue = !isUndefined(availableSpace)\n      ? `${Math.min(availableSpace, MAX_MENU_HEIGHT)}px`\n      : 'unset';\n\n    return (\n      // @ts-ignore `portalClassName`, `portalContainer` and `scrollContainer` are only passed in when `usePortal` is true.\n      <Popover\n        data-testid=\"lg-search-input-popover\"\n        spacing={spacing[2]}\n        active={open}\n        align=\"bottom\"\n        justify=\"start\"\n        className={cx(\n          searchResultsMenuStyles,\n          searchResultsMenuThemeStyles[theme],\n          css`\n            width: ${menuWidth}px;\n            min-width: ${menuWidth}px;\n          `,\n        )}\n        refEl={refEl}\n        usePortal={usePortal}\n        portalClassName={usePortal ? portalClassName : undefined}\n        portalContainer={usePortal ? portalContainer : null}\n        scrollContainer={usePortal ? scrollContainer : null}\n      >\n        {state === 'loading' ? (\n          <LoadingOption />\n        ) : (\n          <>\n            <ul\n              role=\"listbox\"\n              aria-live=\"polite\"\n              aria-relevant=\"additions removals\"\n              aria-expanded={open}\n              ref={ref}\n              className={cx(\n                searchResultsListStyles,\n                css`\n                  max-height: ${maxHeightValue};\n                `,\n              )}\n              {...rest}\n            >\n              {React.Children.count(children) ? children : <EmptyOption />}\n            </ul>\n            {footerSlot}\n          </>\n        )}\n      </Popover>\n    );\n  },\n);\n\nSearchResultsMenu.displayName = 'SearchResultsMenu';\n","import React from 'react';\n\nimport { cx } from '@leafygreen-ui/emotion';\nimport { InputOption } from '@leafygreen-ui/input-option';\nimport { useDarkMode } from '@leafygreen-ui/leafygreen-provider';\n\nimport {\n  emptyOptionStyles,\n  emptyOptionThemeStyles,\n} from './EmptyOption.styles';\n\nexport const EmptyOption = () => {\n  const { theme } = useDarkMode();\n\n  return (\n    <InputOption\n      aria-label=\"No results found\"\n      isInteractive={false}\n      className={cx(emptyOptionStyles, emptyOptionThemeStyles[theme])}\n    >\n      <span>No results found</span>\n    </InputOption>\n  );\n};\n","import React from 'react';\n\nimport RefreshIcon from '@leafygreen-ui/icon/dist/Refresh';\nimport { InputOption } from '@leafygreen-ui/input-option';\nimport { useDarkMode } from '@leafygreen-ui/leafygreen-provider';\nimport { palette } from '@leafygreen-ui/palette';\n\nimport { loadingOptionIcon, loadingOptionStyles } from './LoadingOption.styles';\n\nexport const LoadingOption = () => {\n  const { darkMode } = useDarkMode();\n\n  return (\n    <InputOption\n      data-testid=\"lg-search-input-loading-option\"\n      aria-label=\"Loading results\"\n      isInteractive={false}\n      className={loadingOptionStyles}\n    >\n      <RefreshIcon\n        color={darkMode ? palette.blue.light1 : palette.blue.base}\n        className={loadingOptionIcon}\n      />\n      <span>Loading results</span>\n    </InputOption>\n  );\n};\n","import {\n  ChangeEventHandler,\n  ComponentPropsWithoutRef,\n  FormEventHandler,\n} from 'react';\n\nimport { AriaLabelProps } from '@leafygreen-ui/a11y';\nimport { DarkModeProps } from '@leafygreen-ui/lib';\n\nexport const State = {\n  Unset: 'unset',\n  Loading: 'loading',\n} as const;\n\nexport type State = (typeof State)[keyof typeof State];\n\nexport const Size = {\n  Small: 'small',\n  Default: 'default',\n  Large: 'large',\n} as const;\n\nexport type Size = (typeof Size)[keyof typeof Size];\n\ninterface BaseSearchInputProps\n  extends DarkModeProps,\n    Omit<ComponentPropsWithoutRef<'form'>, 'onChange'> {\n  /**\n   * The current state of the SearchInput. This can be none, or loading.\n   */\n  state?: State;\n\n  /**\n   * Determines the font size, padding and spacing.\n   */\n  size?: Size;\n\n  /**\n   * Determines whether the field is currently disabled.\n   * Default: false\n   */\n  disabled?: boolean;\n\n  /**\n   * The current value of the text box\n   */\n  value?: string;\n\n  /**\n   * Callback fired when the input value changes.\n   * Use this callback to filter the `SearchResult` options\n   */\n  onChange?: ChangeEventHandler<HTMLInputElement>;\n\n  /**\n   * Callback fired when a search result is clicked,\n   * or the enter key is pressed.\n   */\n  onSubmit?: FormEventHandler<HTMLFormElement>;\n\n  /**\n   * The placeholder text shown in the input field before the user begins typing.\n   */\n  placeholder?: string;\n}\n\nexport type SearchInputProps = BaseSearchInputProps & AriaLabelProps;\n","import { css } from '@leafygreen-ui/emotion';\nimport { Theme } from '@leafygreen-ui/lib';\nimport { palette } from '@leafygreen-ui/palette';\nimport {\n  focusRing,\n  fontFamilies,\n  fontWeights,\n  hoverRing,\n  transitionDuration,\n  typeScales,\n} from '@leafygreen-ui/tokens';\n\nimport { Size } from './SearchInput.types';\n\n/**\n * Adds an inset box shadow to hide the UA background styles for autofilled inputs\n */\nconst autofillShadowOverride = (color: string) => `0 0 0 100px ${color} inset`;\n\nexport const formStyle = css`\n  outline: none;\n`;\n\nexport const inputWrapperStyle = css`\n  position: relative;\n  display: grid;\n  grid-auto-flow: column;\n  align-items: center;\n  justify-items: center;\n  border: 1px solid;\n  border-radius: 6px;\n  z-index: 0;\n  transition: ${transitionDuration.default}ms ease-in-out;\n  transition-property: border-color, box-shadow;\n`;\n\nexport const inputWrapperSizeStyle: Record<Size, string> = {\n  [Size.Small]: css`\n    font-size: ${typeScales.body1.fontSize}px;\n    line-height: ${typeScales.body1.lineHeight}px;\n    height: 28px;\n    grid-template-columns: 28px 1fr;\n    grid-auto-columns: 28px;\n  `,\n  [Size.Default]: css`\n    font-size: ${typeScales.body1.fontSize}px;\n    line-height: ${typeScales.body1.lineHeight}px;\n    height: 36px;\n    grid-template-columns: 36px 1fr;\n    grid-auto-columns: 36px;\n  `,\n  [Size.Large]: css`\n    font-size: 18px;\n    line-height: 32px;\n    height: 48px;\n    grid-template-columns: 48px 1fr;\n    grid-auto-columns: 48px;\n  `,\n};\n\nexport const inputWrapperThemeStyle: Record<Theme, string> = {\n  [Theme.Light]: css`\n    color: ${palette.black};\n    background: ${palette.white};\n    border-color: ${palette.gray.base};\n  `,\n  [Theme.Dark]: css`\n    color: ${palette.gray.light2};\n    background-color: ${palette.gray.dark4};\n    border-color: ${palette.gray.base};\n  `,\n};\n\nexport const inputWrapperInteractiveStyles: Record<Theme, string> = {\n  [Theme.Light]: css`\n    &:hover,\n    &:active {\n      &:not(:disabled):not(:focus-within) {\n        box-shadow: ${hoverRing.light.gray};\n      }\n    }\n  `,\n  [Theme.Dark]: css`\n    &:hover,\n    &:active {\n      &:not(:disabled):not(:focus-within) {\n        box-shadow: ${hoverRing.dark.gray};\n      }\n    }\n  `,\n};\n\nexport const inputWrapperFocusStyles: Record<Theme, string> = {\n  [Theme.Light]: css`\n    &:not(:disabled):focus-within {\n      box-shadow: ${focusRing.light.input};\n      border-color: ${palette.white};\n    }\n  `,\n  [Theme.Dark]: css`\n    &:not(:disabled):focus-within {\n      box-shadow: ${focusRing.dark.input};\n      border-color: ${palette.gray.dark4};\n    }\n  `,\n};\n\nexport const inputWrapperDisabledStyle: Record<Theme, string> = {\n  [Theme.Light]: css`\n    cursor: not-allowed;\n    color: ${palette.gray.base};\n    background-color: ${palette.gray.light2};\n    border-color: ${palette.gray.light1};\n  `,\n  [Theme.Dark]: css`\n    cursor: not-allowed;\n    color: ${palette.gray.dark2};\n    background-color: ${palette.gray.dark3};\n    border-color: ${palette.gray.dark2};\n  `,\n};\n\nexport const baseInputStyle = css`\n  font-size: inherit;\n  line-height: inherit;\n  color: inherit;\n  background-color: inherit;\n  font-family: ${fontFamilies.default};\n  width: 100%;\n  height: 1.5em;\n  font-weight: ${fontWeights.regular};\n  z-index: 1;\n  outline: none;\n  border: none;\n  padding: 0;\n\n  &[aria-disabled='true'] {\n    cursor: not-allowed;\n\n    &:hover,\n    &:active {\n      box-shadow: none;\n    }\n  }\n\n  &::placeholder {\n    font-size: inherit;\n    line-height: inherit;\n  }\n  &::-ms-clear,\n  &::-ms-reveal {\n    display: none;\n    width: 0;\n    height: 0;\n  }\n  &::-webkit-search-decoration,\n  &::-webkit-search-cancel-button,\n  &::-webkit-search-results-button,\n  &::-webkit-search-results-decoration {\n    display: none;\n  }\n`;\n\nexport const inputThemeStyle: Record<Theme, string> = {\n  [Theme.Light]: css`\n    &:-webkit-autofill {\n      color: inherit;\n      background: transparent;\n      border: none;\n      -webkit-text-fill-color: inherit;\n\n      &[aria-disabled='false'] {\n        box-shadow: ${autofillShadowOverride(palette.white)};\n\n        &:focus {\n          box-shadow: ${autofillShadowOverride(palette.white)},\n            ${focusRing.light.input};\n        }\n\n        &:hover:not(:focus) {\n          box-shadow: ${autofillShadowOverride(palette.white)},\n            ${hoverRing.light.gray};\n        }\n      }\n    }\n\n    &::placeholder {\n      color: ${palette.gray.base};\n      font-weight: ${fontWeights.regular};\n    }\n\n    &[aria-disabled='true'] {\n      &::placeholder {\n        color: ${palette.gray.base};\n      }\n\n      &:-webkit-autofill {\n        &,\n        &:hover,\n        &:focus {\n          appearance: none;\n          border: 1px solid ${palette.gray.base};\n          -webkit-text-fill-color: ${palette.gray.base};\n          box-shadow: ${autofillShadowOverride(palette.gray.light2)};\n        }\n      }\n    }\n  `,\n  [Theme.Dark]: css`\n    &:-webkit-autofill {\n      color: inherit;\n      background: transparent;\n      border: none;\n      -webkit-text-fill-color: ${palette.gray.light3};\n      &[aria-disabled='false'] {\n        box-shadow: ${autofillShadowOverride(palette.gray.dark4)};\n\n        &:focus {\n          box-shadow: ${autofillShadowOverride(palette.gray.dark4)},\n            ${focusRing.dark.input};\n          border-color: ${palette.blue.light1};\n        }\n\n        &:hover:not(:focus) {\n          box-shadow: ${autofillShadowOverride(palette.gray.dark4)},\n            ${hoverRing.dark.gray};\n        }\n      }\n    }\n\n    &::placeholder {\n      color: ${palette.gray.base};\n      font-weight: ${fontWeights.regular};\n    }\n\n    &[aria-disabled='true'] {\n      &::placeholder {\n        color: ${palette.gray.dark1};\n      }\n\n      &:-webkit-autofill {\n        &,\n        &:hover,\n        &:focus {\n          appearance: none;\n          border: 1px solid ${palette.gray.dark1};\n          -webkit-text-fill-color: ${palette.gray.dark1};\n          box-shadow: ${autofillShadowOverride(palette.gray.dark2)};\n        }\n      }\n    }\n  `,\n};\n\nexport const searchIconThemeStyle: Record<Theme, string> = {\n  [Theme.Light]: css`\n    color: ${palette.gray.dark1};\n  `,\n  [Theme.Dark]: css`\n    color: ${palette.gray.light1};\n  `,\n};\n\nexport const searchIconSizeStyle: Record<Size, string> = {\n  [Size.Small]: css`\n    left: 10px;\n  `,\n  [Size.Default]: css`\n    left: 12px;\n  `,\n  [Size.Large]: css`\n    left: 16px;\n  `,\n};\n\nexport const searchIconDisabledStyle: Record<Theme, string> = {\n  [Theme.Light]: css`\n    color: ${palette.gray.base};\n  `,\n  [Theme.Dark]: css`\n    color: ${palette.gray.dark1};\n  `,\n};\n\nexport const clearButtonStyle = css``;\nexport const clearButtonSizeStyle: Record<Size, string> = {\n  [Size.Small]: css`\n    height: 26px;\n    width: 26px;\n  `,\n  [Size.Default]: css`\n    height: 28px;\n    width: 28px;\n  `,\n  [Size.Large]: css`\n    height: 28px;\n    width: 28px;\n  `,\n};\n","import { css } from '@leafygreen-ui/emotion';\nimport { createUniqueClassName, Theme } from '@leafygreen-ui/lib';\nimport { palette } from '@leafygreen-ui/palette';\nimport {\n  fontFamilies,\n  fontWeights,\n  spacing,\n  typeScales,\n} from '@leafygreen-ui/tokens';\n\nexport const titleClassName = createUniqueClassName('search-result-title');\nexport const descriptionClassName = createUniqueClassName(\n  'search-result-description',\n);\n\nexport const searchResultStyles = css`\n  display: block;\n  font-family: ${fontFamilies.default};\n  font-size: ${typeScales.body1.fontSize}px;\n  line-height: ${spacing[3]}px;\n  padding: ${spacing[1]}px ${spacing[3]}px;\n\n  & .${titleClassName} {\n    font-weight: ${fontWeights.bold};\n  }\n`;\n\nexport const searchResultThemeStyles: Record<Theme, string> = {\n  [Theme.Light]: css`\n    & .${titleClassName} {\n      color: ${palette.black};\n    }\n    & .${descriptionClassName} {\n      color: ${palette.gray.dark1};\n    }\n  `,\n  [Theme.Dark]: css`\n    & .${titleClassName} {\n      color: ${palette.gray.light2};\n    }\n    & .${descriptionClassName} {\n      color: ${palette.gray.light1};\n    }\n  `,\n};\n\nexport const searchResultDisabledStyle: Record<Theme, string> = {\n  [Theme.Light]: css`\n    & .${titleClassName} {\n      color: ${palette.gray.light1};\n    }\n    & .${descriptionClassName} {\n      color: ${palette.gray.light1};\n    }\n  `,\n  [Theme.Dark]: css`\n    & .${titleClassName} {\n      color: ${palette.gray.dark1};\n    }\n    & .${descriptionClassName} {\n      color: ${palette.gray.dark1};\n    }\n  `,\n};\n\nexport const descriptionStyle = css`\n  max-height: ${spacing[3] * 3}px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n`;\n","import React, {\n  ChangeEventHandler,\n  EventHandler,\n  FocusEventHandler,\n  FormEventHandler,\n  KeyboardEventHandler,\n  MouseEventHandler,\n  SyntheticEvent,\n  useCallback,\n  useMemo,\n  useRef,\n  useState,\n} from 'react';\nimport isUndefined from 'lodash/isUndefined';\n\nimport { cx } from '@leafygreen-ui/emotion';\nimport {\n  useAutoScroll,\n  useBackdropClick,\n  useControlledValue,\n  useDynamicRefs,\n  useForwardedRef,\n} from '@leafygreen-ui/hooks';\nimport MagnifyingGlass from '@leafygreen-ui/icon/dist/MagnifyingGlass';\nimport XIcon from '@leafygreen-ui/icon/dist/XWithCircle';\nimport IconButton from '@leafygreen-ui/icon-button';\nimport LeafyGreenProvider, {\n  useDarkMode,\n} from '@leafygreen-ui/leafygreen-provider';\nimport {\n  createSyntheticEvent,\n  getNodeTextContent,\n  isComponentType,\n  keyMap,\n} from '@leafygreen-ui/lib';\n\nimport { SearchInputContextProvider } from '../SearchInputContext';\nimport { SearchResultProps } from '../SearchResult';\nimport { SearchResultGroupProps } from '../SearchResultGroup';\nimport { SearchResultsMenu } from '../SearchResultsMenu';\n\nimport {\n  baseInputStyle,\n  clearButtonSizeStyle,\n  formStyle,\n  inputThemeStyle,\n  inputWrapperDisabledStyle,\n  inputWrapperFocusStyles,\n  inputWrapperInteractiveStyles,\n  inputWrapperSizeStyle,\n  inputWrapperStyle,\n  inputWrapperThemeStyle,\n  searchIconDisabledStyle,\n  searchIconSizeStyle,\n  searchIconThemeStyle,\n} from './SearchInput.styles';\nimport { SearchInputProps, Size, State } from './SearchInput.types';\n\n/**\n * # SearchInput\n *\n * SearchInput component\n *\n * @param props.state The current state of the SearchInput. This can be none, or loading.\n * @param props.darkMode determines whether or not the component appears in dark theme.\n * @param props.size determines the size of the text and the height of the input.\n */\n\nexport const SearchInput = React.forwardRef<HTMLInputElement, SearchInputProps>(\n  function SearchInput(\n    {\n      placeholder = 'Search',\n      className,\n      darkMode: darkModeProp,\n      size = Size.Default,\n      disabled,\n      children,\n      state = State.Unset,\n      value: valueProp,\n      onChange: onChangeProp,\n      onSubmit: onSubmitProp,\n      'aria-label': ariaLabel,\n      'aria-labelledby': ariaLabelledBy,\n      ...rest\n    }: SearchInputProps,\n    forwardRef: React.Ref<HTMLInputElement>,\n  ) {\n    const { theme, darkMode } = useDarkMode(darkModeProp);\n    const [isOpen, setOpen] = useState(false);\n    // The index of the currently highlighted result option\n    const [highlightIndex, setHighlightIndex] = useState<number>(0);\n\n    const closeMenu = () => setOpen(false);\n    const openMenu = () => setOpen(true);\n\n    const formRef = useRef<HTMLFormElement>(null);\n    const searchBoxRef = useRef<HTMLDivElement>(null);\n    const menuRef = useRef<HTMLUListElement>(null);\n    const inputRef = useForwardedRef(forwardRef, null);\n    const clearButtonRef = useRef<HTMLButtonElement>(null);\n    const resultRefs = useDynamicRefs<HTMLElement>({ prefix: 'result' });\n    const [focusedElement, trackFocusedElement] = useState<Element>();\n    const highlightedElementRef = resultRefs(`${highlightIndex}`);\n\n    const withTypeAhead = !isUndefined(children);\n\n    const { value, handleChange } = useControlledValue(valueProp, onChangeProp);\n\n    /** Fires a change event to update the input value */\n    const changeInputValue = useCallback(\n      (newVal: string) => {\n        if (inputRef.current) {\n          /**\n           * Change the element's value\n           * and then trigger the change event handler with a new synthetic event.\n           * This makes sure that programmatically changing the value affects\n           * both controlled & uncontrolled components\n           */\n          inputRef.current.value = newVal;\n          handleChange(\n            createSyntheticEvent(\n              new Event('change', {\n                cancelable: true,\n                bubbles: true,\n              }),\n              inputRef.current,\n            ),\n          );\n        }\n      },\n      [handleChange, inputRef],\n    );\n\n    /**\n     * Helper function that both counts the number of `SearchResult` descendants\n     * and adds the appropriate props to said children\n     */\n    const processChildren = useCallback(() => {\n      // Count results (not just children, since groups are still children)\n      let resultsCount = 0;\n\n      const processChild = (\n        child: React.ReactNode,\n      ): JSX.Element | undefined => {\n        if (isComponentType(child, 'SearchResult')) {\n          resultsCount += 1;\n          const index = resultsCount - 1;\n\n          const textValue = getNodeTextContent(child);\n\n          const onElementClick: MouseEventHandler = e => {\n            child.props.onClick?.(e); // call the child's onClick handler\n\n            // Update the input value so the submit event has a target.value\n            changeInputValue(textValue);\n\n            const wasClickedWithMouse = e.detail >= 1;\n\n            if (wasClickedWithMouse && formRef.current && inputRef.current) {\n              /**\n               * Selecting an option should fire a a `submit` event,\n               * so users can provide a single `onSubmit` handler\n               * instead of providing individual `onClick` handlers for each result.\n               *\n               * We only fire a new `submit` event if the element was clicked with the mouse,\n               * since the `Enter` key also fires the `submit` event\n               */\n              const submitEvent = new Event('submit', {\n                cancelable: true,\n                bubbles: true,\n              });\n              formRef.current?.dispatchEvent(submitEvent);\n            }\n          };\n\n          return React.cloneElement(child, {\n            ...child.props,\n            id: `result-${index}`,\n            key: `result-${index}`,\n            ref: child.props.ref ?? resultRefs?.(`${index}`),\n            highlighted: index === highlightIndex,\n            onClick: onElementClick,\n          } as SearchResultProps);\n        } else if (isComponentType(child, 'SearchResultGroup')) {\n          const nestedChildren = React.Children.map(\n            child.props.children,\n            processChild,\n          );\n\n          if (nestedChildren && nestedChildren.length > 0) {\n            return React.cloneElement(child, {\n              ...child.props,\n              children: nestedChildren,\n            } as SearchResultGroupProps);\n          }\n        }\n      };\n\n      const updatedChildren = React.Children.map(children, processChild);\n\n      return {\n        resultsCount,\n        updatedChildren,\n      };\n    }, [children, highlightIndex, inputRef, resultRefs, changeInputValue]);\n\n    const { updatedChildren, resultsCount } = useMemo(\n      () => processChildren(),\n      [processChildren],\n    );\n\n    type Direction = 'next' | 'prev' | 'first' | 'last';\n    const updateHighlight = (direction: Direction) => {\n      switch (direction) {\n        case 'first': {\n          setHighlightIndex(0);\n          break;\n        }\n\n        case 'last': {\n          setHighlightIndex(resultsCount);\n          break;\n        }\n\n        case 'next': {\n          const nextIndex =\n            !isUndefined(highlightIndex) && highlightIndex + 1 < resultsCount\n              ? highlightIndex + 1\n              : 0;\n          setHighlightIndex(nextIndex);\n          break;\n        }\n\n        case 'prev': {\n          const nextIndex =\n            !isUndefined(highlightIndex) && highlightIndex - 1 >= 0\n              ? highlightIndex - 1\n              : resultsCount - 1;\n          setHighlightIndex(nextIndex);\n        }\n      }\n    };\n\n    /** Event Handlers */\n\n    const handleInputChange: ChangeEventHandler<HTMLInputElement> = e => {\n      handleChange?.(e);\n    };\n\n    const handleOpenMenuAction: EventHandler<SyntheticEvent<any>> = e => {\n      if (disabled) {\n        e.preventDefault();\n        e.stopPropagation();\n      } else {\n        openMenu();\n      }\n    };\n\n    const handleSearchBoxMousedown: MouseEventHandler<HTMLDivElement> = e => {\n      if (disabled) {\n        // Prevent container from gaining focus by default\n        e.preventDefault();\n      }\n    };\n\n    const handleSearchBoxClick: MouseEventHandler<HTMLDivElement> = e => {\n      handleOpenMenuAction(e);\n    };\n\n    // Fired whenever the wrapper gains focus,\n    // and any time the focus within changes\n    const handleSearchBoxFocus: FocusEventHandler<HTMLDivElement> = e => {\n      const eventTarget = e.target as HTMLElement;\n      const target =\n        eventTarget === clearButtonRef.current // If the click was on the button\n          ? clearButtonRef.current // keep it there\n          : inputRef.current ?? eventTarget; // otherwise move the focus to the input\n      target.focus();\n      trackFocusedElement(target);\n    };\n\n    const handleClearButtonClick: MouseEventHandler<HTMLButtonElement> = e => {\n      // Don't open the menu if it was the clear button that was clicked.\n      e.stopPropagation();\n      changeInputValue('');\n      inputRef?.current?.focus();\n    };\n\n    const handleSearchBoxKeyDown: KeyboardEventHandler<HTMLDivElement> = e => {\n      const isFocusInMenu = menuRef.current?.contains(document.activeElement);\n      const isFocusOnSearchBox = searchBoxRef.current?.contains(\n        document.activeElement,\n      );\n\n      const isFocusInComponent = isFocusOnSearchBox || isFocusInMenu;\n\n      if (isFocusInComponent) {\n        switch (e.key) {\n          case keyMap.Enter: {\n            highlightedElementRef?.current?.click();\n            break;\n          }\n\n          case keyMap.Escape: {\n            closeMenu();\n            inputRef.current?.focus();\n            break;\n          }\n\n          case keyMap.ArrowDown: {\n            if (withTypeAhead) {\n              inputRef.current?.focus();\n              openMenu();\n              e.preventDefault(); // Stop page scroll\n              updateHighlight('next');\n            }\n            break;\n          }\n\n          case keyMap.ArrowUp: {\n            if (withTypeAhead) {\n              inputRef.current?.focus();\n              openMenu();\n              e.preventDefault(); // Stop page scroll\n              updateHighlight('prev');\n            }\n            break;\n          }\n\n          case keyMap.Tab: {\n            if (isOpen) {\n              closeMenu();\n            }\n            break;\n          }\n\n          default: {\n            if (withTypeAhead) {\n              openMenu();\n            }\n          }\n        }\n      }\n    };\n\n    const handleFormSubmit: FormEventHandler<HTMLFormElement> = e => {\n      e.preventDefault(); // prevent page reload\n\n      onSubmitProp?.(e);\n      if (withTypeAhead) {\n        closeMenu();\n        changeInputValue(''); // Clear the input\n      }\n    };\n\n    const handleBackdropClick = () => {\n      closeMenu();\n    };\n\n    useAutoScroll(highlightedElementRef, menuRef, 12);\n    useBackdropClick(\n      handleBackdropClick,\n      [searchBoxRef, menuRef],\n      isOpen && withTypeAhead,\n    );\n\n    return (\n      <LeafyGreenProvider darkMode={darkMode}>\n        <SearchInputContextProvider\n          state={state}\n          highlight={highlightIndex}\n          resultDynamicRefs={resultRefs}\n        >\n          <form\n            role=\"search\"\n            ref={formRef}\n            className={cx(formStyle, className)}\n            onSubmit={handleFormSubmit}\n            {...rest}\n          >\n            {/* Disable eslint: onClick sets focus. Key events would already have focus */}\n            {/* eslint-disable-next-line jsx-a11y/click-events-have-key-events, jsx-a11y/no-noninteractive-element-interactions */}\n            <div\n              ref={searchBoxRef}\n              role=\"searchbox\"\n              tabIndex={-1}\n              onMouseDown={handleSearchBoxMousedown}\n              onClick={handleSearchBoxClick}\n              onFocus={handleSearchBoxFocus}\n              onKeyDown={handleSearchBoxKeyDown}\n              className={cx(\n                inputWrapperStyle,\n                inputWrapperSizeStyle[size],\n                inputWrapperThemeStyle[theme],\n                {\n                  [inputWrapperFocusStyles[theme]]:\n                    focusedElement === inputRef.current,\n                  [inputWrapperDisabledStyle[theme]]: disabled,\n                  [inputWrapperInteractiveStyles[theme]]: !disabled,\n                },\n              )}\n              aria-label={ariaLabel}\n              aria-labelledby={ariaLabelledBy}\n            >\n              <MagnifyingGlass\n                className={cx(\n                  searchIconThemeStyle[theme],\n                  searchIconSizeStyle[size],\n                  { [searchIconDisabledStyle[theme]]: disabled },\n                )}\n                role=\"presentation\"\n              />\n              <input\n                type=\"search\"\n                className={cx(baseInputStyle, inputThemeStyle[theme])}\n                value={value}\n                onChange={handleInputChange}\n                placeholder={placeholder}\n                ref={inputRef}\n                readOnly={disabled}\n                aria-disabled={disabled}\n              />\n              {value && (\n                <IconButton\n                  ref={clearButtonRef}\n                  type=\"button\"\n                  aria-label=\"Clear search\"\n                  onClick={handleClearButtonClick}\n                  className={clearButtonSizeStyle[size]}\n                  tabIndex={disabled ? -1 : 0}\n                  disabled={disabled}\n                >\n                  <XIcon />\n                </IconButton>\n              )}\n            </div>\n            {withTypeAhead && (\n              <SearchResultsMenu\n                open={isOpen}\n                refEl={searchBoxRef}\n                ref={menuRef}\n              >\n                {updatedChildren}\n              </SearchResultsMenu>\n            )}\n          </form>\n        </SearchInputContextProvider>\n      </LeafyGreenProvider>\n    );\n  },\n);\n\nSearchInput.displayName = 'SearchInput';\n","import { css } from '@leafygreen-ui/emotion';\nimport { Theme } from '@leafygreen-ui/lib';\nimport { palette } from '@leafygreen-ui/palette';\n\nexport const searchResultLabelWrapperStyle = css`\n  padding-top: 12px;\n  padding-bottom: 0;\n`;\n\nexport const searchResultLabelStyle: Record<Theme, string> = {\n  [Theme.Light]: css`\n    color: ${palette.gray.dark1};\n  `,\n  [Theme.Dark]: css`\n    color: ${palette.gray.base};\n  `,\n};\n","import React from 'react';\n\nimport { cx } from '@leafygreen-ui/emotion';\nimport { InputOption } from '@leafygreen-ui/input-option';\nimport { useDarkMode } from '@leafygreen-ui/leafygreen-provider';\nimport { getNodeTextContent } from '@leafygreen-ui/lib';\nimport { InferredPolymorphic, PolymorphicAs } from '@leafygreen-ui/polymorphic';\n\nimport {\n  descriptionClassName,\n  descriptionStyle,\n  searchResultDisabledStyle,\n  searchResultStyles,\n  searchResultThemeStyles,\n  titleClassName,\n} from './SearchResult.styles';\nimport { SearchResultProps } from './SearchResult.types';\n\nexport const SearchResult = InferredPolymorphic<SearchResultProps, 'li'>(\n  (\n    {\n      as = 'li' as PolymorphicAs,\n      children,\n      description,\n      disabled,\n      className,\n      darkMode,\n      ...rest\n    },\n    ref,\n  ) => {\n    const { theme } = useDarkMode(darkMode);\n    const textContent = getNodeTextContent(children);\n    /**\n     * If `rest[aria-label]` exists, use that;\n     * if `rest['aria-labelledby']` exists, then we have no label;\n     * if neither exist we set the label to `textContent`\n     */\n    const ariaLabel =\n      rest['aria-label'] ?? (rest['aria-labelledby'] ? '' : textContent);\n\n    return (\n      <InputOption\n        {...rest}\n        as={as}\n        ref={ref}\n        className={cx(\n          searchResultStyles,\n          searchResultThemeStyles[theme],\n          {\n            [searchResultDisabledStyle[theme]]: disabled,\n          },\n          className,\n        )}\n        disabled={disabled}\n        aria-labelledby={rest['aria-labelledby']}\n        aria-label={ariaLabel}\n      >\n        <div className={titleClassName}>{children}</div>\n        {description && (\n          <div className={cx(descriptionClassName, descriptionStyle)}>\n            {description}\n          </div>\n        )}\n      </InputOption>\n    );\n  },\n  'SearchResult',\n);\n\nSearchResult.displayName = 'SearchResult';\n","import React from 'react';\n\nimport { InputOption } from '@leafygreen-ui/input-option';\nimport { useDarkMode } from '@leafygreen-ui/leafygreen-provider';\nimport { validateChildren } from '@leafygreen-ui/lib';\nimport { Overline } from '@leafygreen-ui/typography';\n\nimport {\n  searchResultLabelStyle,\n  searchResultLabelWrapperStyle,\n} from './SearchResultGroup.styles';\nimport { SearchResultGroupProps } from './SearchResultGroup.types';\n\nexport const SearchResultGroup = ({\n  children,\n  label,\n  ...rest\n}: SearchResultGroupProps) => {\n  const validatedChildren = validateChildren(children, [\n    'SearchResult',\n    'SearchResultGroup',\n  ]);\n\n  const { theme } = useDarkMode();\n\n  return (\n    <div>\n      <InputOption\n        aria-label={label}\n        isInteractive={false}\n        className={searchResultLabelWrapperStyle}\n        {...rest}\n      >\n        <Overline className={searchResultLabelStyle[theme]}>{label}</Overline>\n      </InputOption>\n      {validatedChildren}\n    </div>\n  );\n};\n\nSearchResultGroup.displayName = 'SearchResultGroup';\n"],"names":["_templateObject","_templateObject2","_templateObject3","_emptyOptionThemeStyl","_excluded","SearchInputContext","createContext","SearchInputContextProvider","_ref","children","props","_objectWithoutProperties","React","createElement","Provider","value","_searchResultsMenuThe","_templateObject4","emptyOptionStyles","css","_taggedTemplateLiteral","spacing","emptyOptionThemeStyles","_defineProperty","Theme","Light","palette","gray","dark1","Dark","light1","EmptyOption","theme","useDarkMode","default","InputOption","isInteractive","className","cx","loadingOptionStyles","loadingSpinner","keyframes","loadingOptionIcon","LoadingOption","darkMode","RefreshIcon","color","blue","base","searchResultsMenuStyles","transparentize","searchResultsMenuThemeStyles","white","light2","dark3","dark2","searchResultsListStyles","SearchResultsMenu","forwardRef","ref","_ref$open","open","refEl","usePortal","portalClassName","portalContainer","scrollContainer","footerSlot","rest","state","useContext","menuWidth","useMemo","_refEl$current$client","_refEl$current","current","clientWidth","availableSpace","useAvailableSpace","maxHeightValue","isUndefined","concat","Math","min","Popover","active","align","justify","undefined","Fragment","_extends","role","Children","count","displayName","_templateObject5","_inputWrapperSizeStyl","_templateObject6","_templateObject7","_inputWrapperThemeSty","_templateObject8","_templateObject9","_inputWrapperInteract","_templateObject10","_templateObject11","_inputWrapperFocusSty","_templateObject12","_templateObject13","_inputWrapperDisabled","_templateObject14","_templateObject15","_templateObject16","_inputThemeStyle","_templateObject17","_templateObject18","_searchIconThemeStyle","_templateObject19","_templateObject20","_templateObject21","_searchIconSizeStyle","_templateObject22","_templateObject23","_searchIconDisabledSt","_templateObject24","_templateObject25","_templateObject26","_templateObject27","_clearButtonSizeStyle","State","Unset","Loading","Size","Small","Default","Large","autofillShadowOverride","formStyle","inputWrapperStyle","transitionDuration","inputWrapperSizeStyle","typeScales","body1","fontSize","lineHeight","inputWrapperThemeStyle","black","dark4","inputWrapperInteractiveStyles","hoverRing","light","dark","inputWrapperFocusStyles","focusRing","input","inputWrapperDisabledStyle","baseInputStyle","fontFamilies","fontWeights","regular","inputThemeStyle","light3","searchIconThemeStyle","searchIconSizeStyle","searchIconDisabledStyle","_searchResultThemeSty","_searchResultDisabled","clearButtonSizeStyle","SearchInput","_cx","_ref$placeholder","placeholder","darkModeProp","_ref$size","size","disabled","_ref$state","valueProp","onChangeProp","onChange","onSubmitProp","onSubmit","ariaLabel","ariaLabelledBy","_useDarkMode","_useState2","_slicedToArray","useState","isOpen","setOpen","_useState4","highlightIndex","setHighlightIndex","closeMenu","openMenu","formRef","useRef","searchBoxRef","menuRef","inputRef","useForwardedRef","clearButtonRef","resultRefs","useDynamicRefs","prefix","_useState6","focusedElement","trackFocusedElement","highlightedElementRef","withTypeAhead","_useControlledValue","useControlledValue","handleChange","changeInputValue","useCallback","newVal","createSyntheticEvent","Event","cancelable","bubbles","processChildren","resultsCount","updatedChildren","map","processChild","child","isComponentType","_child$props$ref","index","textValue","getNodeTextContent","cloneElement","_objectSpread","id","key","highlighted","onClick","e","_child$props$onClick","_child$props","call","detail","_formRef$current","submitEvent","dispatchEvent","nestedChildren","length","_useMemo","updateHighlight","direction","nextIndex","_nextIndex","useAutoScroll","useBackdropClick","LeafyGreenProvider","highlight","resultDynamicRefs","preventDefault","tabIndex","onMouseDown","stopPropagation","handleOpenMenuAction","onFocus","_inputRef$current","eventTarget","target","focus","onKeyDown","_menuRef$current","_searchBoxRef$current","isFocusInMenu","contains","document","activeElement","keyMap","Enter","_highlightedElementRe","click","Escape","_inputRef$current3","ArrowDown","_inputRef$current4","ArrowUp","_inputRef$current5","Tab","MagnifyingGlass","type","readOnly","IconButton","_inputRef$current2","XIcon","_searchResultLabelSty","titleClassName","createUniqueClassName","descriptionClassName","searchResultStyles","bold","searchResultThemeStyles","searchResultDisabledStyle","descriptionStyle","SearchResult","InferredPolymorphic","_rest$ariaLabel","_ref$as","as","description","textContent","searchResultLabelWrapperStyle","searchResultLabelStyle","SearchResultGroup","label","validatedChildren","validateChildren","Overline"],"mappings":"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"}