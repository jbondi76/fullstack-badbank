!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react"),require("lodash/defaultsDeep"),require("react-transition-group"),require("@leafygreen-ui/emotion"),require("@leafygreen-ui/hooks"),require("@leafygreen-ui/leafygreen-provider"),require("@leafygreen-ui/lib"),require("@leafygreen-ui/portal"),require("@leafygreen-ui/tokens"),require("lodash/defaults"),require("prop-types"),require("@leafygreen-ui/icon/dist/X"),require("@leafygreen-ui/icon-button"),require("@leafygreen-ui/typography"),require("polished"),require("@leafygreen-ui/palette"),require("lodash/clamp"),require("@leafygreen-ui/icon/dist/CheckmarkWithCircle"),require("@leafygreen-ui/icon/dist/ImportantWithCircle"),require("@leafygreen-ui/icon/dist/InfoWithCircle"),require("@leafygreen-ui/icon/dist/Refresh"),require("@leafygreen-ui/icon/dist/Warning"),require("lodash/isUndefined"),require("lodash/debounce"),require("lodash/isEqual")):"function"==typeof define&&define.amd?define(["exports","react","lodash/defaultsDeep","react-transition-group","@leafygreen-ui/emotion","@leafygreen-ui/hooks","@leafygreen-ui/leafygreen-provider","@leafygreen-ui/lib","@leafygreen-ui/portal","@leafygreen-ui/tokens","lodash/defaults","prop-types","@leafygreen-ui/icon/dist/X","@leafygreen-ui/icon-button","@leafygreen-ui/typography","polished","@leafygreen-ui/palette","lodash/clamp","@leafygreen-ui/icon/dist/CheckmarkWithCircle","@leafygreen-ui/icon/dist/ImportantWithCircle","@leafygreen-ui/icon/dist/InfoWithCircle","@leafygreen-ui/icon/dist/Refresh","@leafygreen-ui/icon/dist/Warning","lodash/isUndefined","lodash/debounce","lodash/isEqual"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self)["@leafygreen-ui/toast"]={},e.React,e["/defaultsDeep"],e["react-transition-group"],e["@leafygreen-ui/emotion"],e["@leafygreen-ui/hooks"],e["@leafygreen-ui/leafygreen-provider"],e["@leafygreen-ui/lib"],e["@leafygreen-ui/portal"],e["@leafygreen-ui/tokens"],e["/defaults"],e.PropTypes,e.X,e["@leafygreen-ui/icon-button"],e["@leafygreen-ui/typography"],e.polished,e["@leafygreen-ui/palette"],e["/clamp"],e.CheckmarkWithCircle,e.ImportantWithCircle,e.InfoWithCircle,e.Refresh,e.Warning,e["/isUndefined"],e["/debounce"],e["/isEqual"])}(this,(function(e,t,n,r,a,o,i,s,l,c,u,d,f,p,h,g,m,y,b,v,x,k,T,w,C,E){"use strict";function O(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var S=O(t),D=O(n),j=O(i),N=O(l),P=O(u),q=O(d),M=O(f),H=O(p),I=O(y),z=O(b),L=O(v),W=O(x),R=O(k),A=O(T),U=O(w),F=O(C),B=O(E);function Y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function X(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(n),!0).forEach((function(t){_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function V(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:t+""}function _(e,t,n){return(t=V(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function G(){return G=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},G.apply(this,arguments)}function K(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function $(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function J(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}(e,t)||Z(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Q(e){return function(e){if(Array.isArray(e))return ee(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Z(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Z(e,t){if(e){if("string"==typeof e)return ee(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ee(e,t):void 0}}function ee(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var te,ne,re,ae,oe,ie,se,le,ce,ue,de,fe,pe,he,ge,me,ye,be,ve,xe,ke,Te,we,Ce,Ee,Oe,Se,De,je,Ne,Pe,qe,Me,He,Ie={Success:"success",Note:"note",Warning:"warning",Important:"important",Progress:"progress"},ze={variant:Ie.Note,progress:1,timeout:6e3,dismissible:!0},Le=400,We=56,Re=4,Ae=24,Ue=4,Fe=8,Be=100,Ye=4,Xe=3,Ve=_(_({},s.Theme.Light,m.palette.black),s.Theme.Dark,m.palette.gray.light2),_e=a.css(te||(te=$(["\n  position: fixed;\n  left: ","px;\n  bottom: ","px;\n  width: calc(100vw - ","px);\n  max-width: ","px;\n  min-height: ","px; // -2 for border: ;\n\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: ","px; // -1 for border\n  padding-left: ","px;\n  gap: ","px;\n\n  font-family: ",";\n  font-size: ","px;\n  line-height: ","px;\n  border-radius: 12px;\n  border: 1px solid;\n  box-shadow: 0px 18px 18px -15px ",";\n\n  overflow: hidden;\n  transform-origin: bottom center;\n  transition: all ","ms ease-in-out;\n\n  .",", a {\n    font-size: inherit;\n    line-height: inherit;\n    font-weight: ",";\n    text-decoration: underline;\n    text-underline-offset: 3px;\n    text-decoration-thickness: 2px;\n    border-radius: 4px;\n\n    &:hover,\n    &:focus,\n    &:focus-visible {\n      outline: none;\n      span {\n        &::after {\n          display: none;\n        }\n      }\n    }\n    &:focus-visible {\n      position: relative;\n    }\n  }\n"])),Ue,Ue,2*Ue,Le,We-2,c.spacing[2]-1,c.spacing[3],c.spacing[3],c.fontFamilies.default,c.typeScales.body1.fontSize,c.typeScales.body1.lineHeight,g.transparentize(.8,"#06161E"),c.transitionDuration.default,h.anchorClassName,c.fontWeights.bold),Ge=_(_({},s.Theme.Light,a.css(ne||(ne=$(["\n    background-color: ",";\n    border-color: ",";\n\n    .",", a {\n      color: ",";\n\n      &:hover,\n      &:focus-visible {\n        color: ",";\n      }\n    }\n  "])),Ve[s.Theme.Light],m.palette.gray.dark2,h.anchorClassName,m.palette.gray.light3,m.palette.gray.light2)),s.Theme.Dark,a.css(re||(re=$(["\n    background-color: ",";\n    border-color: ",";\n\n    .",", a {\n      color: ",";\n\n      &:hover,\n      &:focus-visible {\n        color: ",";\n      }\n    }\n  "])),Ve[s.Theme.Dark],m.palette.gray.light1,h.anchorClassName,m.palette.gray.dark3,m.palette.gray.dark2)),Ke=a.css(ae||(ae=$(["\n  display: flex;\n  align-items: center;\n  gap: ","px;\n  width: 100%;\n  opacity: 0;\n  transition: opacity ease-out ","ms;\n"])),c.spacing[3],c.transitionDuration.default),$e=a.css(oe||(oe=$(["\n  opacity: 1;\n"]))),Je=a.css(ie||(ie=$(["\n  height: 24px;\n  width: 24px;\n  flex-shrink: 0;\n"]))),Qe=a.css(se||(se=$(["\n  width: 100%;\n  overflow: hidden;\n  text-overflow: ellipsis;\n"]))),Ze=a.css(le||(le=$(["\n  font-weight: ",";\n  overflow: hidden;\n"])),c.fontWeights.bold),et=_(_({},s.Theme.Light,a.css(ce||(ce=$(["\n    color: ",";\n  "])),m.palette.white)),s.Theme.Dark,a.css(ue||(ue=$(["\n    color: ",";\n  "])),m.palette.black)),tt=a.css(de||(de=$(["\n  overflow: hidden;\n"]))),nt=_(_({},s.Theme.Light,a.css(fe||(fe=$(["\n    color: ",";\n  "])),m.palette.gray.light2)),s.Theme.Dark,a.css(pe||(pe=$(["\n    color: ",";\n  "])),m.palette.gray.dark2)),rt=a.css(he||(he=$(["\n  width: ","px;\n  height: ","px;\n  // Counteract the margin added by hover state\n  margin: -","px;\n  align-self: flex-start;\n  transition: color ","ms ease-in-out;\n\n  &:focus-visible {\n    outline: none;\n  }\n"])),c.spacing[3]+c.spacing[2],c.spacing[3]+c.spacing[2],c.spacing[1],c.transitionDuration.default),at=_(_({},s.Theme.Light,a.css(ge||(ge=$(["\n    color: ",";\n  "])),m.palette.gray.base)),s.Theme.Dark,a.css(me||(me=$(["\n    color: ",";\n\n    &:hover,\n    &:focus-visible {\n      &::before {\n        background-color: ",";\n      }\n    }\n  "])),m.palette.gray.dark2,m.palette.gray.light1)),ot=_(_(_(_(_({},Ie.Success,_(_({},s.Theme.Light,a.css(ye||(ye=$(["\n      color: ",";\n    "])),m.palette.green.base)),s.Theme.Dark,a.css(be||(be=$(["\n      color: ",";\n    "])),m.palette.green.dark1))),Ie.Note,_(_({},s.Theme.Light,a.css(ve||(ve=$(["\n      color: ",";\n    "])),m.palette.blue.light1)),s.Theme.Dark,a.css(xe||(xe=$(["\n      color: ",";\n    "])),m.palette.blue.base))),Ie.Warning,_(_({},s.Theme.Light,a.css(ke||(ke=$(["\n      color: ",";\n    "])),m.palette.red.light1)),s.Theme.Dark,a.css(Te||(Te=$(["\n      color: ",";\n    "])),m.palette.red.base))),Ie.Important,_(_({},s.Theme.Light,a.css(we||(we=$(["\n      color: ",";\n    "])),m.palette.yellow.base)),s.Theme.Dark,a.css(Ce||(Ce=$(["\n      color: ",";\n    "])),m.palette.yellow.dark2))),Ie.Progress,_(_({},s.Theme.Light,a.css(Ee||(Ee=$(["\n      color: ",";\n    "])),m.palette.gray.light2)),s.Theme.Dark,a.css(Oe||(Oe=$(["\n      color: ",";\n    "])),m.palette.gray.dark2))),it=a.css(Se||(Se=$(["\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  height: ","px;\n  background-color: ",";\n"])),Re,m.palette.gray.light2),st=_(_({},s.Theme.Dark,a.css(De||(De=$(["\n    background-color: ",";\n  "])),m.palette.gray.light1)),s.Theme.Light,a.css(je||(je=$(["\n    background-color: ",";\n  "])),m.palette.gray.dark2)),lt=a.keyframes(Ne||(Ne=$(["\n  0% {\n    background-position: ","px;\n  }\n\n  100% {\n    background-position: ","px;\n  }\n"])),-Le,2*Le),ct=a.css(Pe||(Pe=$(["\n  overflow: hidden;\n  height: ","px;\n  background-size: ","px;\n  animation: "," 4s infinite linear;\n  transition: width ","ms ease-in-out;\n"])),Re,2*Le,lt,c.transitionDuration.slower),ut=_(_({},s.Theme.Light,a.css(qe||(qe=$(["\n    background-color: #083c90;\n    background-image: linear-gradient(\n      90deg,\n      #083c90 0px,\n      #c3e7fe ","px,\n      #083c90 ","px\n    );\n  "])),Le/2,Le)),s.Theme.Dark,a.css(Me||(Me=$(["\n    background-color: #0498ec;\n    background-image: linear-gradient(\n      90deg,\n      #0498ec 0px,\n      #c3e7fe ","px,\n      #0498ec ","px\n    );\n  "])),Le/2,Le));function dt(e){var t=e.progress,n=e.theme,r=100*I.default(t,0,1);return S.default.createElement("div",{className:a.cx(it,st[n]),role:"progressbar","aria-valuenow":r,"aria-valuemin":0,"aria-valuemax":100},S.default.createElement("div",{className:a.cx(ct,ut[n],a.css(He||(He=$(["\n            width: ","%;\n          "])),r))}))}dt.displayName="ToastProgressBar",dt.propTypes={progress:q.default.number};var ft,pt,ht,gt,mt,yt,bt,vt=_(_(_(_(_({},Ie.Success,z.default),Ie.Note,W.default),Ie.Warning,A.default),Ie.Important,L.default),Ie.Progress,R.default),xt=["id","title","description","className","onClose","actionElement","index","isHovered","isControlled","variant","progress","dismissible","darkMode"],kt=S.default.forwardRef((function(e,t){var n=e.id,r=e.title,o=e.description,s=e.className,l=e.onClose,c=e.actionElement,u=e.index,d=void 0===u?0:u,f=e.isHovered;e.isControlled;var p=e.variant,g=e.progress,m=e.dismissible,y=e.darkMode,b=K(e,xt),v=P.default({variant:p,progress:g,dismissible:m},ze),x=v.variant,k=v.progress,T=v.dismissible;T||b.timeout||console.warn("Toast ".concat(n," may never close. Toast must be `dismissible` or have a `timeout` value."));var w=i.useDarkMode(y),C=w.theme,E=w.darkMode,O=0===d||f,D=vt[x],N=ot[x];return S.default.createElement(j.default,{darkMode:!E},S.default.createElement("div",G({id:n,ref:t,className:a.cx(_e,Ge[C],s),"aria-atomic":"true","data-testid":"lg-toast"},b),S.default.createElement("div",{"data-testid":"lg-toast-content","aria-hidden":!O,className:a.cx(Ke,_({},$e,O))},S.default.createElement(D,{"aria-hidden":!0,className:a.cx(Je,N[C]),size:32}),S.default.createElement("div",{className:Qe},S.default.createElement(h.Body,{"data-testid":"toast-title",className:a.cx(Ze,et[C])},r),o&&S.default.createElement(h.Body,{className:a.cx(tt,nt[C])},o)),x===Ie.Progress&&c),T&&S.default.createElement(H.default,{className:a.cx(rt,at[C]),"aria-label":"Close Message",onClick:l,darkMode:!E,"data-testid":"lg-toast-dismiss-button"},S.default.createElement(M.default,{"aria-hidden":!0,role:"presentation"})),x===Ie.Progress&&O&&S.default.createElement(dt,{theme:C,progress:k})))}));kt.displayName="InternalToast",kt.propTypes={title:q.default.oneOfType([q.default.element,q.default.string]).isRequired,description:q.default.oneOfType([q.default.element,q.default.string]),variant:q.default.oneOf(Object.values(Ie)),progress:q.default.number,onClose:q.default.func,dismissible:q.default.bool};var Tt,wt,Ct,Et,Ot,St,Dt,jt,Nt,Pt,qt,Mt,Ht,It,zt,Lt=a.css(ft||(ft=$(["\n  border: unset;\n  outline: unset;\n\n  position: absolute;\n  left: ","px;\n  bottom: ","px;\n  width: ","px;\n  height: ","px;\n  z-index: 0;\n\n  font-family: ",";\n  font-size: ","px;\n  line-height: ","px;\n  border-radius: ","px;\n  cursor: pointer;\n\n  opacity: 0;\n  transform: translate3d(0, ","px, -400px);\n  transition: ","ms ease-in-out;\n  transition-property: background-color, opacity, transform;\n"])),Ue,Ue,Le,Ae,c.fontFamilies.default,c.typeScales.body1.fontSize,c.typeScales.body1.lineHeight,c.spacing[2],Fe,c.transitionDuration.slower),Wt=_(_({},s.Theme.Light,a.css(pt||(pt=$(["\n    background-color: ",";\n    color: ",";\n\n    &:hover {\n      background-color: ",";\n    }\n  "])),m.palette.gray.dark2,m.palette.white,m.palette.gray.dark3)),s.Theme.Dark,a.css(ht||(ht=$(["\n    background-color: ",";\n    color: ",";\n\n    &:hover {\n      background-color: ",";\n    }\n  "])),m.palette.gray.light1,m.palette.black,m.palette.gray.light2)),Rt={entered:a.css(gt||(gt=$(["\n    transform: translate3d(0, 0, 0);\n    opacity: 1;\n  "]))),entering:a.css(mt||(mt=$(["\n    transform: translate3d(0, 0, 0);\n    opacity: 1;\n  "]))),exited:a.css(yt||(yt=$(["\n    transform: translate3d(\n      0,\n      ","px,\n      -","px\n    );\n    opacity: 0;\n  "])),Xe*Fe,(Xe+1)*Be),exiting:a.css(bt||(bt=$(["\n    transform: translate3d(\n      0,\n      ","px,\n      -","px\n    );\n    opacity: 0;\n  "])),Xe*Fe,(Xe+1)*Be)},At=function(e){var t=e.count,n=e.onClick,r=e.className,o=i.useDarkMode().theme;return t?S.default.createElement("button",{onClick:n,className:a.cx(Lt,Wt[o],r)},t," more notification",t>1&&"s"):null},Ut=!1,Ft=a.css(Tt||(Tt=$(["\n  position: relative;\n"]))),Bt=a.css(wt||(wt=$(["\n  position: fixed;\n  display: flex;\n  flex-direction: column-reverse;\n\n  left: ","px;\n  bottom: ","px;\n  width: ","px;\n  max-height: calc(100vh - ","px);\n  z-index: 0;\n  overflow: unset;\n\n  // Hide the toast initially\n  min-height: ","px;\n  opacity: 0;\n  visibility: hidden;\n\n  perspective: 1600px;\n  perspective-origin: bottom;\n  transform-style: preserve-3d;\n  transition: ease-in-out ","ms;\n  transition-property: transform, bottom, opacity;\n\n  /* Scrollbars */\n  scroll-behavior: unset; // _not_ smooth. We need this to be instant\n  scrollbar-width: none; /* Firefox */\n  -ms-overflow-style: none; /* IE and old Edge */\n  &::-webkit-scrollbar {\n    display: none; /* Chrome, Safari and Opera */\n  }\n\n  /* Debug */\n  ","\n  ","\n"])),c.spacing[3]-Ue,c.spacing[3]-Ue,Le+2*Ue,c.spacing[3],0,c.transitionDuration.slower,Ut,Ut),Yt=a.css(Ct||(Ct=$(["\n  opacity: 1;\n  visibility: visible;\n"])));function Xt(e){var t=e.recentToastsLength,n=e.topToastHeight;return a.css(Et||(Et=$(["\n    // In the default state, the container is the height of the first toast + inset\n    height: ","px;\n\n    // Move the entire container up as toasts get added,\n    // so the bottom toast is always 16px from the bottom\n    // (note, recentToastsLength should never exceed 3 )\n    transform: translateY(\n      -","px\n    );\n  "])),n+2*Ue,Fe*(t-1))}var Vt=function(e){var t=e.totalStackHeight,n=e.bottomOffset+t+2*Ue;return a.css(Ot||(Ot=$(["\n    height: ","px;\n    // set the container back when hovered/expanded\n    transform: translateY(0);\n  "])),n)},_t=a.css(St||(St=$(["\n  // When expanded, force the height to 100vh regardless of the total stack height\n  height: 100vh;\n  bottom: 0;\n  transform: translateY(0);\n  overflow: auto;\n"]))),Gt=a.css(Dt||(Dt=$(["\n  bottom: ","px;\n"])),c.spacing[3]-Ue),Kt=a.css(jt||(jt=$(["\n  position: relative;\n  width: 100%;\n  height: 100%;\n  margin: 0;\n  transform-style: inherit;\n  transition: margin ","ms ease-in-out;\n\n  /* Debug */\n  ","\n"])),c.transitionDuration.default,Ut);function $t(e){return a.css(Nt||(Nt=$(["\n    margin: ","px 0;\n    height: ","px;\n  "])),c.spacing[3],e)}var Jt=a.css(Pt||(Pt=$(["\n  margin: 0;\n"])));function Qt(e){var t=e.state,n=e.theme,r=e.index;switch(t){case"entered":var o=r*Fe,i=-r*Be,s=g.mix(1-.2*r,Ve[n],m.palette.white);return a.css(qt||(qt=$(["\n        opacity: 1;\n        z-index: ",";\n        transform: translate3d(0, ","px, ","px) scale(1);\n        background-color: ",";\n        // Slow down any hover animations\n        transition-duration: ","ms;\n\n        ","\n      "])),3-r,o,i,s,c.transitionDuration.slower,Ut);case"exiting":return a.css(Mt||(Mt=$(["\n        opacity: 0;\n      "])));default:return a.css(Ht||(Ht=$(["\n        transform: translate3d(\n            0,\n            ","px,\n            -","px\n          )\n          scale(0.9);\n        opacity: 0;\n      "])),Fe,Be)}}function Zt(e){var t=e.theme,n=e.index,r=e.topToastHeight;return a.css(It||(It=$(["\n    max-height: ",";\n    color: "," !important;\n  "])),0===n?"unset":"".concat(r,"px"),n>0?Ve[t]:"initial")}function en(e){var t=e.positionY,n=e.height,r=e.theme;return a.css(zt||(zt=$(["\n    max-height: ","px;\n    background-color: ",";\n    transform: translate3d(0, -","px, 0);\n  "])),2*n,Ve[r],t)}var tn=100;function nn(e){return F.default((function(){setTimeout(e)}),tn)}var rn=["onClose","className"],an=s.createUniqueClassName("toast-portal"),on=function(e){var n,l=e.stack,u=e.portalClassName,d=hn(),f=d.popToast,p=d.getToast,h=o.useIdAllocator({id:"lg-toast-region"}),g=t.useRef(null),m=t.useRef(null),y=o.useDynamicRefs({prefix:"toast"}),b=i.useDarkMode().theme,v=J(t.useState(!1),2),x=v[0],k=v[1],T=function(){return k(!0)},w=function(){return k(!1)},C=J(o.useStateRef(!1),3),E=C[0],O=C[1],D=C[2],j=function(){return O(!0)},P=function(){return O(!1)},q=l.size>0,M=function(e){return Array.from(e).reduce((function(t,n,r){return e.size<=Xe||r>=e.size-Xe?t.recentToasts.push(n):t.remainingToasts.push(n),t}),{recentToasts:[],remainingToasts:[]})}(l),H=M.recentToasts,I=M.remainingToasts,z=E?[].concat(Q(I),Q(H)):H,L=x&&!E&&I.length>0,W=L?Ae+Ye:0,R=function(e){var n=e.stack,r=e.getToastRef,a=e.shouldExpand,o=t.useCallback((function(){return Array.from(n).reverse().reduce((function(e,t){var n=J(t,1)[0],a=r(n),o=0;if(null!=a&&a.current&&a.current.firstElementChild){var i=a.current.firstElementChild.clientHeight,s=2*c.spacing[2],l=a.current.clientHeight;o=Math.max(i+s,l+2)}return e[n]=o,e}),{})}),[r,n]),i=J(t.useState(o()),2),s=i[0],l=i[1],u=t.useCallback((function(e,t){if(n.size<=0)return 0;for(var r=0,a=0;a<n.size;a++){var o=J(Array.from(n).reverse()[a],1)[0];a>e&&(t||a<Xe)&&(r+=s[o]+Ye)}return r}),[n,s]),d=t.useMemo((function(){return u(-1,a)}),[u,a]),f=t.useCallback((function(){l(o())}),[o]),p=t.useMemo((function(){return F.default(f,100)}),[f]);return{toastHeights:s,totalStackHeight:d,calcHeightForIndex:u,updateToastHeights:p}}({stack:l,getToastRef:y,shouldExpand:E}),A=R.toastHeights,U=R.totalStackHeight,B=R.calcHeightForIndex,Y=R.updateToastHeights;t.useEffect(Y,[]);var X=null===(n=Array.from(l).reverse()[0])||void 0===n?void 0:n[0];o.useMutationObserver(g.current,{childList:!0,attributes:!0,subtree:!0},Y,l.size>0);var V=function(e){var n=e.getShouldExpand,r=e.exitCallback,a=e.enterCallback,o=J(t.useState(!1),2),i=o[0],s=o[1],l=t.useMemo((function(){return nn((function(){a(),s(n())}))}),[a,n]),c=t.useMemo((function(){return nn((function(){r(),s(n())}))}),[r,n]);return{isExpanded:i,setIsExpanded:s,handleTransitionExit:c,handleTransitionEnter:l}}({getShouldExpand:D,enterCallback:function(){g.current&&(g.current.scrollTop=U),D()&&Y()},exitCallback:function(){if(m.current){var e=m.current.matches(":hover");k(e)}D()&&Y()}}),$=V.isExpanded,Z=V.setIsExpanded,ee=V.handleTransitionExit,te=V.handleTransitionEnter,ne=function(){(x||D())&&Y()},re=function(){(x||D())&&Y()};o.useBackdropClick((function(){P(),Z(D())}),m,$&&l.size>0);var ae=t.useCallback((function(e,t){var n,r=p(e),a=y(e);r&&null!=a&&a.current&&(r.isControlled||f(e),null===(n=r.onClose)||void 0===n||n.call(r,null!=t?t:s.createSyntheticEvent(new Event("timeout"),a.current)))}),[p,y,f]);!function(e){var n=e.stack,r=e.isHovered,a=e.callback,o=t.useRef(new Map),i=null==n?void 0:n.size,s=t.useCallback((function(e,t){if(t&&!o.current.has(e)){var n=setTimeout((function(){a(e)}),t);o.current.set(e,n)}}),[a]),l=t.useCallback((function(e){e.forEach((function(e,t){var n=e.timeout,r=e.variant,a=e.progress;"progress"===r&&1!==a||s(t,n)}))}),[s]);function c(){o.current.forEach((function(e,t){e&&clearTimeout(e),o.current.delete(t)}))}t.useEffect((function(){return l(n),function(){return c()}}),[s,n,l,i]),t.useEffect((function(){return r?c():l(n),function(){return c()}}),[r,s,n,l,i])}({stack:l,isHovered:x,callback:ae});return S.default.createElement(N.default,{className:a.cx(Ft,an,u)},S.default.createElement("div",{ref:g,id:h,"data-testid":"lg-toast-region",role:"status","aria-live":"polite","aria-relevant":"all",onFocus:T,onBlur:w,onKeyDown:function(e){$&&e.key===s.keyMap.Escape&&P()},className:a.cx(Bt,_(_(_(_(_({},Yt,q),Xt({topToastHeight:A[X],recentToastsLength:H.length}),q),Vt({totalStackHeight:U,bottomOffset:W}),q&&(x||E)),_t,q&&$),Gt,$&&!E))},S.default.createElement("div",{ref:m,"data-testid":"lg-toast-scroll-container",onMouseEnter:T,onMouseLeave:w,className:a.cx(Kt,_(_({},$t(U),$),Jt,$&&!E))},S.default.createElement(r.TransitionGroup,{enter:!0,exit:!0,component:null},z.reverse().map((function(e,t){var n=J(e,2),o=n[0],i=n[1],s=i.onClose,l=i.className,u=K(i,rn),d=y(o);return s=function(e){return function(t){return ae(e,t)}}(o),S.default.createElement(r.Transition,{onEntering:ne,onEntered:te,onExiting:re,onExited:ee,key:o,timeout:c.transitionDuration.default},(function(e){return S.default.createElement(kt,G({},u,{id:o,ref:d,onClose:s,index:t,isHovered:x||E,className:a.cx(Qt({state:e,theme:b,index:t}),_(_({},Zt({theme:b,index:t,topToastHeight:A[X]}),!(x||E)),en({positionY:B(t,$)+W,height:A[o],theme:b}),x||E),l),description:u.description}))}))}))),S.default.createElement(r.Transition,{in:L&&!E,timeout:c.transitionDuration.slower},(function(e){return S.default.createElement(At,{count:I.length,onClick:j,className:Rt[e]})})))))},sn={pushToast:function(){return""},popToast:function(){},updateToast:function(){},getToast:function(){},getStack:function(){},clearStack:function(){}},ln=S.default.createContext(sn),cn=function(e){return e.Push="push",e.Pop="pop",e.Update="update",e.Clear="clear",e}({});function un(e){return X({id:function(e){var t;do{t="toast-"+(1e4*Math.random()).toFixed(0).padStart(4,"0")}while(void 0!==e);return t}()},e)}var dn=["id"],fn=function(e,t){switch(t.type){case cn.Push:var n=e.stack,r=t.payload,a=r.id,o=K(r,dn);return{stack:n.set(a,X(X({},ze),o))};case cn.Pop:var i=e.stack,s=t.payload;return i.get(s)&&i.delete(s),{stack:i};case cn.Update:var l=e.stack,c=t.payload,u=c.id,d=c.props,f=l.get(u);return f&&l.set(u,X(X({},f),d)),{stack:l};case cn.Clear:var p=e.stack;return p.clear(),{stack:p}}},pn=["stack"],hn=function(){var e=t.useContext(ln);return!U.default(e.getStack())||console.warn("`useToast` hook must be used within a `ToastProvider` context"),e};var gn=["open"];e.Toast=function(e){var n=e.open,r=K(e,gn);r=D.default(r,ze);var a=hn(),o=a.pushToast,i=a.popToast,s=a.updateToast,l=t.useRef(null),c=function(e){var n=t.useRef(e.onClose);n.current=e.onClose;var r=t.useCallback((function(){for(var e,t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return null===(e=n.current)||void 0===e?void 0:e.call.apply(e,[n].concat(r))}),[]),a=X(X({},e),{},{onClose:r}),o=t.useRef(null),i=o.current,s=null!=i&&B.default(a,i)?i:a;return o.current=s,s}(r);return t.useEffect((function(){var e=l.current;n?null==e?l.current=o(X({isControlled:!0},c)):s(e,c):!n&&e&&(i(e),l.current=null)}),[n,i,o,s,c]),t.useEffect((function(){return function(){null!=l.current&&i(l.current)}}),[i]),null},e.ToastProvider=function(e){var n=e.children,r=e.initialValue,a=e.portalClassName,o=function(e){var n=J(t.useReducer(fn,{stack:null!=e?e:new Map}),2),r=n[0].stack,a=n[1],o=t.useCallback((function(e){var t=un(e);return a({type:cn.Push,payload:t}),t.id}),[]),i=t.useCallback((function(e){return r.get(e)}),[r]),s=t.useCallback((function(e){var t=i(e);return a({type:cn.Pop,payload:e}),t}),[i]),l=t.useCallback((function(e,t){var n={type:cn.Update,payload:{id:e,props:t}};return a(n),fn({stack:r},n).stack.get(e)}),[r]),c=t.useCallback((function(){a({type:cn.Clear})}),[]);return t.useMemo((function(){return{pushToast:o,popToast:s,updateToast:l,getToast:i,clearStack:c,stack:r}}),[o,s,l,r,i,c])}(r),i=o.stack,s=K(o,pn),l=t.useCallback((function(){return i}),[i]),c=t.useMemo((function(){return X(X({},s),{},{getStack:l})}),[s,l]);return S.default.createElement(ln.Provider,{value:c},n,S.default.createElement(on,{stack:i,portalClassName:a}))},e.Variant=Ie,e.toastPortalClassName=an,e.useToast=hn}));
//# sourceMappingURL=index.js.map
