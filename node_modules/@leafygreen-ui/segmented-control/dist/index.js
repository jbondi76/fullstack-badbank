!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports,require("react"),require("lodash/isNull"),require("lodash/once"),require("prop-types"),require("@leafygreen-ui/emotion"),require("@leafygreen-ui/hooks"),require("@leafygreen-ui/leafygreen-provider"),require("@leafygreen-ui/lib"),require("@leafygreen-ui/typography"),require("polished"),require("@leafygreen-ui/palette"),require("@leafygreen-ui/tokens"),require("@leafygreen-ui/box"),require("@leafygreen-ui/icon")):"function"==typeof define&&define.amd?define(["exports","react","lodash/isNull","lodash/once","prop-types","@leafygreen-ui/emotion","@leafygreen-ui/hooks","@leafygreen-ui/leafygreen-provider","@leafygreen-ui/lib","@leafygreen-ui/typography","polished","@leafygreen-ui/palette","@leafygreen-ui/tokens","@leafygreen-ui/box","@leafygreen-ui/icon"],n):n((e="undefined"!=typeof globalThis?globalThis:e||self)["@leafygreen-ui/segmented-control"]={},e.React,e["/isNull"],e["/once"],e.PropTypes,e["@leafygreen-ui/emotion"],e["@leafygreen-ui/hooks"],e["@leafygreen-ui/leafygreen-provider"],e["@leafygreen-ui/lib"],e["@leafygreen-ui/typography"],e.polished,e["@leafygreen-ui/palette"],e["@leafygreen-ui/tokens"],e["@leafygreen-ui/box"],e["@leafygreen-ui/icon"])}(this,(function(e,n,t,r,a,o,i,l,s,u,c,d,f,p,g){"use strict";function h(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var v=h(n),m=h(t),b=h(r),y=h(a),x=h(p);function w(e){var n=function(e,n){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof n?n:n+""}function k(e,n,t){return(n=w(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function C(){return C=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},C.apply(this,arguments)}function S(e,n){if(null==e)return{};var t,r,a=function(e,n){if(null==e)return{};var t,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||(a[t]=e[t]);return a}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}function z(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}function O(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,a,o,i,l=[],s=!0,u=!1;try{if(o=(t=t.call(e)).next,0===n);else for(;!(s=(r=o.call(t)).done)&&(l.push(r.value),l.length!==n);s=!0);}catch(e){u=!0,a=e}finally{try{if(!s&&null!=t.return&&(i=t.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return E(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return E(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,n){n>e.length&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}var j,N,D,T,_,q,A,I,L,F,M,R,P="small",H={XSmall:"xsmall",Default:"default",Large:"large"},K=v.default.createContext({size:H.Default,theme:s.Theme.Light,name:"",followFocus:!0});var X,G,U=o.css(j||(j=z(["\n  display: flex;\n  gap: 8px;\n  align-items: center;\n  z-index: 0;\n  font-family: ",";\n"])),f.fontFamilies.default),V=o.css(N||(N=z(["\n  white-space: nowrap;\n"]))),W=k(k({},s.Theme.Light,o.css(D||(D=z(["\n    color: ",";\n  "])),d.palette.gray.dark1)),s.Theme.Dark,o.css(T||(T=z(["\n    color: ",";\n  "])),d.palette.gray.light1)),B=k(k(k({},H.XSmall,o.css(_||(_=z(["\n    --segment-gap: 1px; // space between segments\n    --wrapper-padding: 0px;\n    --indicator-height: 100%;\n    --outer-radius: 6px;\n    --indicator-radius: 6px;\n  "])))),H.Default,o.css(q||(q=z(["\n    --segment-gap: 5px; // space between segments\n    --indicator-height: calc(100% - 2 * var(--wrapper-padding));\n    --wrapper-padding: 3px;\n    --outer-radius: 8px;\n    --indicator-radius: 6px;\n  "])))),H.Large,o.css(A||(A=z(["\n    --segment-gap: 5px; // space between segments\n    --indicator-height: calc(100% - 2 * var(--wrapper-padding));\n    --outer-radius: 8px;\n    --wrapper-padding: 3px;\n    --indicator-radius: 6px;\n  "])))),$=k(k({},s.Theme.Light,o.css(I||(I=z(["\n    --background-color: ",";\n    --inner-shadow: 0px 1px 2px "," inset;\n    --outer-shadow: 0px 1px 1px ",";\n    --hover-background-color: ",";\n    --indicator-background-color: ",";\n    --indicator-border-color: ",";\n  "])),d.palette.gray.light3,c.transparentize(.7,d.palette.black),d.palette.gray.light2,d.palette.white,d.palette.black,d.palette.black)),s.Theme.Dark,o.css(L||(L=z(["\n    --background-color: ",";\n    --border-color: rgba(255, 255, 255, 0);\n    --inner-shadow: 0px 0px 0px 1px "," inset;\n    --outer-shadow: 0px 0px 0px 0px rgba(255, 255, 255, 0);\n    --hover-background-color: ",";\n    --indicator-background-color: ",";\n    --indicator-border-color: ",";\n  "])),d.palette.gray.dark4,d.palette.gray.dark1,d.palette.gray.dark3,d.palette.gray.light2,d.palette.gray.light2)),J=function(e){var n=e.theme,t=e.size,r=void 0===t?"default":t;return o.cx(B[r],$[n],o.css(F||(F=z(["\n      position: relative;\n      display: grid;\n      grid-auto-flow: column;\n      grid-auto-columns: minmax(\n        0,\n        1fr\n      ); // allows the grid tracks to be as small as 0 but as large as 1fr, creating columns that will stay equal\n      gap: var(--segment-gap);\n      align-items: center;\n      padding: var(--wrapper-padding);\n      border-radius: var(--outer-radius);\n      background-color: var(--background-color);\n\n      &:focus {\n        outline: none;\n      }\n\n      // Frame shadow\n      &:after {\n        content: '';\n        position: absolute;\n        width: 100%;\n        height: 100%;\n        border-radius: inherit;\n        box-shadow: var(--inner-shadow), var(--outer-shadow);\n        z-index: 1;\n        pointer-events: none;\n      }\n    "]))))},Q=o.css(M||(M=z(["\n  position: absolute;\n  width: 100%;\n  height: var(--indicator-height);\n  z-index: 2;\n  border-radius: var(--indicator-radius);\n  background-color: var(--indicator-background-color);\n  transition: transform ","ms ease-in-out;\n"])),f.transitionDuration.default),Y=o.css(R||(R=z(["\n  position: absolute;\n  height: var(--indicator-height);\n  width: 100%;\n  border-radius: var(--indicator-radius);\n  background-color: var(--hover-background-color);\n  z-index: 0;\n  opacity: 0;\n  transition: opacity 100ms ease-in-out;\n"]))),Z=["children","name","size","darkMode","defaultValue","value","onChange","className","label","followFocus","aria-controls"],ee=n.forwardRef((function(e,t){var r,a,c=e.children,d=e.name,f=e.size,p=void 0===f?H.Default:f,g=e.darkMode,h=e.defaultValue,b=e.value,y=e.onChange,x=e.className,w=e.label,k=e.followFocus,E=void 0===k||k,j=e["aria-controls"],N=S(e,Z),D=l.useUsingKeyboardContext().usingKeyboard,T=n.useRef(null),_=O(n.useState(!1),2),q=_[0],A=_[1],I=l.useDarkMode(g).theme,L=i.useDynamicRefs({prefix:"option"}),F=i.useIdAllocator({prefix:"segmented-control",id:d}),M=n.useMemo((function(){return null!=b}),[b]),R=O(n.useState(null!=h?h:b),2),B=R[0],$=R[1],ee=O(n.useState(null!=h?h:b),2),ne=ee[0],te=ee[1];r=function(){var e=v.default.Children.toArray(c)[0];!B&&s.isComponentType(e,"SegmentedControlOption")&&($(e.props.value),te(e.props.value))},a=n.useRef(!1),n.useEffect((function(){a.current||(a.current=!0,r())}),[r]);var re=n.useCallback((function(){var e;null!==(e=T.current)&&void 0!==e&&e.contains(document.activeElement)?A(!0):A(!1)}),[]);n.useEffect((function(){return document.addEventListener("focusin",re),function(){document.removeEventListener("focusin",re)}}),[re]),n.useEffect((function(){M&&$(b)}),[b,M]);var ae=n.useCallback((function(e){B!==e&&($(e),null==y||y(e))}),[B,y]),oe=n.useMemo((function(){return v.default.Children.map(c,(function(e,n){var t,r;if(null==e)return e;if(!s.isComponentType(e,"SegmentedControlOption"))return he("Error in Segmented Control: ".concat(e," is not a SegmentedControlOption")),e;j||e.props["aria-controls"]||ve("The property `aria-controls` is required on each Segmented Control option, or on the Segmented Control parent.");var a=null!==(t=e.props.id)&&void 0!==t?t:"".concat(F,"-").concat(n),o=M?e.props.value===b||!!e.props.checked:e.props.value===B,i=e.props.value===ne;return v.default.cloneElement(e,{_id:a,_checked:o,_focused:i,_index:n,"aria-controls":null!==(r=e.props["aria-controls"])&&void 0!==r?r:j,_onClick:ae,_onHover:function(e){ue(e?n:null)},ref:L("".concat(n)),isfocusInComponent:q})}))}),[c,M,b,B,ne,F,j,ae,L,q]),ie=n.useMemo((function(){if(oe){var e,n=null===(e=v.default.Children.map(oe,(function(e){var n;return null==e||null===(n=e.props)||void 0===n?void 0:n._id})))||void 0===e?void 0:e.join(" ");return null!=n?n:""}return""}),[oe]),le=O(n.useState(null),2),se=le[0],ue=le[1],ce=n.useMemo((function(){return v.default.Children.toArray(oe).findIndex((function(e){return M?e.props.value===b:e.props.value===B}))}),[b,M,oe,B]),de=n.useMemo((function(){return v.default.Children.toArray(oe).findIndex((function(e){return e.props.value===ne}))}),[oe,ne]),fe=function(e){var n=v.default.Children.toArray(oe).filter((function(e){return!e.props.disabled})),t=n.length,r=n[e=e>=t?e%t:e<0?t+e:e].props.value;te(r)};n.useEffect((function(){D||te(B)}),[B,D]);var pe=n.useCallback((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(m.default(e))return o.css(X||(X=z(["\n          width: 0;\n        "])));var n=1/v.default.Children.count(oe)*100,t=100*e;return o.css(G||(G=z(["\n        opacity: 1;\n        width: calc(","% - 2 * var(--wrapper-padding));\n        transform: translateX(\n          calc(","% + "," * var(--wrapper-padding))\n        );\n      "])),n,t,2*e+1)}),[oe]),ge=p===P?H.XSmall:p;return v.default.createElement(K.Provider,{value:{size:ge,theme:I,name:F,followFocus:E}},v.default.createElement("div",C({ref:T,className:o.cx(U,x)},N),w&&v.default.createElement(u.Overline,{className:o.cx(V,W[I])},w),v.default.createElement("div",{role:"tablist","aria-label":F,"aria-owns":ie,className:o.cx(J({theme:I,size:ge})),ref:t,onKeyDownCapture:function(e){switch(e.stopPropagation(),e.key){case"ArrowRight":fe(de+1);break;case"ArrowLeft":fe(de-1)}}},oe,v.default.createElement("div",{className:o.cx(Q,pe(ce))}),v.default.createElement("div",{className:o.cx(Y,pe(se))}))))}));ee.displayName="SegmentedControl";var ne,te,re,ae,oe,ie,le,se,ue,ce,de,fe,pe,ge,he=b.default(console.error),ve=b.default(console.warn);ee.propTypes={darkMode:y.default.bool,size:y.default.oneOf(Object.values(H)),onChange:y.default.func,defaultValue:y.default.string,value:y.default.string,label:y.default.node,name:y.default.string,followFocus:y.default.bool,className:y.default.string};var me=k(k({},s.Theme.Light,o.css(ne||(ne=z(["\n    --base-text-color: ",";\n    --base-background-color: rgba(255, 255, 255, 0);\n    --base-shadow-color: rgba(255, 255, 255, 0);\n    // Hover\n    --hover-text-color: ",";\n    // Selected\n    --active-text-color: ",";\n    // Disabled\n    --disabled-text-color: ",";\n    // Divider\n    --divider-background-color: ",";\n  "])),d.palette.gray.dark1,d.palette.gray.dark3,d.palette.white,d.palette.gray.light1,d.palette.gray.light1)),s.Theme.Dark,o.css(te||(te=z(["\n    --base-text-color: ",";\n    --base-background-color: rgba(255, 255, 255, 0);\n    --base-shadow-color: rgba(255, 255, 255, 0);\n    // Hover\n    --hover-text-color: ",";\n    // Selected\n    --active-text-color: ",";\n    // Disabled\n    --disabled-text-color: ",";\n    // Divider\n    --divider-background-color: ",";\n  "])),d.palette.gray.light1,d.palette.gray.light2,d.palette.black,d.palette.gray.dark2,d.palette.gray.dark2)),be=k(k(k({},H.XSmall,o.css(re||(re=z(["\n    --font-size: 12px;\n    --line-height: 16px;\n    --padding-inline: 12px;\n    --text-transform: uppercase;\n    --font-weight: ",";\n    --divider-height: 12px;\n    --padding-block: 3px;\n  "])),f.fontWeights.bold)),H.Default,o.css(ae||(ae=z(["\n    --font-size: 13px;\n    --line-height: 24px;\n    --padding-inline: 12px; // left/right\n    --text-transform: none;\n    --font-weight: ",";\n    --divider-height: 18px;\n    --padding-block: 3px;\n  "])),f.fontWeights.medium)),H.Large,o.css(oe||(oe=z(["\n    --font-size: 16px;\n    --line-height: 28px;\n    --padding-inline: 12px;\n    --text-transform: none;\n    --font-weight: ",";\n    --divider-height: 20px;\n    --padding-block: 4px;\n  "])),f.fontWeights.medium)),ye=function(e){var n=e.theme,t=e.size,r=void 0===t?"default":t,a=e.baseFontSize,i=void 0===a?14:a;return o.cx(me[n],be[r],o.css(ie||(ie=z(["\n      position: relative;\n      display: flex;\n      width: 100%;\n      align-items: center;\n      justify-content: center;\n      z-index: 3;\n\n      &:first-child,\n      &[data-lg-checked='true'],\n      &[data-lg-checked='true'] + [data-lg-checked='false'],\n      &:focus-within + :not(:focus-within) {\n        --divider-background-color: transparent;\n      }\n\n      /* \n      * Adds the divider line to unselected segments \n      */\n      &:before {\n        --divider-width: 1px;\n        content: '';\n        position: absolute;\n        height: var(--divider-height);\n        width: var(--divider-width);\n        left: calc(0px - (var(--segment-gap) + var(--divider-width)) / 2);\n        top: calc(\n          (\n              var(--line-height) + var(--padding-block) * 2 -\n                var(--divider-height)\n            ) / 2\n        );\n        transition: background-color ","ms ease-in-out;\n        background-color: var(--divider-background-color);\n      }\n    "])),f.transitionDuration.default),k({},o.css(le||(le=z(["\n        --font-size: 16px;\n      "]))),"default"===r&&16===i))},xe=o.css(se||(se=z(["\n  width: 100%;\n  height: 100%;\n  text-decoration: none;\n"]))),we=o.css(ue||(ue=z(["\n  font-family: ",";\n  display: flex;\n  position: relative;\n  width: 100%;\n  height: 100%;\n  align-items: center;\n  justify-content: center;\n  padding: var(--padding-block) var(--padding-inline);\n  background-color: var(--base-background-color);\n  border-radius: var(--indicator-radius);\n  text-align: center;\n  font-size: var(--font-size);\n  line-height: var(--line-height);\n  text-transform: var(--text-transform, none);\n  font-weight: var(--font-weight);\n  color: var(--base-text-color);\n  box-shadow: 0px 1px 2px var(--base-shadow-color);\n  cursor: pointer;\n  transition: ","ms ease-in-out;\n  transition-property: color, box-shadow;\n  text-decoration: none;\n  outline: none;\n  border: none;\n\n  svg {\n    transition: color ","ms ease-in-out;\n  }\n\n  &:hover {\n    color: var(--hover-text-color);\n  }\n\n  &[aria-selected='true'] {\n    color: var(--active-text-color);\n  }\n\n  &:disabled {\n    color: var(--disabled-text-color);\n    cursor: not-allowed;\n  }\n\n  &[aria-selected='false']:not(:disabled):not(:hover) {\n    svg {\n      color: ",";\n    }\n  }\n"])),f.fontFamilies.default,f.transitionDuration.default,f.transitionDuration.default,d.palette.gray.base),ke=o.css(ce||(ce=z(["\n  &[aria-selected='false']:not(:disabled):not(:hover) {\n    svg {\n      color: var(--base-text-color);\n    }\n  }\n"]))),Ce=k(k({},s.Theme.Light,o.css(de||(de=z(["\n    &:focus {\n      box-shadow: ",";\n    }\n  "])),f.focusRing.light.default)),s.Theme.Dark,o.css(fe||(fe=z(["\n    &:focus {\n      box-shadow: ",";\n    }\n  "])),f.focusRing.dark.default)),Se=o.css(pe||(pe=z(["\n  min-height: var(--line-height);\n  gap: calc(var(--font-size) / 2);\n  display: flex;\n  align-items: center;\n  min-width: 0;\n\n  svg {\n    flex-shrink: 0;\n  }\n"]))),ze=o.css(ge||(ge=z(["\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n"]))),Oe=["value","children","disabled","as","className","aria-controls","_id","_checked","_focused","_index","_onClick","_onHover","isfocusInComponent","glyph"],Ee=n.forwardRef((function(e,t){var r,a=e.value,i=e.children,s=e.disabled,u=void 0!==s&&s,c=e.as,d=e.className,f=e["aria-controls"],p=e._id,h=e._checked,m=e._focused;e._index;var b=e._onClick,y=e._onHover,w=e.isfocusInComponent,z=e.glyph,O=S(e,Oe),E=n.useContext(K),j=E.size,N=E.theme,D=E.followFocus,T=l.useUsingKeyboardContext().usingKeyboard,_=l.useBaseFontSize(),q=n.useRef(!1),A=n.useRef(null);n.useEffect((function(){var e,n;q.current&&(T&&m&&w&&(null==A||null===(e=A.current)||void 0===e||e.focus(),D&&(null==A||null===(n=A.current)||void 0===n||n.click())));q.current=!0}),[m,D,T,w]),n.useEffect((function(){z&&!g.isComponentGlyph(z)&&console.warn("Please provide a LeafyGreen UI Icon or Glyph component.")}),[z]);var I=null!==(r=z&&!i)&&void 0!==r&&r;return v.default.createElement("div",{className:o.cx(ye({theme:N,size:j,baseFontSize:_}),d),ref:t,"data-lg-checked":h},v.default.createElement(x.default,C({as:c,tabIndex:-1,className:xe},O),v.default.createElement("button",{role:"tab",id:p,tabIndex:m?0:-1,"aria-selected":h,"aria-controls":f,disabled:u,className:o.cx(we,k(k({},Ce[N],T),ke,I)),ref:A,onClick:function(){null==b||b(a)},onMouseEnter:function(){null==y||y(!0)},onMouseLeave:function(){null==y||y(!1)},type:"button"},v.default.createElement("div",{className:Se},z&&g.isComponentGlyph(z)&&z,!I&&v.default.createElement("span",{className:ze},i)))))}));Ee.displayName="SegmentedControlOption",Ee.propTypes={value:y.default.string.isRequired,className:y.default.string,disabled:y.default.bool,glyph:y.default.element},e.SegmentedControl=ee,e.SegmentedControlOption=Ee}));
//# sourceMappingURL=index.js.map
